/**
@license
DayPilot Pro for ASP.NET MVC 2020.2.6016
Copyright (c) 2005 - 2020 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(DayPilot){if(typeof DayPilot.Gantt!=='undefined'){return;};var $a=function(){};DayPilot.Gantt=function(id,$b){this.v='2020.2.6016';var $c=this;this.id=id;this.isGantt=true;var $d=new DayPilot.Scheduler(id);this.scheduler=$d;$d.viewType="Resources";$d.onCallBackHeader=function($e){$e.header.taskGroupMode=$c.taskGroupMode;$e.header.rowHeaderColumns=$c.columns;$e.header.clientState=$c.clientState;};$d.onGetNodeState=function($e){var $f=function($g){var $h={};if($g.tags){for(var name in $g.tags){$h[name]=""+$g.tags[name];}};return $h;};var $i=function($j){var $g=$j.task;var $h={};$h.start=$g.start;$h.end=$g.end;$h.id=$g.id;$h.complete=$g.complete;$h.text=$g.text;$h.type=$g.type;$h.expanded=$j.expanded;$h.loaded=$j.loaded;$h.tags=$f($g);$h.versions=$g.versions;$h.children=$d.internal.getNodeChildren($j.children);return $h;};$e.result=$i($e.row);$e.preventDefault();};$d.$0E=function($k){};$d.onCallBackResult=function($e){var $h=$e.result;$e.preventDefault();var $l=function(){if($h.scrollToTaskId){$d.scrollToResource($h.scrollToTaskId);}};if($h.updateType==="None"){$l();return;};var $m=function($n){for(var i=0;i<$n.length;i++){var name=$n[i];if(typeof $h[name]!=="undefined"){$c[name]=$h[name];}}};$c.links.list=$h.links;$c.tasks.list=$h.tasks;$c.startDate=new DayPilot.Date($h.startDate);$m(['days','cellDuration','cellGroupBy','cellWidth','cellWidthSpec','cornerHtml','separators','rowMinHeight','rowMarginBottom','taskGroupMode','selectedRows']);$m(['cellProperties','cellConfig','timeHeader','timeHeaders','timeline','columns']);$o.translate();$o.$0F();$o.$0G();$d.update();$d.show();$l();};this.taskGroupMode="Auto";this.autoRefreshCommand="refresh";this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.autoScroll="Drag";if(typeof DayPilot.Bubble==="function"){this.bubbleTask=new DayPilot.Bubble();this.bubbleCell=new DayPilot.Bubble();this.bubbleRow=new DayPilot.Bubble();}else{this.bubbleTask=null;this.bubbleCell=null;this.bubbleRow=null;};this.cellDuration=1440;this.cellGroupBy="Month";this.cellWidth=40;this.cellWidthSpec="Fixed";this.completeBarVisible=true;this.completeBarHeight=3;this.contextMenuTask=null;this.contextMenuRow=null;this.contextMenuLink=null;this.cornerHtml='';this.crosshairType='Header';this.doubleClickTimeout=300;this.progressiveTaskRendering='Progressive';this.progressiveTaskRenderingMargin=500;this.progressiveTaskRenderingCacheSweeping=false;this.progressiveTaskRenderingCacheSize=200;this.floatingTasks=true;this.floatingTimeHeaders=true;this.headerHeight=30;this.height=300;this.heightSpec="Max";this.hideUntilInit=false;this.linkBottomMargin=17;this.linkPointSize=10;this.loadingLabelVisible=true;this.loadingLabelText="Loading...";this.locale="en-us";this.messageBarPosition="Top";this.messageHideAfter=5000;this.progressiveRowRendering=true;this.progressiveRowRenderingPreload=25;this.rowHeaderScrolling=false;this.rowHeaderSplitterWidth=3;this.rowHeaderHideIconEnabled=true;this.rowHeaderWidth=80;this.rowHeaderWidthAutoFit=true;this.rowMarginBottom=4;this.rowMinHeight=0;this.scrollDelayTasks=200;this.scrollDelayCells=20;this.scrollDelayFloats=0;this.scale="Day";this.selectedRows=[];this.snapToGrid=true;this.syncTasks=true;this.syncLinks=true;this.tapAndHoldTimeout=300;this.taskHeight=34;this.taskHtmlLeftMargin=20;this.taskHtmlRightMargin=20;this.taskResizeMargin=5;this.taskMovingStartEndEnabled=false;this.taskMovingStartEndFormat="MMMM d, yyyy";this.taskResizingStartEndEnabled=false;this.taskResizingStartEndFormat="MMMM d, yyyy";this.theme="gantt_default";this.treeAnimation=true;this.treeAutoExpand=true;this.treeIndent=20;this.treeImageMarginLeft=5;this.treeImageMarginTop=3;this.treeImageMarginRight=2;this.treeImageWidth=10;this.treeImageHeight=10;this.timeline=null;this.timeHeaders=[{"groupBy":"Month","format":"MMMM yyyy"},{"groupBy":"Day","format":"d"}];this.useEventBoxes="Never";this.visible=true;this.taskVersionsEnabled=false;this.taskVersionHeight=24;this.taskVersionMargin=2;this.taskVersionPosition="Above";this.taskMoveHandling="Update";this.taskClickHandling="Enabled";this.taskResizeHandling="Update";this.linkCreateHandling="Update";this.taskRightClickHandling="ContextMenu";this.taskDoubleClickHandling="Disabled";this.tasksLoadMethod="GET";this.rowCreateHandling="Disabled";this.rowMoveHandling="Update";this.rowClickHandling="Disabled";this.rowDoubleClickHandling="Disabled";this.rowEditHandling="Update";this.rowSelectHandling="Update";this.clientState={};this.separators=[];this.members={};this.members.obsolete=[];this.members.ignore=["members","scheduler","internal","cellProperties"];this.members.noCssOnly=[];this.links={};this.links.list=[];this.links.add=function(link){if(!link){return;};var $p=link.isLink?link.data:link;$c.links.list.push($p);if($c.$0H){$o.$0G();$d.update();};$c.$0I.notify();};this.links.remove=function(link){if(!link){return;};var $p;if(link.isLink){$p=link.data;}else{$p=link;};var $q=DayPilot.indexOf($c.links.list,$p);if($q===-1){return;};$c.links.list.splice($q,1);if($c.$0H){$o.$0G();$d.update();};$c.$0I.notify();};this.links.find=function(id){if(!DayPilot.isArray($c.links.list)){return null;};for(var i=0;i<$c.links.list.length;i++){var link=$c.links.list[i];if(link.id===id){return new DayPilot.Link(link,$c);}};return null;};this.links.findByFromTo=function($r,to){if(!DayPilot.isArray($c.links.list)){return null;};for(var i=0;i<$c.links.list.length;i++){var link=$c.links.list[i];if(link.from===$r&&link.to===to){return new DayPilot.Link(link,$c);}};return null;};this.links.load=function($s,$t,$u){$d.links.load($s,function($e){if(typeof $t==="function"){$t($e);if($e.preventDefault.value){return;}};$c.links.list=$e.data;},$u,{"dontAddStartEnd":true});};this.$0J={};var $v=this.$0J;$v.timeout=null;$v.update=function(){if(!$c.$0H){return;};window.clearTimeout($v.timeout);$v.timeout=setTimeout(function(){$o.$0F();$d.update();},0);};this.tasks={};this.tasks.list=[];this.tasks.add=function($g){if(!$g){return;};if($g instanceof DayPilot.Event){throw "DayPilot.Task object required. You have supplied DayPilot.Event.";};var $p=$g.isTask?$g.data:$g;$c.tasks.list.push($p);$v.update();$c.$0I.notify();};this.tasks.find=function(id){var $p=$w.findInCache(id);if(!$p){return null;};return new DayPilot.Task($p,$c);};this.tasks.update=function($g){if(!$g){return;};if(!$g.isTask){throw "DayPilot.Task object expected";};$g.commit();$v.update();$c.$0I.notify();};this.tasks.remove=function($g){if(!$g){return;};if(!$g.isTask){throw "DayPilot.Task object expected";};var $x=$w.findParentArray($g.data);if(!$x){return;};var $y=DayPilot.indexOf($x,$g.data);$x.splice($y,1);$v.update();$c.$0I.notify();};this.tasks.load=function($s,$t,$u){if(!$s){throw new DayPilot.Exception("events.load(): 'url' parameter required");};var $z=function($e){var $A={};$A.exception=$e.exception;$A.request=$e.request;if(typeof $u==='function'){$u($A);}};var $B=function($e){var r=$e.request;var $p;try{$p=JSON.parse(r.responseText);}catch(e){var $C={};$C.exception=e;$z($C);return;};if(DayPilot.isArray($p)){var $D={};$D.preventDefault=function(){this.preventDefault.value=true;};$D.data=$p;if(typeof $t==="function"){$t($D);};if($D.preventDefault.value){return;};$c.tasks.list=$p;if($c.$0H){$c.update();}}};var $E=$c.tasksLoadMethod&&$c.tasksLoadMethod.toUpperCase()==="POST";if($E){DayPilot.ajax({"method":"POST","contentType":"application/json","url":$s,"success":$B,"error":$z});}else{var $F=$s;DayPilot.ajax({"method":"GET","url":$F,"success":$B,"error":$z});}};this.visibleStart=function(){return $d.visibleStart();};this.visibleEnd=function(){return $d.visibleEnd();};this.onAfterRender=null;this.onAfterUpdate=null;this.onBeforeRowHeaderRender=null;this.onBeforeTaskRender=null;this.onBeforeTimeHeaderRender=null;this.onBeforeCellRender=null;this.onBeforeCornerRender=null;this.onTaskClick=null;this.onTaskClicked=null;this.onTaskDoubleClick=null;this.onTaskDoubleClicked=null;this.onTaskRightClick=null;this.onTaskRightClicked=null;this.onRowCreate=null;this.onRowCreated=null;this.onRowMove=null;this.onRowMoved=null;this.onRowMoving=null;this.onRowClick=null;this.onRowClicked=null;this.onRowDoubleClick=null;this.onRowDoubleClicked=null;this.onRowEdit=null;this.onRowEdited=null;this.onRowSelect=null;this.onRowSelected=null;this.onTaskMove=null;this.onTaskMoved=null;this.onTaskMoving=null;this.onTaskResize=null;this.onTaskResized=null;this.onTaskResizing=null;this.onLinkCreate=null;this.onLinkCreated=null;this.$0K=function(){if(this.backendUrl){return true;};if(typeof WebForm_DoCallback==='function'&&this.uniqueID){return true;};return false;};this.$0L=function(){if(typeof $c.startDate==="string"){$c.startDate=new DayPilot.Date($c.startDate);};if($c.startDate&&$c.days){return;};var $G=DayPilot.Date.today();var end=$G.addDays(1);var $H=null;var $I=null;for(var i=0;i<$c.tasks.list.length;i++){var e=$c.tasks.list[i];$G=new DayPilot.Date(e.start);end=new DayPilot.Date(e.end);if($H===null||$G.getTime()<$H){$H=$G.getTime();};if($I===null||end.getTime()>$I){$I=end.getTime();}};if($H&&$I){$G=new DayPilot.Date($H).getDatePart();end=new DayPilot.Date($I).getDatePart().addDays(1);$d.startDate=$c.startDate||$G;$d.days=$c.days||DayPilot.DateUtil.daysDiff($G,end);}else{$d.startDate=$G;$d.days=30;}};this.commandCallBack=function($J,$p){$o.translate();$d.commandCallBack($J,$p);};this.message=function($K,$L,$M,$N){$d.message($K,$L,$M,$N);};this.setHeight=function($O){$d.setHeight($O);};this.$0M=function(){return !!this.backendUrl;};this.init=function(){if(this.$0H){throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.")};$o.translate();$o.$0F();$o.$0G();this.$0L();$d.init();this.$0H=true;this.$0N();return this;};this.$0O=false;this.dispose=function(){$d.dispose();$c.$0O=true;};this.update=function($b){if($c.$0O){throw new DayPilot.Exception("This DayPilot.Gantt instance has been disposed.");};$c.$0P($b);$o.translate();$o.$0F();$o.$0G();$c.$0L();$d.update();};this.scrollTo=function($P){$d.scrollTo($P);};this.scrollToTask=function(id){$d.scrollToResource(id);};this.$0Q={};var $w=this.$0Q;$w.cache={};$w.clearCache=function(){$w.cache={};};$w.addToCache=function($p,parent){var $Q=$p.id;if(!$Q){return;};var $R={};$R.isTaskWrapper=true;$R.data=$p;$R.parent=parent;if($w.cache[$Q]){throw "Duplicate task id detected";};$w.cache[$Q]=$R;};$w.findInCache=function(id){if(!id){return null;};return $w.cache[id.toString()];};$w.getProperty=function($g,name){if($g.tags&&$g.tags[name]){return $g.tags[name];};return $g[name];};$w.findParentArray=function($S){return $w.findInArray($c.tasks.list,$S);};$w.findInArray=function($T,$S){if(DayPilot.indexOf($T,$S)!==-1){return $T;};for(var i=0;i<$T.length;i++){var r=$T[i];if(r.children&&r.children.length>0){var parent=$w.findInArray(r.children,$S);if(parent){return parent;}}};return null;};this.$0R={};var $o=this.$0R;var $U=function(p,$V){if(typeof p!=="undefined"){return p;};return $V;};$o.translate=function(){$d.internal.gantt=$c;$d.durationBarMode="PercentComplete";$d.timeRangeSelectedHandling="Disabled";$d.treeEnabled=true;$d.rowCreateHtml="";$d.rowHeaderColumnsMode="Legacy";$d.autoRefreshCommand=$c.autoRefreshCommand;$d.autoRefreshEnabled=$c.autoRefreshEnabled;$d.autoRefreshInterval=$c.autoRefreshInterval;$d.autoRefreshMaxCount=$c.autoRefreshMaxCount;$d.autoScroll=$c.autoScroll;$d.backendUrl=$c.backendUrl;$d.crosshairType=$c.crosshairType;$d.doubleClickTimeout=$c.doubleClickTimeout;$d.durationBarVisible=$c.completeBarVisible;$d.durationBarHeight=$c.completeBarHeight;$d.dynamicEventRendering=$c.progressiveTaskRendering;$d.dynamicEventRenderingMargin=$c.progressiveTaskRenderingMargin;$d.dynamicEventRenderingCacheSweeping=$c.progressiveTaskRenderingCacheSweeping;$d.dynamicEventRenderingCacheSize=$c.progressiveTaskRenderingCacheSize;$d.startDate=new DayPilot.Date($c.startDate);$d.days=$c.days;$d.cellDuration=$c.cellDuration;$d.cellGroupBy=$c.cellGroupBy;$d.cellWidth=$c.cellWidth;$d.cellWidthSpec=$c.cellWidthSpec;$d.cornerHtml=$c.cornerHtml;$d.eventHeight=$c.taskHeight;$d.eventResizeMargin=$c.taskResizeMargin;$d.floatingEvents=$c.floatingTasks;$d.floatingTimeHeaders=$c.floatingTimeHeaders;$d.headerHeight=$c.headerHeight;$d.heightSpec=$c.heightSpec;$d.height=$c.height;$d.linkBottomMargin=$c.linkBottomMargin;$d.linkPointSize=$c.linkPointSize;$d.loadingLabelVisible=$c.loadingLabelVisible;$d.loadingLabelText=$c.loadingLabelText;$d.locale=$c.locale;$d.messageBarPosition=$c.messageBarPosition;$d.messageHideAfter=$c.messageHideAfter;$d.rowCreateHandling=$c.rowCreateHandling;$d.progressiveRowRendering=$c.progressiveRowRendering;$d.progressiveRowRenderingPreload=$c.progressiveRowRenderingPreload;$d.scale=$c.scale;$d.scrollDelayEvents=$c.scrollDelayTasks;$d.scrollDelayCells=$c.scrollDelayCells;$d.scrollDelayFloats=$c.scrollDelayFloats;$d.scrollX=$c.scrollX;$d.scrollY=$c.scrollY;if($c.scrollToTaskId){$d.scrollToResourceId=$c.scrollToTaskId;};$d.separators=$c.separators;$d.tapAndHoldTimeout=$c.tapAndHoldTimeout;$d.eventHtmlLeftMargin=$c.taskHtmlLeftMargin;$d.eventHtmlRightMargin=$c.taskHtmlRightMargin;$d.eventMovingStartEndEnabled=$c.taskMovingStartEndEnabled;$d.eventMovingStartEndFormat=$c.taskMovingStartEndFormat;$d.eventResizingStartEndEnabled=$c.taskResizingStartEndEnabled;$d.eventResizingStartEndFormat=$c.taskResizingStartEndFormat;$d.hideUntilInit=$c.hideUntilInit;$d.treeIndent=$c.treeIndent;$d.treeAnimation=$c.treeAnimation;$d.treeAutoExpand=$c.treeAutoExpand;$d.treeImageMarginLeft=$c.treeImageMarginLeft;$d.treeImageMarginTop=$c.treeImageMarginTop;$d.treeImageMarginRight=$c.treeImageMarginRight;$d.treeImageWidth=$c.treeImageWidth;$d.treeImageHeight=$c.treeImageHeight;$d.timeHeaders=$c.timeHeaders;$d.rowHeaderHideIconEnabled=$c.rowHeaderHideIconEnabled;$d.rowHeaderScrolling=$c.rowHeaderScrolling;$d.rowHeaderSplitterWidth=$c.rowHeaderSplitterWidth;$d.rowHeaderWidth=$c.rowHeaderWidth;$d.rowHeaderWidthAutoFit=$c.rowHeaderWidthAutoFit;$d.rowMarginBottom=$c.rowMarginBottom;$d.rowMinHeight=$c.rowMinHeight;$d.selectedRows=$c.selectedRows;$d.theme=$c.theme;$d.useEventBoxes=$c.useEventBoxes;$d.snapToGrid=$c.snapToGrid;$d.uniqueID=$c.uniqueID;$d.bubble=$c.bubbleTask;$d.cellBubble=$c.bubbleCell;$d.resourceBubble=$c.bubbleRow;$d.contextMenu=$c.contextMenuTask;$d.contextMenuResource=$c.contextMenuRow;$d.contextMenuLink=$c.contextMenuLink;$d.syncResourceTree=$c.syncTasks;$d.syncLinks=$c.syncLinks;$d.timeline=$c.timeline;$d.visible=$c.visible;$d.devsb=$c.devsb;$d.eventMoveHandling=$c.taskMoveHandling;$d.eventClickHandling=$c.taskClickHandling;$d.eventResizeHandling=$c.taskResizeHandling;$d.linkCreateHandling=$c.linkCreateHandling;$d.eventRightClickHandling=$c.taskRightClickHandling;$d.eventDoubleClickHandling=$c.taskDoubleClickHandling;$d.rowMoveHandling=$c.rowMoveHandling;$d.rowClickHandling=$c.rowClickHandling;$d.rowDoubleClickHandling=$c.rowDoubleClickHandling;$d.rowEditHandling=$c.rowEditHandling;$d.rowSelectHandling=$c.rowSelectHandling;$d.eventVersionsEnabled=$c.taskVersionsEnabled;$d.eventVersionHeight=$c.taskVersionHeight;$d.eventVersionMargin=$c.taskVersionMargin;$d.eventVersionPosition=$c.taskVersionPosition;if(DayPilot.isArray($c.columns)){$d.rowHeaderColumns=[];for(var i=0;i<$c.columns.length;i++){var c=$c.columns[i];var $W={};DayPilot.Util.copyProps(c,$W,['html','text','name','title','width','hidden']);$d.rowHeaderColumns.push($W);}};if($c.$0K()){$d.timeHeader=$c.timeHeader;$d.cellProperties=$c.cellProperties;$d.cellConfig=$c.cellConfig;};$d.onRowCreate=function($e){if(typeof $c.onRowCreate==="function"){$c.onRowCreate($e);}};$d.onRowCreated=function($e){if(typeof $c.onRowCreated==="function"){$c.onRowCreated($e);}};$d.onAfterRender=function($e){if(typeof $c.onAfterRender==="function"){$c.onAfterRender($e);}};$d.onAfterUpdate=function($e){if(typeof $c.onAfterUpdate==="function"){$c.onAfterUpdate($e);}};$d.onRowHeaderResized=function($e){$c.rowHeaderWidth=$d.rowHeaderWidth;};$d.onAjaxError=function($e){if(typeof $c.onAjaxError==="function"){$c.onAjaxError($e);}};$d.onRowHeaderColumnResized=function($e){var $X=$e.column;var $q=DayPilot.indexOf($d.rowHeaderColumns,$X);for(var i=0;i<$c.columns.length;i++){var $W=$d.rowHeaderColumns[i];var c=$c.columns[i];c.width=$W.width;};if(typeof $c.onColumnResized==="function"){var $Y={};$Y.column=$c.columns[$q];$c.onColumnResized($Y);}};$d.onBeforeRowHeaderRender=function($e){$e.task=new DayPilot.Task($e.row.$.row.task,$c);var e=$e.row.$.row.events[0];if(e&&$c.taskGroupMode==="Auto"&&e.data.type==="Group"){$e.task.data.start=e.data.start;$e.task.data.end=e.data.end;};var $Z=[];if(DayPilot.isArray($c.columns)){for(var i=0;i<$c.columns.length;i++){var $X=$c.columns[i];var $00=$X.display||$X.property;var $01={};$01.value=$w.getProperty($e.task.data,$00);if($e.task.data.row&&$e.task.data.row.columns&&$e.task.data.row.columns[i]){$01.html=$e.task.data.row.columns[i].html;}else{$01.html=$01.value;};$Z.push($01);}};$e.row.columns=$Z;$e.row.useStandardColumns=DayPilot.isArray($c.columns);if(typeof $c.onBeforeRowHeaderRender==="function"){$c.onBeforeRowHeaderRender($e);}};$d.onBeforeCellRender=function($e){$e.task=$c.tasks.find($e.cell.resource);delete $e.cell.resource;if(typeof $c.onBeforeCellRender==="function"){$c.onBeforeCellRender($e);}};$d.onBeforeCornerRender=function($e){if(typeof $c.onBeforeCornerRender==="function"){$e.control=$c;$c.onBeforeCornerRender($e);}};$d.onBeforeTimeHeaderRender=function($e){if(typeof $c.onBeforeTimeHeaderRender==="function"){$c.onBeforeTimeHeaderRender($e);}};$d.onEventClick=function($e){$e.task=new DayPilot.Task($e.e,$c);if(typeof $c.onTaskClick==="function"){$c.onTaskClick($e);}};$d.onEventClicked=function($e){if(typeof $c.onTaskClicked==="function"){$c.onTaskClicked($e);}};$d.onEventDelete=function($e){if(typeof $c.onTaskDelete==="function"){$c.onTaskDelete($e);}};$d.onEventDeleted=function($e){if(typeof $c.onTaskDeleted==="function"){$c.onTaskDeleted($e);}};$d.onEventDoubleClick=function($e){$e.task=new DayPilot.Task($e.e,$c);if(typeof $c.onTaskDoubleClick==="function"){$c.onTaskDoubleClick($e);}};$d.onEventDoubleClicked=function($e){if(typeof $c.onTaskDoubleClicked==="function"){$c.onTaskDoubleClicked($e);}};$d.onEventRightClick=function($e){$e.task=new DayPilot.Task($e.e,$c);if(typeof $c.onTaskRightClick==="function"){$c.onTaskRightClick($e);}};$d.onEventRightClicked=function($e){if(typeof $c.onTaskRightClicked==="function"){$c.onTaskRightClicked($e);}};$d.onRowMoving=function($e){$e.$0S=$e.source;$e.$0T=$e.target;$e.source=new DayPilot.Task($e.$0S.$.row.task,$c);$e.target=new DayPilot.Task($e.$0T.$.row.task,$c);if(typeof $c.onRowMoving==="function"){$c.onRowMoving($e);}};$d.onRowMove=function($e){$e.$0S=$e.source;$e.$0T=$e.target;$e.source=new DayPilot.Task($e.$0S.$.row.task,$c);$e.target=new DayPilot.Task($e.$0T.$.row.task,$c);if(typeof $c.onRowMove==="function"){$c.onRowMove($e);};$e.source=$e.$0S;$e.target=$e.$0T;};$d.onRowMoved=function($e){var $02=$c.rowMoveHandling==="Update"||$c.rowMoveHandling==="Notify";if($02){var $03=$e.$0S.$.row.task;var $P=$e.$0T.$.row.task;var $04=$e.position;if($04==="forbidden"){return;};var $05=$e.$0S.calendar.internal.gantt;var $06=$05.$0Q.findParentArray($03);if(!$06){throw "Cannot find source node parent";};var $y=DayPilot.indexOf($06,$03);$06.splice($y,1);var $07=$w.findParentArray($P);if(!$07){throw "Cannot find target node parent";};var $08=DayPilot.indexOf($07,$P);switch($04){case "before":$07.splice($08,0,$03);break;case "after":$07.splice($08+1,0,$03);break;case "child":if(!$P.children){$P.children=[];$P.expanded=true;};$P.children.push($03);break;};$c.$0I.notify();$c.update();if($05!==$c){$05.update();}};$e.source=new DayPilot.Task($e.$0S.$.row.task,$c);$e.target=new DayPilot.Task($e.$0T.$.row.task,$c);if(typeof $c.onRowMoved==="function"){$c.onRowMoved($e);}};$d.onRowClick=function($e){$e.task=new DayPilot.Task($e.resource.$.row.task,$c);if(typeof $c.onRowClick==="function"){$c.onRowClick($e);}};$d.onRowClicked=function($e){if(typeof $c.onRowClicked==="function"){$c.onRowClicked($e);}};$d.onRowDoubleClick=function($e){$e.task=new DayPilot.Task($e.resource.$.row.task,$c);if(typeof $c.onRowDoubleClick==="function"){$c.onRowDoubleClick($e);}};$d.onRowDoubleClicked=function($e){if(typeof $c.onRowDoubleClicked==="function"){$c.onRowDoubleClicked($e);}};$d.onRowEdit=function($e){$e.task=new DayPilot.Task($e.resource.$.row.task,$c);if(typeof $c.onRowEdit==="function"){$c.onRowEdit($e);}};$d.onRowEdited=function($e){if(typeof $c.onRowEdited==="function"){$c.onRowEdited($e);}};$d.onRowSelect=function($e){$e.task=new DayPilot.Task($e.row.$.row.task,$c);if(typeof $c.onRowSelect==="function"){$c.onRowSelect($e);}};$d.onRowSelected=function($e){if(typeof $c.onRowSelected==="function"){$c.onRowSelected($e);}};$d.onEventMove=function($e){$e._e=$e.e;$e.task=new DayPilot.Task($e.e,$c);if(typeof $c.onTaskMove==="function"){$c.onTaskMove($e);}};$d.onEventMoved=function($e){if($c.taskGroupMode==="Auto"){var e=$e._e;var $g=e.data.task;$g.start=e.start();$g.end=e.end();while(e.data.parent){var parent=$d.events.find(e.data.parent.id);var $09=$o.childrenStartEnd(e.data.parent);parent.start($09.start);parent.end($09.end);$d.events.update(parent);e=parent;}};$c.$0I.notify();if(typeof $c.onTaskMoved==="function"){$c.onTaskMoved($e);}};$d.onEventMoving=function($e){$e.task=new DayPilot.Task($e.e,$c);$e._e=$e.e;delete $e.position;delete $e.overlapping;delete $e.resource;if(typeof $c.onTaskMoving==="function"){$c.onTaskMoving($e);}};$d.onEventResize=function($e){$e._e=$e.e;$e.task=new DayPilot.Task($e.e,$c);if(typeof $c.onTaskResize==="function"){$c.onTaskResize($e);}};$d.onEventResized=function($e){if($c.taskGroupMode==="Auto"){var e=$e._e;var $g=e.data.task;$g.start=e.start();$g.end=e.end();while(e.data.parent){var parent=$d.events.find(e.data.parent.id);var $09=$o.childrenStartEnd(e.data.parent);parent.start($09.start);parent.end($09.end);$d.events.update(parent);e=parent;}};$c.$0I.notify();if(typeof $c.onTaskResized==="function"){$c.onTaskResized($e);}};$d.onEventResizing=function($e){$e.task=new DayPilot.Task($e.e,$c);$e._e=$e.e;if(typeof $c.onTaskResizing==="function"){$c.onTaskResizing($e);}};$d.onLinkCreate=function($e){$e.source=$c.tasks.find($e.from);$e.target=$c.tasks.find($e.to);if(typeof $c.onLinkCreate==="function"){$c.onLinkCreate($e);}};$d.onLinkCreated=function($e){if(typeof $c.onLinkCreated==="function"){$c.onLinkCreated($e);}};$d.onResourceExpand=function($e){var $g=$e.resource.$.row.task;if(!$g.row){$g.row={};};$g.row.collapsed=false;};$d.onResourceCollapse=function($e){var $g=$e.resource.$.row.task;if(!$g.row){$g.row={};};$g.row.collapsed=true;};};$o.$0U=function($p){for(var i=0;i<$d.rowlist.length;i++){var $j=$d.rowlist[i];if($j.task===$p){return $d.internal.createRowObject($j);}};return null;};$o.$0G=function(){$d.links.list=$c.links.list?$c.links.list:[];};$o.$0F=function(){$d.resources=[];$d.events.list=[];$w.clearCache();$o.$0V($c.tasks.list,$d.resources,null);if($0a.sheet){$0a.sheet.commit();$0a.sheet=null;}};$o.$0W=function($g){var $0b=$g.type||"Task";if($g.children&&$g.children.length){$0b="Group";};var $p={};for(var name in $g){if(name==="children"){continue;};$p[name]=$g[name];};var $e={};$e.data=$p;$e.type=$0b;if(!$p.box){$p.box={};};if(typeof $p.box.html==="undefined"){if($e.type==="Task"){var $0c=$p.complete||0;$p.box.text=$0c+"%";}else{$p.box.text="";}};if(typeof $p.box.htmlRight==="undefined"){$p.box.htmlRight=$p.text;};if(typeof $c.onBeforeTaskRender==="function"){$c.onBeforeTaskRender($e);};$e.type=$0b;return $e;};var $0a={};$0a.keys={};$0a.sheet=null;$o.$0X=function($e){if(!$e.data.box){return;};if($e.data.box.cssClass){return;};if(!$e.data.box.backColor){return;};if($e.type==="Task"){return;};var $0d=DayPilot.Util.normalizeColor($e.data.box.backColor);var $Q=$e.type+"_"+$0d.replace("#","");var t=$c.theme;var cn=$c.theme+"_"+$Q;if(!$0a.keys[$Q]){$0a.keys[$Q]=true;if(!$0a.sheet){$0a.sheet=DayPilot.sheet();};if($e.type==="Group"){$0a.sheet.add("."+cn+"."+t+"_task_group ."+t+"_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: "+$0d+"; filter: none; border: 0px none;");$0a.sheet.add("."+cn+"."+t+"_task_group."+t+"_event:before","content:''; border-color: transparent transparent transparent "+$0d+"; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;");$0a.sheet.add("."+cn+"."+t+"_task_group."+t+"_event:after","content:''; border-color: transparent "+$0d+" transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;");}else if($e.type==="Milestone"){$0a.sheet.add("."+cn+"."+t+"_task_milestone ."+t+"_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: "+$0d+"; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;");$0a.sheet.add("."+cn+"."+t+"_browser_ie8 ."+t+"_task_milestone ."+t+"_event_inner","-ms-filter: \"progid:$0e.Microsoft.Matrix($0f='auto expand',$0g=0.7071067811865476,$0h=-0.7071067811865475,$0i=0.7071067811865475,$0j=0.7071067811865476);\"");}};return cn;};$o.$0V=function($03,$P,parent){if(!DayPilot.isArray($03)){return;};for(var i=0;i<$03.length;i++){var $0k=$03[i];$w.addToCache($0k,parent);var $e=$o.$0W($0k);var $g=$e.data;var $0b=$e.type;var event={};DayPilot.Util.copyProps($g,event,['id','start','end','text','complete','tags','versions']);DayPilot.Util.copyProps($g.box,event);event.parent=parent;event.task=$0k;event.resource=$g.id;event.commitCallback=(function(e){return function(){e.task.start=e.start;e.task.end=e.end;}})(event);if($0b=="Group"){event.type="Group";event.html="";var $0a=$o.$0X($e);if($0a){event.cssClass=(event.cssClass||"")+" "+$0a;};delete event.backColor;if($c.taskGroupMode==="Auto"){var $09=$o.childrenStartEnd($0k);event.start=$09.start;event.end=$09.end;event.resizeDisabled=true;event.moveDisabled=true;}}else if($0b==="Milestone"){event.html="";$0k.end=$0k.start;var $0a=$o.$0X($e);if($0a){event.cssClass=(event.cssClass||"")+" "+$0a;};$g.end=$g.start;event.end=$g.start;event.barHidden=true;event.resizeDisabled=true;event.type="Milestone";event.width=$c.taskHeight;delete event.backColor;}else if($0b==="Task"){$a();};event.moveVDisabled=true;event.htmlRight=$g.box.htmlRight;event.htmlLeft=$g.box.htmlLeft;$d.events.list.push(event);var r={};r.task=$0k;DayPilot.Util.copyProps($g.row,r);r.name=$g.text;r.id=$g.id;r.children=[];r.expanded=!$g.row||!$g.row.collapsed;if($0k.children&&$0k.children.length){$o.$0V($0k.children,r.children,$0k);};$P.push(r);}};$o.childrenStartEnd=function($g){if(!$g.children||!$g.children.length){var $G=$g.start;var end=$g.end;if($g.type==="Milestone"){end=$G;};return{"start":new DayPilot.Date($G),"end":new DayPilot.Date(end)};};var $G=null;var end=null;for(var i=0;i<$g.children.length;i++){var $09=$o.childrenStartEnd($g.children[i]);if(!$G||$09.start.getTime()<$G.getTime()){$G=$09.start;};if(!end||$09.end.getTime()>end.getTime()){end=$09.end;}};return{"start":$G,"end":end};};this.rows={};this.rows.expand=function($0l){$d.rows.expand($0l);};this.rows.expandAll=function(){$d.rows.expandAll();};this.rows.selection={};this.rows.selection.add=function($g){var $j=$d.rows.find($g.data.id);};this.rows.selection.clear=function(){$d.rows.selection.clear();};this.rows.selection.get=function(){return $d.rows.selection.get().map(function($j){return new DayPilot.Task($j.$.row.task,$c);});};this.exportAs=function($0m,$b){return $d.exportAs($0m,$b);};this.$0Y=null;this.$0P=function($b){if(!$b){return;};var $0n={"tasks":{"preInit":function(){var $0o=this.data;if(!$0o){return;};if(DayPilot.isArray($0o.list)){$c.tasks.list=$0o.list;}else{$c.tasks.list=$0o;}}},"links":{"preInit":function(){var $0p=this.data;if(!$0p){return;};if(DayPilot.isArray($0p.list)){$c.links.list=$0p.list;}else{$c.links.list=$0p;}}},"scrollTo":{"postInit":function(){if(this.data){$c.scrollTo(this.data);}}},"scrollToTask":{"postInit":function(){if(this.data){$c.scrollToTask(this.data);}}}};this.$0Y=$0n;for(var name in $b){if($0n[name]){var $0q=$0n[name];$0q.data=$b[name];if($0q.preInit){$0q.preInit();}}else{$c[name]=$b[name];}}};this.$0N=function(){var $0n=this.$0Y;for(var name in $0n){var $0q=$0n[name];if($0q.postInit){$0q.postInit();}}};this.internal={};this.internal.initialized=function(){return $c.$0H;};this.internal.rowObjectForTaskData=$o.$0U;this.internal.loadOptions=$c.$0P;this.$0I={};this.$0I.scope=null;this.$0I.notify=function(){if($c.$0I.scope){$c.$0I.scope["$apply"]();}};this.$0P($b);};if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotGantt=function($b){var $0r=null;var j=this.each(function(){if(this.daypilot){return;};var $0s=new DayPilot.Gantt(this.id,$b);$0s.init();this.daypilot=$0s;if(!$0r){$0r=$0s;}});if(this.length===1){return $0r;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $0t=DayPilot.am();if(!$0t){return;};$0t.directive("daypilotGantt",['$parse',function($0u){return{"restrict":"E","template":"<div id='{{id}};'></div>","compile":function compile(element,$0v){element.replaceWith(this["template"].replace("{{id}};",$0v["id"]));return function link($0w,element,$0v){var $c=new DayPilot.Gantt(element[0]);$c.$0I.scope=$0w;$c.init();var $0x=$0v["id"];if($0x){$0w[$0x]=$c;};var $0y=$0v["publishAs"];if($0y){var getter=$0u($0y);var setter=getter.assign;setter($0w,$c);};for(var name in $0v){if(name.indexOf("on")===0){var $0z=DayPilot.Util.shouldApply(name);if($0z){(function(name){$c[name]=function($e){var f=$0u($0v[name]);$0w["$apply"](function(){f($0w,{"args":$e});});};})(name);}else{(function(name){$c[name]=function($e){var f=$0u($0v[name]);f($0w,{"args":$e});};})(name);}}};var $0A=$0w["$watch"];var $0B=$0v["config"]||$0v["daypilotConfig"];$0A.call($0w,$0B,function($0C,$0D){$c.$0P($0C);$c.update();},true);};}};}]);})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})(DayPilot);


