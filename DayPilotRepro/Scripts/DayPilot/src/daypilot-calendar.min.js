/**
@license
DayPilot Pro for ASP.NET MVC 2020.2.6016
Copyright (c) 2005 - 2020 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(DayPilot){if(typeof DayPilot.Calendar!=='undefined'){return;};var $a=10;DayPilot.Calendar=function(id,$b){this.v='2020.2.6016';var $c=false;if(this instanceof DayPilot.Calendar&&!this.$62){$c=true;this.$62=true;};if(!$c){throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";};var $d=this;this.uniqueID=null;this.clientName=id;this.id=id;this.isCalendar=true;this.allDayEnd="DateTime";this.allDayEventHeight=25;this.allowEventOverlap=true;this.allowMultiSelect=true;this.api=2;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.backendUrl=null;if(typeof DayPilot.Bubble==="function"){this.bubble=new DayPilot.Bubble();}else{this.bubble=null;};this.cellBubble=null;this.columnBubble=null;this.businessBeginsHour=9;this.businessEndsHour=18;this.cellHeight=30;this.cellDuration=30;this.clientState={};this.columnMarginRight=5;this.columnWidth=200;this.columnWidthSpec="Auto";this.columnsLoadMethod="GET";this.contextMenu=null;this.contextMenuSelection=null;this.cornerHtml='';this.crosshairType="Header";this.cssOnly=true;this.dayBeginsHour=0;this.dayEndsHour=24;this.days=1;this.doubleClickTimeout=300;this.durationBarVisible=true;this.eventArrangement="Cascade";this.eventsLoadMethod="GET";this.headerHeight=30;this.headerLevels=1;this.height=300;this.heightSpec='BusinessHours';this.hideFreeCells=false;this.hideUntilInit=true;this.headerDateFormat=null;this.hourWidth=60;this.initEventEnabled=false;this.initScrollPos=null;this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.locale="en-us";this.messageHideAfter=5000;this.moveBy="Full";this.notifyCommit='Immediate';this.rtl=false;this.scrollLabelsVisible=false;this.showToolTip=true;this.showAllDayEvents=false;this.showEventStartEnd=false;this.showHeader=true;this.showHours=true;this.showCurrentTime=true;this.showCurrentTimeMode="Day";this.showCurrentTimeOffset=0;this.startDate=DayPilot.Date.today();this.cssClassPrefix="calendar_default";this.tapAndHoldTimeout=300;this.theme=null;this.timeFormat='Auto';this.timeHeaderCellDuration=60;this.timeRangeSelectingStartEndEnabled=false;this.timeRangeSelectingStartEndFormat="Auto";this.eventMovingStartEndEnabled=false;this.eventMovingStartEndFormat="Auto";this.eventResizingStartEndEnabled=false;this.eventResizingStartEndFormat="Auto";this.useEventBoxes='Always';this.viewType='Days';this.visible=true;this.weekStarts="Auto";this.width=null;this.eventClickHandling='Enabled';this.eventDoubleClickHandling='Disabled';this.eventRightClickHandling='ContextMenu';this.eventDeleteHandling='Disabled';this.eventEditHandling='Update';this.eventHoverHandling='Bubble';this.eventResizeHandling='Update';this.eventMoveHandling='Update';this.eventSelectHandling='Update';this.eventTapAndHoldHandling='Move';this.headerClickHandling='Enabled';this.timeRangeTapAndHoldHandling='Select';this.timeRangeSelectedHandling='Enabled';this.timeRangeDoubleClickHandling="Disabled";this.timeRangeRightClickHandling="ContextMenu";this.onAutoRefresh=null;this.onColumnFilter=null;this.onTimeRangeRightClick=null;this.onTimeRangeRightClicked=null;this.onTimeRangeDoubleClick=null;this.onTimeRangeDoubleClicked=null;this.onTimeRangeSelect=null;this.onTimeRangeSelected=null;this.onTimeRangeSelecting=null;this.onEventFilter=null;this.onEventMove=null;this.onEventMoved=null;this.onEventMoving=null;this.onEventResize=null;this.onEventResized=null;this.onEventResizing=null;this.onEventSelect=null;this.onEventSelected=null;this.onEventEdit=null;this.onEventEdited=null;this.onEventDelete=null;this.onEventDeleted=null;this.onHeaderClick=null;this.onHeaderClicked=null;this.onEventRightClick=null;this.onEventRightClicked=null;this.onEventDoubleClick=null;this.onEventDoubleClicked=null;this.onEventClick=null;this.onEventClicked=null;this.onBeforeEventRender=null;this.onBeforeEventExport=null;this.onBeforeEventDomAdd=null;this.onBeforeEventDomRemove=null;this.onAfterEventRender=null;this.onBeforeCellRender=null;this.onBeforeCellExport=null;this.onBeforeCornerDomAdd=null;this.onBeforeCornerDomRemove=null;this.onBeforeCornerRender=null;this.onBeforeHeaderRender=null;this.onBeforeHeaderExport=null;this.onBeforeTimeHeaderRender=null;this.$63=true;this.$64=$a;this.$65=true;this.$66=true;this.$67=true;this.$68={};this.$68.pixels={};this.$68.events=[];this.elements={};this.elements.events=[];this.elements.separators=[];this.elements.selection=[];this.elements.cells=[];this.elements.crosshair=[];this.elements.timeHeaders=[];this.events={};this.nav={};this.$69=0;this.$6a=false;this.members={};this.members.obsolete=["Init","cleanSelection","cssClassPrefix","cssOnly","clientName","uniqueID"];this.members.ignore=["internal","nav","debug","temp","elements","members","onCallbackError"];this.members.noCssOnly=[];this.$6b='netmvc';this.$6c={};this.$6c.ie=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);this.$6c.ff=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1);this.clearSelection=function(){if(!this.selectedCells){this.selectedCells=[];return;};DayPilotCalendar.topSelectedCell=null;DayPilotCalendar.bottomSelectedCell=null;DayPilot.Global.selecting=null;this.$6d();this.selectedCells=[];};this.$6d=function(){if(!this.selectedCells){return;};DayPilot.de($d.elements.selection);$d.elements.selection=[];$d.nav.activeSelection=null;};this.cleanSelection=this.clearSelection;this.$6e=function($e,$f,$g){var $h={};$h.action=$e;$h.parameters=$g;$h.data=$f;$h.header=this.$6f();var $i="JSON"+JSON.stringify($h);__doPostBack($d.uniqueID,$i);};this.$6g=function($e,$g,$f,$j){if(!this.$6h()){$d.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");return;};if(typeof $j==='undefined'){$j="CallBack";};$d.$6i();var $h={};$h.action=$e;$h.type=$j;$h.parameters=$g;$h.data=$f;$h.header=this.$6f();var $i="JSON"+JSON.stringify($h);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$6j,$i,this.$6k);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$i,this.$6l,this.clientName,this.onCallbackError,true);}};this.$6h=function(){return($d.$6b!=="javasc"&&$d.$6b.indexOf("DCODE")===-1)||$d.devsb;};this.$6m=function(){if(typeof WebForm_DoCallback==='function'&&this.uniqueID){return true;};return false;};this.$6k=function($k){if(typeof $d.onAjaxError==='function'){var $l={};$l.request=$k;$d.onAjaxError($l);}else if(typeof $d.ajaxError==='function'){$d.ajaxError($k);}};this.dispose=function(){var c=$d;if(!c.nav.top){return;};c.$6n();c.$6o();if(c.nav.messageClose){c.nav.messageClose.onclick=null;};if(c.nav.hourTable){c.nav.hourTable.oncontextmenu=null;c.nav.hourTable.onmousemove=null;};if(c.nav.header){c.nav.header.oncontextmenu=null;};if(c.nav.corner){c.nav.corner.oncontextmenu=null;};if(c.nav.zoom){c.nav.zoom.onmousemove=null;c.nav.zoom.oncontextmenu=null;};if(c.nav.scroll){c.nav.scroll.onscroll=null;c.nav.scroll.root=null;};DayPilot.pu(c.nav.loading);c.$6p();c.$6q();c.$6r();c.$6s();c.nav.select=null;c.nav.cornerRight=null;c.nav.scrollable=null;c.nav.bottomLeft=null;c.nav.bottomRight=null;c.nav.allday=null;c.nav.zoom=null;c.nav.loading=null;c.nav.events=null;c.nav.header=null;c.nav.hourTable=null;c.nav.scrolltop=null;c.nav.scroll=null;c.nav.vsph=null;c.nav.main=null;c.nav.message=null;c.nav.messageClose=null;c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");var $m=!($d.$6t.reactDOM&&DayPilot.browser.ie);if($m){c.nav.top.innerHTML="";};c.nav.top.dp=null;c.nav.top=null;DayPilot.ue(window,'resize',c.$6u);DayPilotCalendar.unregister(c);};this.$6v=function(){this.nav.top.dispose=this.dispose;};this.$6j=function($n){$d.$6l($n.responseText);};this.$6f=function(){var h={};h.v=this.v;h.control="dpc";h.id=this.id;h.clientState=$d.clientState;h.columns=this.$6w();h.days=$d.days;h.startDate=$d.startDate;h.cellDuration=$d.cellDuration;h.cssClassPrefix=$d.cssClassPrefix;h.heightSpec=$d.heightSpec;h.businessBeginsHour=$d.businessBeginsHour;h.businessEndsHour=$d.businessEndsHour;h.viewType=$d.viewType;h.dayBeginsHour=$d.dayBeginsHour;h.dayEndsHour=$d.dayEndsHour;h.headerLevels=$d.headerLevels;h.eventHeaderVisible=$d.eventHeaderVisible;h.timeFormat=$d.timeFormat;h.timeHeaderCellDuration=$d.timeHeaderCellDuration;h.locale=$d.locale;h.scrollY=$d.scrollPos;h.showAllDayEvents=$d.showAllDayEvents;h.tagFields=$d.tagFields;h.weekStarts=$d.weekStarts;h.selected=$d.multiselect.events();h.hashes=$d.hashes;return h;};this.$6x=function(){$d.$6y();DayPilot.Areas.hideAll();$d.$6z=null;};this.$6w=function(){var $o=[];$o.ignoreToJSON=true;if(!this.$6A){return $o;};for(var i=0;i<this.$6A.length;i++){var $p=this.$6A[i];var $q=this.$6B($p);$o.push($q);};return $o;};this.$6B=function($p){var $q={};$q.Value=$p.id;$q.Name=$p.name;$q.ToolTip=$p.toolTip;$q.Date=$p.start;$q.Children=this.$6C($p.children);return $q;};this.$6C=function($r){var $s=[];$s.ignoreToJSON=true;if(!$r){return $s;};for(var i=0;i<$r.length;i++){$s.push(this.$6B($r[i]));};return $s;};this.$6l=function($t,$u){var $t=JSON.parse($t);if($t.BubbleGuid){var $v=$t.BubbleGuid;var $w=this.bubbles[$v];delete this.bubbles[$v];$d.$6D();if(typeof $t.Result.BubbleHTML!=='undefined'){$w.updateView($t.Result.BubbleHTML,$w);};return;};if($t.CallBackRedirect){document.location.href=$t.CallBackRedirect;return;};if(typeof $t.ClientState!=='undefined'){$d.clientState=$t.ClientState;};if($t.UpdateType==="None"){$d.$6D();$d.$6E($t.CallBackData,true);if($t.Message){$d.message($t.Message);};return;};if($t.VsUpdate){var $x=document.createElement("input");$x.type='hidden';$x.name=$d.id+"_vsupdate";$x.id=$x.name;$x.value=$t.VsUpdate;$d.nav.vsph.innerHTML='';$d.nav.vsph.appendChild($x);};$d.$6o();$d.multiselect.clear(true);$d.multiselect.$6F=$t.SelectedEvents;if(typeof $t.TagFields!=='undefined'){$d.tagFields=$t.TagFields;};if(typeof $t.SortDirections!=='undefined'){$d.sortDirections=$t.SortDirections;};if($t.UpdateType==="Full"){$d.colors=$t.Colors;$d.palette=$t.Palette;$d.dirtyColors=$t.DirtyColors;$d.cellProperties=$t.CellProperties;$d.cellConfig=$t.CellConfig;if($d.$6G()===$d.columns){$d.columns=$t.Columns;}else{$d.columns.list=$t.Columns;};$d.days=$t.Days;$d.startDate=new DayPilot.Date($t.StartDate).getDatePart();$d.cellDuration=$t.CellDuration;$d.heightSpec=$t.HeightSpec?$t.HeightSpec:$d.heightSpec;$d.businessBeginsHour=$t.BusinessBeginsHour?$t.BusinessBeginsHour:$d.businessBeginsHour;$d.businessEndsHour=$t.BusinessEndsHour?$t.BusinessEndsHour:$d.businessEndsHour;$d.viewType=$t.ViewType;$d.headerLevels=$t.HeaderLevels;$d.backColor=$t.BackColor?$t.BackColor:$d.backColor;$d.nonBusinessBackColor=$t.NonBusinessBackColor?$t.NonBusinessBackColor:$d.nonBusinessBackColor;$d.eventHeaderVisible=$t.EventHeaderVisible?$t.EventHeaderVisible:$d.eventHeaderVisible;$d.timeFormat=$t.TimeFormat?$t.TimeFormat:$d.timeFormat;$d.timeHeaderCellDuration=typeof $t.TimeHeaderCellDuration!=='undefined'?$t.TimeHeaderCellDuration:$d.timeHeaderCellDuration;$d.locale=$t.Locale?$t.Locale:$d.locale;$d.dayBeginsHour=typeof $t.DayBeginsHour!=='undefined'?$t.DayBeginsHour:$d.dayBeginsHour;$d.dayEndsHour=typeof $t.DayEndsHour!=='undefined'?$t.DayEndsHour:$d.dayEndsHour;$d.cornerHtml=$t.CornerHTML;$d.hours=$t.Hours;$d.$6H();$d.$6I();};if($t.Hashes){for(var $y in $t.Hashes){$d.hashes[$y]=$t.Hashes[$y];}};$d.$6J($t.Events);$d.$6K();if($t.UpdateType==="Full"||$d.hideFreeCells){$d.$6L();$d.$6M();$d.$6N();$d.$6O();$d.$6P();$d.$6Q();$d.$6R();$d.$6S();$d.clearSelection();$d.$6T();if(typeof $t.ScrollY!=="undefined"){$d.scrollToY($t.ScrollY);}else{$d.scrollToY($d.initScrollPos);}};$d.$6U();$d.$6V();$d.$6W();$d.$6X();if($d.heightSpec==="Parent100Pct"){$d.$6u();};if($d.timeRangeSelectedHandling!=="HoldForever"){$d.clearSelection();};$d.$6Y();if($d.todo){if($d.todo.del){var $z=$d.todo.del;$z.parentNode.removeChild($z);$d.todo.del=null;}};$d.$6E($t.CallBackData,true);$d.$6D();$d.$6Z();if($t.Message){$d.message($t.Message);}};this.$6E=function($f,$A){var $B=function($f,$C){return function(){if($d.$70()){if(typeof $d.onAfterRender==='function'){var $l={};$l.isCallBack=$C;$l.data=$f;$d.onAfterRender($l);}}else{if($d.afterRender){$d.afterRender($f,$C);}}};};window.setTimeout($B($f,$A),0);};this.$71=function($D,$E){var $F=$d.nav.events;var $G=$F.rows[0].cells.length;var $H=$F.clientWidth/$G;var i=Math.floor($d.coords.x/$H);if(i<0){i=0;};if(i>=$G){i=$G-1;};if($d.rtl){i=$d.$72.length-i-1;};var $p=$F.rows[0].cells[i];var $I=0;var $J=0;var top=0;if(typeof $D.duration!=='undefined'){var $K=$D.duration;top=Math.floor((($d.coords.y-$I)+$d.cellHeight/ 2)/ $d.cellHeight)*$d.cellHeight+$I;$J=$K*$d.cellHeight/(60*$d.cellDuration);$J=Math.max($J,$d.cellHeight);}else{var e=$D.event;$J=e.part.height;top=e.part.top;};var $L=document.createElement('div');$L.setAttribute('unselectable','on');$L.style.position='absolute';$L.style.width='100%';$L.style.height=$J+'px';$L.style.left='0px';$L.style.top=top+'px';$L.style.zIndex=$d.$64;$L.exclude=true;var $M=document.createElement("div");$L.appendChild($M);$L.className=$d.$73("_shadow");$M.className=this.$73("_shadow_inner");$p.events.appendChild($L);return $L;};this.$74=function(){return this.$75()/(3600*1000);};this.$76=function(){if(this.businessBeginsHour>this.businessEndsHour){return 24-this.businessBeginsHour+this.businessEndsHour;}else{return this.businessEndsHour-this.businessBeginsHour;}};this.$77=function(){if(this.dayBeginsHour>=this.dayEndsHour){return 24-this.dayBeginsHour+this.dayEndsHour;}else{return this.dayEndsHour-this.dayBeginsHour;}};this.$75=function($N){var $O=0;if(this.heightSpec==='BusinessHoursNoScroll'){$O=this.$76();}else if(this.hideFreeCells&&!$N){var $P=(this.$78-1)*this.cellDuration/this.cellHeight;var $Q=Math.ceil($P/60);var $R=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;$O=Math.max(this.dayBeginsHour+$Q,$R)-this.$79();}else{$O=this.$77();};return $O*60*60*1000;};this.message=function($S,$T,$U,$V){if(!$S){return;};var $T=$T||this.messageHideAfter||2000;var $U=$U||"#ffffff";var $V=$V||"#000000";var $W=0.8;var $X;var top=this.$7a();var $Y=this.showHours?this.hourWidth:0;var $Z=DayPilot.sw($d.$7b());if($d.rtl){var $00=$Y;$Y=$Z;$Z=$00;};if(!this.nav.message){$X=document.createElement("div");$X.style.position="absolute";$X.style.left=($Y)+"px";$X.style.top=(top)+"px";$X.style.right="0px";$X.style.display='none';$X.onmousemove=function(){if($X.messageTimeout&&!$X.status){clearTimeout($X.messageTimeout);}};$X.onmouseout=function(){if($d.nav.message.style.display!=='none'){$X.messageTimeout=setTimeout($d.$7c,500);}};var $M=document.createElement("div");$M.onclick=function(){$d.nav.message.style.display='none';};$M.className=this.$73("_message");$X.appendChild($M);var close=document.createElement("div");close.style.position="absolute";close.className=this.$73("_message_close");close.onclick=function(){$d.nav.message.style.display='none';};$X.appendChild(close);this.nav.top.insertBefore($X,this.nav.loading);this.nav.message=$X;this.nav.messageClose=close;}else{$X=$d.nav.message;this.nav.message.style.top=top+"px";};if(this.nav.cornerRight){this.nav.message.style.right=$Z+"px";}else{this.nav.message.style.right="0px";};var $01=function(){if(!$d.nav.message){return;};var $M=$d.nav.message.firstChild;$M.innerHTML=$S;var end=function(){$X.messageTimeout=setTimeout($d.$7c,$T);};DayPilot.fade($d.nav.message,0.2,end);};clearTimeout($X.messageTimeout);if(this.nav.message.style.display!=='none'){DayPilot.fade($d.nav.message,-0.2,$01);}else{$01();}};this.message.show=function($S){$d.message($S);};this.message.hide=function(){$d.$7c();};this.$7c=function(){var end=function(){$d.nav.message.style.display='none';};DayPilot.fade($d.nav.message,-0.2,end);};this.$6O=function(){if(this.nav.message){this.nav.message.style.top=(this.$7a())+"px";}};this.$7d=function(){return this.$75()/(60*1000*this.cellDuration);};this.eventClickPostBack=function(e,$f){this.$6e('EventClick',$f,e);};this.eventClickCallBack=function(e,$f){this.$6g('EventClick',e,$f);};this.$7e=function(e){var $X=this;var e=e||window.event;var $02=e.ctrlKey;var $03=e.metaKey;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($d.eventDoubleClickHandling==='Disabled'){$d.$7f($X,$02,$03,e);return;};if(!$d.timeouts){$d.timeouts=[];}else{for(var $04 in $d.timeouts){window.clearTimeout($d.timeouts[$04]);};$d.timeouts=[];};var $05=function($X,$02,$03,e){return function(){$d.$7f($X,$02,$03,e);};};$d.timeouts.push(window.setTimeout($05(this,$02,$03,e),$d.doubleClickTimeout));};this.$7f=function($06,$02,$03,$07){var e=$06.event;if(!e.client.clickEnabled()){return;};if($d.$70()){var $l={};$l.e=e;$l.ctrl=$02;$l.meta=$03;$l.originalEvent=$07;$l.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onEventClick==='function'){$d.onEventClick($l);if($l.preventDefault.value){return;}};switch($d.eventClickHandling){case 'PostBack':$d.eventClickPostBack(e);break;case 'CallBack':$d.eventClickCallBack(e);break;case 'Edit':$d.$7g($06);break;case 'Select':$d.$7h($06,e,$02,$03);break;case 'Bubble':if($d.bubble){$d.bubble.showEvent(e);};break;case 'ContextMenu':var $08=e.client.contextMenu();if($08){$08.show(e);}else{if($d.contextMenu){$d.contextMenu.show(e);}};break;};if(typeof $d.onEventClicked==='function'){$d.onEventClicked($l);}}else{switch($d.eventClickHandling){case 'PostBack':$d.eventClickPostBack(e);break;case 'CallBack':$d.eventClickCallBack(e);break;case 'JavaScript':$d.onEventClick(e);break;case 'Edit':$d.$7g($06);break;case 'Select':$d.$7h($06,e,$02,$03);break;case 'Bubble':if($d.bubble){$d.bubble.showEvent(e);};break;case 'ContextMenu':var $08=e.client.contextMenu();if($08){$08.show(e);}else{if($d.contextMenu){$d.contextMenu.show(e);}};break;}}};this.eventDoubleClickPostBack=function(e,$f){this.$6e('EventDoubleClick',$f,e);};this.eventDoubleClickCallBack=function(e,$f){this.$6g('EventDoubleClick',e,$f);};this.$7i=function(ev){if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($d.timeouts){for(var $04 in $d.timeouts){window.clearTimeout($d.timeouts[$04]);};$d.timeouts=null;};var e=this.event;var ev=ev||window.event;if($d.$70()){var $l={};$l.e=e;$l.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onEventDoubleClick==='function'){$d.onEventDoubleClick($l);if($l.preventDefault.value){return;}};switch($d.eventDoubleClickHandling){case 'PostBack':$d.eventDoubleClickPostBack(e);break;case 'CallBack':$d.eventDoubleClickCallBack(e);break;case 'Edit':if(!e.allday()){$d.$7g(this);};break;case 'Select':if(!e.allday()){$d.$7h(this,e,ev.ctrlKey);};break;case 'Bubble':if($d.bubble){$d.bubble.showEvent(e);};break;};if(typeof $d.onEventDoubleClicked==='function'){$d.onEventDoubleClicked($l);}}else{switch($d.eventDoubleClickHandling){case 'PostBack':$d.eventDoubleClickPostBack(e);break;case 'CallBack':$d.eventDoubleClickCallBack(e);break;case 'JavaScript':$d.onEventDoubleClick(e);break;case 'Edit':if(!e.allday()){$d.$7g(this);};break;case 'Select':if(!e.allday()){$d.$7h(this,e,ev.ctrlKey);};break;case 'Bubble':if($d.bubble){$d.bubble.showEvent(e);};break;}}};this.eventRightClickPostBack=function(e,$f){this.$6e('EventRightClick',$f,e);};this.eventRightClickCallBack=function(e,$f){this.$6g('EventRightClick',e,$f);};this.$7j=function(ev){var e=this.event;if(ev.stopPropagation){ev.stopPropagation();};if(!e.client.rightClickEnabled()){return false;};if($d.$70()){var $l={};$l.e=e;$l.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onEventRightClick==='function'){$d.onEventRightClick($l);if($l.preventDefault.value){return false;}};switch($d.eventRightClickHandling){case 'PostBack':$d.eventRightClickPostBack(e);break;case 'CallBack':$d.eventRightClickCallBack(e);break;case 'ContextMenu':var $08=e.client.contextMenu();if($08){$08.show(e);}else{if($d.contextMenu){$d.contextMenu.show(this.event);}};break;case 'Bubble':if($d.bubble){$d.bubble.showEvent(e);};break;};if(typeof $d.onEventRightClicked==='function'){$d.onEventRightClicked($l);}}else{switch($d.eventRightClickHandling){case 'PostBack':$d.eventRightClickPostBack(e);break;case 'CallBack':$d.eventRightClickCallBack(e);break;case 'JavaScript':$d.onEventRightClick(e);break;case 'ContextMenu':var $08=e.client.contextMenu();if($08){$08.show(e);}else{if($d.contextMenu){$d.contextMenu.show(this.event);}};break;case 'Bubble':if($d.bubble){$d.bubble.showEvent(e);};break;}};if(ev.preventDefault){ev.preventDefault();};return false;};this.$7k=function($f){return new DayPilot.Column($f,$d);};this.headerClickPostBack=function(c,$f){this.$6e('HeaderClick',$f,c);};this.headerClickCallBack=function(c,$f){this.$6g('HeaderClick',c,$f);};this.$7l=function($D){var $f=this.data;var c=$d.$7k($f);if($d.$70()){var $l={};$l.header={};$l.header.id=$f.id;$l.header.name=$f.name;$l.header.start=$f.start;$l.column=c;$l.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onHeaderClick==='function'){$d.onHeaderClick($l);if($l.preventDefault.value){return;}};switch($d.headerClickHandling){case 'PostBack':$d.headerClickPostBack(c);break;case 'CallBack':$d.headerClickCallBack(c);break;};if(typeof $d.onHeaderClicked==='function'){$d.onHeaderClicked($l);}}else{switch($d.headerClickHandling){case 'PostBack':$d.headerClickPostBack(c);break;case 'CallBack':$d.headerClickCallBack(c);break;case 'JavaScript':$d.onHeaderClick(c);break;}}};this.$7m=function(){if(typeof(DayPilot.Bubble)!=='undefined'&&$d.columnBubble){if($d.viewType==="Resources"){var $09={};$09.calendar=$d;$09.start=this.data.start;$09.name=this.data.name;$09.id=this.data.id;$09.toJSON=function(){var $0a={};$0a.id=this.id;$0a.start=this.start;$0a.name=this.name;return $0a;};$d.columnBubble.showResource($09);}else{var $0b=new DayPilot.Date(this.data.start);var end=$0b.addDays(1);var $0c={};$0c.calendar=$d;$0c.start=$0b;$0c.end=end;$0c.toJSON=function(){var $0a={};$0a.start=this.start;$0a.end=this.end;return $0a;};$d.columnBubble.showTime($0c);}};var $0d=this;var $X=$0d.firstChild;if(!$X.active){var $f=$0d.data;var c=$d.$7k($f);c.areas=$0d.data.areas;DayPilot.Areas.showAreas($X,c);}};this.$7n=function(ev){if(typeof(DayPilot.Bubble)!=='undefined'&&$d.columnBubble){$d.columnBubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this.firstChild,ev);};this.eventDeletePostBack=function(e,$f){this.$6e('EventDelete',$f,e);};this.eventDeleteCallBack=function(e,$f){this.$6g('EventDelete',e,$f);};this.$7o=function($D){var e;if($D&&$D.isEvent){e=$D;}else{e=$D.parentNode.parentNode.event;};if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.hideActive();DayPilot.Bubble.cancelShowing();};if($d.$70()){var $l={};$l.e=e;$l.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onEventDelete==='function'){$d.onEventDelete($l);if($l.preventDefault.value){return;}};switch($d.eventDeleteHandling){case 'PostBack':$d.eventDeletePostBack(e);break;case 'CallBack':$d.eventDeleteCallBack(e);break;case 'Update':$d.events.remove(e);break;};if(typeof $d.onEventDeleted==='function'){$d.onEventDeleted($l);}}else{switch($d.eventDeleteHandling){case 'PostBack':$d.eventDeletePostBack(e);break;case 'CallBack':$d.eventDeleteCallBack(e);break;case 'JavaScript':$d.onEventDelete(e);break;}}};this.eventResizePostBack=function(e,$0e,$0f,$f){if(!$0e){throw 'newStart is null';};if(!$0f){throw 'newEnd is null';};var $0g={};$0g.e=e;$0g.newStart=$0e;$0g.newEnd=$0f;this.$6e('EventResize',$f,$0g);};this.eventResizeCallBack=function(e,$0e,$0f,$f){if(!$0e)throw 'newStart is null';if(!$0f)throw 'newEnd is null';var $0g={};$0g.e=e;$0g.newStart=$0e;$0g.newEnd=$0f;this.$6g('EventResize',$0g,$f);};this.$7p=function($j,$e,$0g,$f){if($j==='PostBack'){$d.postBack2($e,$0g,$f);}else if($j==='CallBack'){$d.$6g($e,$0g,$f,"CallBack");}else if($j==='Immediate'){$d.$6g($e,$0g,$f,"Notify");}else if($j==='Queue'){$d.queue.add(new DayPilot.Action(this,$e,$0g,$f));}else if($j==='Notify'){if($0h.notifyType()==='Notify'){$d.$6g($e,$0g,$f,"Notify");}else{$d.queue.add(new DayPilot.Action($d,$e,$0g,$f));}}else{throw "Invalid event invocation type";}};this.$79=function($N){if(this.heightSpec==='BusinessHoursNoScroll'){return this.businessBeginsHour;}else if(this.hideFreeCells&&!$N){var $P=(this.$7q)*this.cellDuration/this.cellHeight;var $Q=Math.floor($P/60);$Q=Math.max(0,$Q);return Math.min(this.dayBeginsHour+$Q,this.businessBeginsHour);}else{return this.dayBeginsHour;}};this.visibleStart=function(){if($d.viewType==="Resources"){if($d.$72.isEmpty()){return DayPilot.Date.today();};var $0i=DayPilot.list($d.$72).map(function($p){return $p.start.getTime();});var $0j=Math.min.apply(null,$0i);return new DayPilot.Date($0j);};return this.$72[0].start;};this.visibleEnd=function(){if($d.viewType==="Resources"){if($d.$72.isEmpty()){return DayPilot.Date.today().addDays(1);};var $0i=DayPilot.list($d.$72).map(function($p){return $p.start.getTime();});var $N=Math.max.apply(null,$0i);return new DayPilot.Date($N).addDays(1);};var $0k=this.$72;var $N=$0k.length-1;return $0k[$N].start.addDays(1);};this.$70=function(){return $d.api===2;};this.$7r=function(e,$0l){var $0b=e.start();var $0m=$0b.getDatePart();var $0n=Math.floor($0l/$d.cellHeight);var $0o=$0n*$d.cellDuration;var ts=$0o*60*1000;var $0p=$d.$79()*60*60*1000;return $0m.addTime(ts+$0p);};this.$7s=function(e,$0q){var $0n=Math.floor($0q/$d.cellHeight);var $0o=$0n*$d.cellDuration;var ts=$0o*60*1000;var $0p=$d.$79()*60*60*1000;var $0m=$d.$72[e.part.dayIndex].start;return $0m.addTime(ts+$0p);};this.$7t=function(e,$0r,$0l,$0s){if(this.eventResizeHandling==='Disabled'){return;};var $0e,$0f;if($0s==='top'){$0e=$d.$7r(e,$0l);$0f=e.end();}else if($0s==='bottom'){$0e=e.start();$0f=$d.$7s(e,$0l+$0r);};if($d.$70()){var $l={};var $0t=function(){$l.loaded=function(){};$d.$7u();if($l.preventDefault.value){return;};switch($d.eventResizeHandling){case 'PostBack':$d.eventResizePostBack(e,$0e,$0f);break;case 'CallBack':$d.eventResizeCallBack(e,$0e,$0f);break;case 'Notify':$d.eventResizeNotify(e,$0e,$0f);break;case 'Update':e.start($0e);e.end($0f);$d.events.update(e);break;};if(typeof $d.onEventResized==='function'){$d.onEventResized($l);}};$l.e=e;$l.newStart=$0e;$l.newEnd=$0f;$l.preventDefault=function(){this.preventDefault.value=true;};$l.async=false;$l.hideShadow=function(){$d.$7u();};$l.loaded=function(){$0t();};if(typeof $d.onEventResize==='function'){$d.onEventResize($l);if($l.preventDefault.value){$d.$7u();return;}};if(!$l.async){$0t();}}else{$d.$7u();switch($d.eventResizeHandling){case 'PostBack':$d.eventResizePostBack(e,$0e,$0f);break;case 'CallBack':$d.eventResizeCallBack(e,$0e,$0f);break;case 'JavaScript':$d.onEventResize(e,$0e,$0f);break;case 'Notify':$d.eventResizeNotify(e,$0e,$0f);break;}}};this.eventResizeNotify=function(e,$0e,$0f,$f){var $0u=new DayPilot.Event(e.copy(),this);e.start($0e);e.end($0f);e.commit();$d.update();this.$7v("Notify",$0u,$0e,$0f,$f);};this.$7v=function($j,e,$0e,$0f,$f){var $0g={};$0g.e=e;$0g.newStart=$0e;$0g.newEnd=$0f;this.$7p($j,"EventResize",$0g,$f);};this.eventMovePostBack=function(e,$0e,$0f,$0v,$f){if(!$0e)throw 'newStart is null';if(!$0f)throw 'newEnd is null';var $0g={};$0g.e=e;$0g.newStart=$0e;$0g.newEnd=$0f;$0g.newResource=$0v;this.$6e('EventMove',$f,$0g);};this.eventMoveCallBack=function(e,$0e,$0f,$0v,$f){if(!$0e)throw 'newStart is null';if(!$0f)throw 'newEnd is null';var $0g={};$0g.e=e;$0g.newStart=$0e;$0g.newEnd=$0f;$0g.newResource=$0v;this.$6g('EventMove',$0g,$f);};this.$7w=function(e,$0w,$0l){var $I=0;var $0n=Math.floor(($0l-$I)/$d.cellHeight);var $0x=$d.cellDuration;var $0y=$0n*$0x*60*1000;var $0b=e.start();var end=e.end();var $0m=new Date();if($0b instanceof DayPilot.Date){$0b=$0b.toDate();};$0m.setTime(Date.UTC($0b.getUTCFullYear(),$0b.getUTCMonth(),$0b.getUTCDate()));var $0z=($d.useEventBoxes!=='Never')?$0b.getTime()-($0m.getTime()+$0b.getUTCHours()*3600*1000+Math.floor($0b.getUTCMinutes()/$0x)*$0x*60*1000):0;var length=end.getTime()-$0b.getTime();var $0p=$d.$79()*3600*1000;if(typeof $0w==="undefined"){$0w=e.part.dayIndex;};var $0A=this.$72[$0w];var $0B=$0A.start.getTime();var $0C=new Date();$0C.setTime($0B+$0y+$0z+$0p);var $0e=new DayPilot.Date($0C);var $0f=$0e.addTime(length);var $0v=$0A.id;return{"start":$0e,"end":$0f,"resource":$0v};};this.$7x=function(e,$0w,$0l,ev,$0D){if($d.eventMoveHandling==='Disabled'){return;};var $0E=$d.$7w(e,$0w,$0l);var $0e=$0E.start;var $0f=$0E.end;var $0v=$0E.resource;var external=!!$0D;if($d.$70()){var $l={};var $0F=function(){$l.loaded=function(){};$d.$7y();if($l.preventDefault.value){return;};switch($d.eventMoveHandling){case 'PostBack':$d.eventMovePostBack(e,$0e,$0f,$0v);break;case 'CallBack':$d.eventMoveCallBack(e,$0e,$0f,$0v);break;case 'Notify':$d.eventMoveNotify(e,$0e,$0f,$0v);break;case 'Update':e.start($0e);e.end($0f);e.resource($0v);if(external){e.commit();$d.events.add(e);}else{$d.events.update(e);};$d.$7z();break;};if(typeof $d.onEventMoved==='function'){$d.onEventMoved($l);}};$l.e=e;$l.newStart=$0E.start;$l.newEnd=$0E.end;$l.newResource=$0E.resource;$l.external=external;$l.ctrl=false;if(ev){$l.ctrl=ev.ctrlKey;};$l.shift=false;if(ev){$l.shift=ev.shiftKey;};$l.preventDefault=function(){this.preventDefault.value=true;};$l.async=false;$l.hideShadow=function(){$d.$7y();};$l.loaded=function(){$0F();};if(typeof $d.onEventMove==='function'){$d.onEventMove($l);if($l.preventDefault.value){$d.$7y();return;}};if(!$l.async){$0F();}}else{$d.$7y();switch($d.eventMoveHandling){case 'PostBack':$d.eventMovePostBack(e,$0e,$0f,$0v);break;case 'CallBack':$d.eventMoveCallBack(e,$0e,$0f,$0v);break;case 'JavaScript':$d.onEventMove(e,$0e,$0f,$0v,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false);break;case 'Notify':$d.eventMoveNotify(e,$0e,$0f,$0v,null);break;}}};this.eventMoveNotify=function(e,$0e,$0f,$0v,$f){var $0u=new DayPilot.Event(e.copy(),this);e.start($0e);e.end($0f);e.resource($0v);e.commit();$d.update();this.$7A("Notify",$0u,$0e,$0f,$0v,$f);};this.$7A=function($j,e,$0e,$0f,$0v,$f){var $0g={};$0g.e=e;$0g.newStart=$0e;$0g.newEnd=$0f;$0g.newResource=$0v;this.$7p($j,"EventMove",$0g,$f);};this.$7z=function(){if($d.todo){if($d.todo.del){var $z=$d.todo.del;$z.parentNode.removeChild($z);$d.todo.del=null;}}};this.$7B=function($l,$w){var $v=$d.$7C($w);var $0g={};$0g.args=$l;$0g.guid=$v;$d.$6g("Bubble",$0g);};this.$7C=function($w){var $v=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$v]=$w;return $v;};this.eventMenuClickPostBack=function(e,$0G,$f){var $0g={};$0g.e=e;$0g.command=$0G;this.$6e('EventMenuClick',$f,$0g);};this.eventMenuClickCallBack=function(e,$0G,$f){var $0g={};$0g.e=e;$0g.command=$0G;this.$6g('EventMenuClick',$0g,$f);};this.$7D=function($0G,e,$0H){switch($0H){case 'PostBack':$d.eventMenuClickPostBack(e,$0G);break;case 'CallBack':$d.eventMenuClickCallBack(e,$0G);break;}};this.timeRangeMenuClickPostBack=function(e,$0G,$f){var $0g={};$0g.selection=e;$0g.command=$0G;this.$6e("TimeRangeMenuClick",$f,$0g);};this.timeRangeMenuClickCallBack=function(e,$0G,$f){var $0g={};$0g.selection=e;$0g.command=$0G;this.$6g("TimeRangeMenuClick",$0g,$f);};this.$7E=function($0G,e,$0H){switch($0H){case 'PostBack':$d.timeRangeMenuClickPostBack(e,$0G);break;case 'CallBack':$d.timeRangeMenuClickCallBack(e,$0G);break;}};this.timeRangeSelectedPostBack=function($0b,end,$0I,$f){var $0J={};$0J.start=$0b;$0J.end=end;$0J.resource=$0I;this.$6e('TimeRangeSelected',$f,$0J);};this.timeRangeSelectedCallBack=function($0b,end,$0I,$f){var $0J={};$0J.start=$0b;$0J.end=end;$0J.resource=$0I;this.$6g('TimeRangeSelected',$0J,$f);};this.$7F=function($0b,end,$p){$0b=new DayPilot.Date($0b);end=new DayPilot.Date(end);var $0I=$p;if($d.$70()){var $l={};$l.start=$0b;$l.end=end;$l.resource=$0I;$l.control=$d;$l.preventDefault=function(){this.preventDefault.value=true;};$l.toJSON=function(){return DayPilot.Util.copyProps($l,{},["start","end","resource"]);};if(typeof $d.onTimeRangeSelect==='function'){$d.onTimeRangeSelect($l);if($l.preventDefault.value){return;}};switch($d.timeRangeSelectedHandling){case 'PostBack':$d.timeRangeSelectedPostBack($0b,end,$0I);break;case 'CallBack':$d.timeRangeSelectedCallBack($0b,end,$0I);break;};if(typeof $d.onTimeRangeSelected==='function'){$d.onTimeRangeSelected($l);}}else{switch($d.timeRangeSelectedHandling){case 'PostBack':$d.timeRangeSelectedPostBack($0b,end,$p);break;case 'CallBack':$d.timeRangeSelectedCallBack($0b,end,$p);break;case 'JavaScript':$d.onTimeRangeSelected($0b,end,$p);break;}}};this.timeRangeDoubleClickPostBack=function($0b,end,$p,$f){var $0J={};$0J.start=$0b;$0J.end=end;$0J.resource=$p;this.$6e('TimeRangeDoubleClick',$f,$0J);};this.timeRangeDoubleClickCallBack=function($0b,end,$p,$f){var $0J={};$0J.start=$0b;$0J.end=end;$0J.resource=$p;this.$6g('TimeRangeDoubleClick',$0J,$f);};this.$7G=function($0b,end,$p){if($d.$70()){var $0I=$p;var $l={};$l.start=$0b;$l.end=end;$l.resource=$0I;$l.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onTimeRangeDoubleClick==='function'){$d.onTimeRangeDoubleClick($l);if($l.preventDefault.value){return;}};switch($d.timeRangeDoubleClickHandling){case 'PostBack':$d.timeRangeDoubleClickPostBack($0b,end,$0I);break;case 'CallBack':$d.timeRangeDoubleClickCallBack($0b,end,$0I);break;};if(typeof $d.onTimeRangeDoubleClicked==='function'){$d.onTimeRangeDoubleClicked($l);}}else{switch($d.timeRangeDoubleClickHandling){case 'PostBack':$d.timeRangeDoubleClickPostBack($0b,end,$p);break;case 'CallBack':$d.timeRangeDoubleClickCallBack($0b,end,$p);break;case 'JavaScript':$d.onTimeRangeDoubleClick($0b,end,$p);break;}}};this.eventEditPostBack=function(e,$0K,$f){var $0g={};$0g.e=e;$0g.newText=$0K;this.$6e("EventEdit",$f,$0g);};this.eventEditCallBack=function(e,$0K,$f){var $0g={};$0g.e=e;$0g.newText=$0K;this.$6g("EventEdit",$0g,$f);};this.$7H=function(e,$0K){if($d.$70()){var $l={};$l.e=e;$l.newText=$0K;$l.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onEventEdit==='function'){$d.onEventEdit($l);if($l.preventDefault.value){return;}};switch($d.eventEditHandling){case 'PostBack':$d.eventEditPostBack(e,$0K);break;case 'CallBack':$d.eventEditCallBack(e,$0K);break;case 'Update':e.text($0K);$d.events.update(e);break;};if(typeof $d.onEventEdited==='function'){$d.onEventEdited($l);if($l.preventDefault.value){return;}}}else{switch($d.eventEditHandling){case 'PostBack':$d.eventEditPostBack(e,$0K);break;case 'CallBack':$d.eventEditCallBack(e,$0K);break;case 'JavaScript':$d.onEventEdit(e,$0K);break;}}};this.eventSelectPostBack=function(e,$0L,$f){var $0g={};$0g.e=e;$0g.change=$0L;this.$6e('EventSelect',$f,$0g);};this.eventSelectCallBack=function(e,$0L,$f){var $0g={};$0g.e=e;$0g.change=$0L;this.$6g('EventSelect',$0g,$f);};this.$7I=function($X,e,$02,$03){var m=$d.multiselect;var $0M=false;var $0N=m.isSelected(e);var $0O=$02||$03;if(!$0O&&$0N&&!$0M&&m.$7J.length===1){return;};if($d.$70()){m.previous=m.events();var $l={};$l.e=e;$l.selected=m.isSelected(e);$l.ctrl=$02;$l.meta=$03;$l.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onEventSelect==='function'){$d.onEventSelect($l);if($l.preventDefault.value){return;}};switch($d.eventSelectHandling){case 'PostBack':$d.eventSelectPostBack(e,$0L);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$d.eventSelectCallBack(e,$0L);break;case 'Update':m.$7K($X,$02);break;};if(typeof $d.onEventSelected==='function'){$l.change=m.isSelected(e)?"selected":"deselected";$l.selected=m.isSelected(e);$d.onEventSelected($l);}}else{m.previous=m.events();m.$7K($X,$02);var $0L=m.isSelected(e)?"selected":"deselected";switch($d.eventSelectHandling){case 'PostBack':$d.eventSelectPostBack(e,$0L);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$d.eventSelectCallBack(e,$0L);break;case 'JavaScript':$d.onEventSelect(e,$0L);break;}}};this.commandCallBack=function($0G,$f){this.$6n();var $0g={};$0g.command=$0G;this.$6g('Command',$0g,$f);};this.$7L=function(ev){if($0P.active||$0P.using){return;};clearTimeout(DayPilotCalendar.selectedTimeout);if(DayPilot.Global.selecting){return;};if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};if($d.selectedCells&&$d.timeRangeDoubleClickHandling!=='Disabled'){for(var i=0;i<$d.selectedCells.length;i++){if(this===$d.selectedCells[i]){return;}}};if($d.timeRangeSelectedHandling==="Disabled"){return;};var $0Q=DayPilot.Util.mouseButton(ev);if(!$0Q.left){return;};DayPilotCalendar.firstMousePos=$d.coords;DayPilotCalendar.firstMousePos.calendar=$d;$d.clearSelection();DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$d.selectedCells.push(this);DayPilotCalendar.firstSelected=this;DayPilot.Global.selecting={"calendar":$d};$d.$7M();};this.$7M=function(){var $0R=this.getSelection();if(!$0R){return;};if(!$d.selectedCells){return;};(function activateSelectionNew(){var $0S=DayPilotCalendar.topSelectedCell;var $0T=DayPilotCalendar.bottomSelectedCell;var $0U=(function(){if($0S.data){return $0S.data.x;};var $0V=$0S.parentNode.cells;for(var i=0;i<$0V.length;i++){if($0V[i]===$0S){return i;}};return -1;})();var $0W=$d.timeRangeSelectingStartEndFormat;if($0W==="Auto"){$0W=$0h.timeFormat()==="Clock24Hours"?"H:mm":"h:mm tt";};var $0X=$d.$72[$0U];if(!$0X){return;};var $l={};$l.start=$0S.start;$l.end=$0T.end;$l.duration=new DayPilot.Duration($l.start,$l.end);$l.resource=$0X.id;$l.allowed=true;$l.html=null;$l.cssClass=null;$l.top={};$l.top.width=null;$l.top.space=5;$l.top.html=$l.start.toString($0W,$0h.locale());$l.top.enabled=$d.timeRangeSelectingStartEndEnabled;$l.bottom={};$l.bottom.width=null;$l.bottom.space=5;$l.bottom.html=$l.end.toString($0W,$0h.locale());$l.bottom.enabled=$d.timeRangeSelectingStartEndEnabled;var $0Y=DayPilot.Global.selecting&&DayPilot.Global.selecting.args;if($0Y&&$0Y.start===$l.start&&$0Y.end===$l.end&&$0Y.resource==$l.resource){return;};if(!$d.allowEventOverlap){var $f={"id":null,"start":$l.start,"end":$l.end,"resource":$l.resource};if($d.events.$7N($f)){$l.allowed=false;}};if($d.$7O($l.start,$l.end,$l.resource)){$l.allowed=false;};if(typeof $d.onTimeRangeSelecting==="function"&&$l.allowed){$d.onTimeRangeSelecting($l);};if(DayPilot.Global.selecting){DayPilot.Global.selecting.args=$l;};var top=$d.$7P($0S.start,$0X.start).boxTop-$d.$7Q();var $0Z=$d.$7P($0T.end,$0X.start).boxBottom-$d.$7Q();var $J=$0Z-top;var $X=(function(){if($d.nav.activeSelection){return $d.nav.activeSelection;};var $X=document.createElement("div");$X.setAttribute("unselectable","on");$X.style.zIndex=$d.$64;$X.style.position="absolute";$X.style.left="0px";$X.style.width="100%";$X.ondblclick=function(e){if($d.timeRangeDoubleClickHandling==="Disabled"){return;};clearTimeout($d.$7R);var $10=$d.getSelection();if(!$10){return;};$d.$7G($10.start,$10.end,$10.resource);};var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.className=$d.$73("_shadow_inner");$X.appendChild($M);$d.nav.events.rows[0].cells[$0U].selection.appendChild($X);$d.elements.selection.push($X);$d.nav.activeSelection=$X;return $X;})();$X.className=$d.$73("_shadow");$X.firstChild.innerHTML="";$X.style.top=top+"px";$X.style.height=$J+"px";var $M=$X.firstChild;if($l.html){$M.innerHTML=$l.html;};if($l.cssClass){DayPilot.Util.addClass($X,$l.cssClass);};if(!$l.allowed){DayPilot.Util.addClass($X,$d.$73("_shadow_forbidden"));};$d.$7S($X,$0U,$l);})();};this.$7y=function(){$d.$7T(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;};this.$7u=function(){$d.$7T(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;};this.$7T=function($L){DayPilot.de($L);DayPilot.de($d.nav.indicatorTop);DayPilot.de($d.nav.indicatorBottom);};this.$7S=function($X,$0U,$l){var $0V=$d.nav.events.rows[0].cells;var $11=$0V[$0U].events;var $12=$0U===$0V.length-1;DayPilot.de($d.nav.indicatorTop);DayPilot.de($d.nav.indicatorBottom);if($l.top.enabled){var top=document.createElement("div");top.style.zIndex=$d.$64;top.style.position="absolute";top.style.top=$X.offsetTop+"px";if(!$12){top.style.left=($X.offsetWidth+$l.top.space)+"px";}else{top.style.right="0px";};if($l.top.width){top.style.width=$l.top.width+"px";}else{top.style.whiteSpace="nowrap";};if($l.top.html){top.innerHTML=$l.top.html;};top.className=$d.$73("_shadow_top");$11.appendChild(top);$d.elements.selection.push(top);$d.nav.indicatorTop=top;};if($l.bottom.enabled){var $0Z=document.createElement("div");$0Z.style.zIndex=$d.$64;$0Z.style.position="absolute";$0Z.style.top=($X.offsetTop+$X.offsetHeight)+"px";if(!$12){$0Z.style.left=($X.offsetWidth+$l.bottom.space)+"px";}else{$0Z.style.right="0px";};if($l.bottom.width){$0Z.style.width=$l.bottom.width+"px";}else{$0Z.style.whiteSpace="nowrap";};if($l.bottom.html){$0Z.innerHTML=$l.bottom.html;};$0Z.className=$d.$73("_shadow_bottom");$11.appendChild($0Z);var $J=$0Z.offsetHeight;$0Z.style.top=($X.offsetTop+$X.offsetHeight-$J)+"px";$d.elements.selection.push($0Z);$d.nav.indicatorBottom=$0Z;}};this.$7U=function(ev){if(typeof(DayPilot.Bubble)!=='undefined'&&$d.cellBubble){$d.cellBubble.hideOnMouseOut();}};this.$7V=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if($0P.active||$0P.using){return;};if(typeof(DayPilot.Bubble)!=='undefined'&&$d.cellBubble){var $p=DayPilotCalendar.getColumn(this);var $09=$d.$72[$p].id;var $0d={};$0d.calendar=$d;$0d.start=this.start;$0d.end=this.end;$0d.resource=$09;$0d.toJSON=function(){var $0a={};$0a.start=this.start;$0a.end=this.end;$0a.resource=this.resource;return $0a;};$d.cellBubble.showCell($0d);}};this.getSelection=function(){if(!DayPilotCalendar.topSelectedCell){return null;};if(!DayPilotCalendar.bottomSelectedCell){return null;};var $0b=DayPilotCalendar.topSelectedCell.start;var end=DayPilotCalendar.bottomSelectedCell.end;var $13=DayPilotCalendar.topSelectedCell.resource;return new DayPilot.Selection($0b,end,$13,$d);};this.$7W=function(ev){};this.$7X=function(ev){var $14=$d.columnWidthSpec==="Fixed";if($14||$d.$65){if(!$d.nav.bottomLeft){return;};$d.nav.bottomLeft.scrollTop=$d.nav.bottomRight.scrollTop;if($d.nav.upperRight){$d.nav.upperRight.scrollLeft=$d.nav.bottomRight.scrollLeft;};$d.nav.scrollLayer.scrollLeft=$d.nav.bottomRight.scrollLeft;};var scroll=$d.$7Y();$d.scrollPos=scroll.scrollTop;$d.$7Z=scroll.clientHeight;$d.nav.scrollpos.value=$d.scrollPos;$d.$6Y();};this.$6Y=function(){if(!this.scrollLabelsVisible){return;};if(!this.$80){return;};var $15=this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0;if(!$15){return;};var $0k=this.$72;var $16=(this.showHours?this.hourWidth:0);var $H=this.nav.main.rows[0].cells[0].clientWidth;var iw=10;var $17=1;for(var i=0;i<this.nav.scrollUp.length;i++){var $18=this.nav.scrollUp[i];var $19=this.nav.scrollDown[i];var $Y=Math.floor($16+i*$H+$H/ 2-(iw/ 2)+$17);if($Y<0){$Y=0;};$Y-=$d.nav.bottomRight.scrollLeft;if($18&&$18.style){$18.style.left=$Y+"px";};if($19&&$19.style){$19.style.left=$Y+"px";}};var $1a=this.$7Q();for(var i=0;i<this.nav.scrollUp.length;i++){var up=this.nav.scrollUp[i];var $1b=this.nav.scrollDown[i];var $1c=this.$80[i].minEnd-$1a;var $1d=this.$80[i].maxStart-$1a;if(up&&$1b){if($1c<=$d.scrollPos&&parseInt(up.style.left)>=$d.hourWidth){up.style.top=(this.$7a())+"px";up.style.display='';}else{up.style.display='none';};if($1d>=$d.scrollPos+$d.$7Z&&parseInt($1b.style.left)>=$d.hourWidth){$1b.style.top=(this.$7a()+this.$7Z-10)+"px";$1b.style.display='';}else{$1b.style.display='none';}}}};this.$81=function($D){var $1e=$D.parentNode;var $Y=0;var top=$D.offsetTop;var $1f=$D.parentNode.offsetWidth;var $J=$D.offsetHeight;if($D.event.allday()){$Y=$D.offsetLeft;$1f=$D.offsetWidth;};var $1g=document.createElement('textarea');$1g.style.boxSizing="border-box";$1g.style.position='absolute';$1g.style.width=$1f+'px';$1g.style.height=$J+'px';var $1h=DayPilot.gs($D,'fontFamily');if(!$1h)$1h=DayPilot.gs($D,'font-family');$1g.style.fontFamily=$1h;var $1i=DayPilot.gs($D,'fontSize');if(!$1i)$1i=DayPilot.gs($D,'font-size');$1g.style.fontSize=$1i;$1g.style.left=$Y+'px';$1g.style.top=top+'px';$1g.style.border='1px solid black';$1g.style.padding='0px';$1g.style.marginTop='0px';$1g.style.backgroundColor='white';$1g.value=($D.event.text()||"").trim();$1g.event=$D.event;$1e.appendChild($1g);return $1g;};this.$7h=function($X,e,$02,$03){$d.$7I($X,e,$02,$03);};this.multiselect={};this.multiselect.$6F=[];this.multiselect.$7J=[];this.multiselect.$82=[];this.multiselect.$83=[];this.multiselect.$84=function(){var m=$d.multiselect;return JSON.stringify(m.events());};this.multiselect.events=function(){var m=$d.multiselect;var $1j=[];$1j.ignoreToJSON=true;for(var i=0;i<m.$7J.length;i++){$1j.push(m.$7J[i]);};return $1j;};this.multiselect.$85=function(){var h=$d.nav.select;h.value=$d.multiselect.$84();};this.multiselect.$7K=function($X,$1k){var m=$d.multiselect;if(m.isSelected($X.event)){if($d.allowMultiSelect){if($1k){m.remove($X.event,true);}else{var $1l=m.$7J.length;m.clear(true);if($1l>1){m.add($X.event,true);}}}else{m.clear(true);}}else{if($d.allowMultiSelect){if($1k){m.add($X.event,true);}else{m.clear(true);m.add($X.event,true);}}else{m.clear(true);m.add($X.event,true);}};m.redraw();m.$85();};this.multiselect.$86=function(ev){var m=$d.multiselect;return m.$87(ev,m.$6F);};this.multiselect.$88=function(){var m=$d.multiselect;var $1m=[];for(var i=0;i<m.$7J.length;i++){var event=m.$7J[i];$1m.push(event.value());};alert($1m.join("\n"));};this.multiselect.add=function(ev,$1n){var m=$d.multiselect;if(m.$89(ev)===-1){m.$7J.push(ev);};m.$85();if($1n){return;};m.redraw();};this.multiselect.remove=function(ev,$1n){var m=$d.multiselect;var i=m.$89(ev);if(i!==-1){m.$7J.splice(i,1);};m.$85();if($1n){return;};m.redraw();};this.multiselect.clear=function($1n){var m=$d.multiselect;m.$7J=[];m.$85();if($1n){return;};m.redraw();};this.multiselect.redraw=function(){var m=$d.multiselect;for(var i=0;i<$d.elements.events.length;i++){var $X=$d.elements.events[i];if(m.isSelected($X.event)){m.$8a($X);}else{m.$8b($X);}}};this.multiselect.$8a=function($X){var m=$d.multiselect;var cn=$d.$73("_selected");var c=m.$8c($X);DayPilot.Util.addClass(c,cn);m.$82.push($X);};this.multiselect.$8c=function($X){return $X;};this.multiselect.$8d=function(){var m=$d.multiselect;for(var i=0;i<m.$82.length;i++){var $X=m.$82[i];m.$8b($X,true);};m.$82=[];};this.multiselect.$8b=function($X,$1o){var m=$d.multiselect;var cn=$d.$73("_selected");var c=m.$8c($X);DayPilot.Util.removeClass(c,cn);if($1o){return;};var i=DayPilot.indexOf(m.$82,$X);if(i!==-1){m.$82.splice(i,1);}};this.multiselect.isSelected=function(ev){return $d.multiselect.$87(ev,$d.multiselect.$7J);};this.multiselect.$89=function(ev){return DayPilot.indexOf($d.multiselect.$7J,ev);};this.multiselect.$87=function(e,$1m){if(!$1m){return false;};for(var i=0;i<$1m.length;i++){var ei=$1m[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.$7g=function($D){if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};var $1g=this.$81($D);DayPilotCalendar.editing=$1g;DayPilot.re($1g,DayPilot.touch.start,function(ev){ev.stopPropagation();});$1g.onblur=function(){if(!$D.event){return;};var id=$D.event.value();var $1p=$D.event.tag();var $1q=$D.event.text();var $0K=$1g.value;DayPilotCalendar.editing=null;$1g.onblur=null;DayPilot.de($1g);if($1q===$0K){return;};$D.style.display='none';$d.$7H($D.event,$0K);};$1g.onkeypress=function(e){var $1r=(window.event)?event.keyCode:e.keyCode;if($1r===13){this.onblur();e.preventDefault();return false;}};$1g.onkeyup=function(e){var $1r=(window.event)?event.keyCode:e.keyCode;if($1r===27){$1g.onblur=null;$1g.parentNode&&$1g.parentNode.removeChild($1g);DayPilotCalendar.editing=false;};return true;};$1g.select();$1g.focus();};this.$8e=function(){if($d.viewType==="Resources"){return false;};if($d.$6G()&&$d.$6h()){return false;};return true;};this.$6G=function(){if(DayPilot.isArray($d.columns)){return $d.columns;};return $d.columns.list;};this.columns={};this.columns.list=[];this.columns.$8f=false;this.columns.filter=function($1s){$d.$8g.params=$1s;if($d.$6a){$d.$8h();}};this.columns.find=function($0B,id){var $1t=$d.viewType==="Resources";$0B=new DayPilot.Date($0B);var $0X=$d.$72.find(function($0X){var $1u=!$1t||$0X.id===id;var $1v=$0X.start.addDays(1);if($1u&&$0X.start<=$0B&&$0B<$1v){return true;};return false;});if(!$0X){return null;};return $d.$7k($0X,$d);};this.columns.load=function($1w,$1x,$1y){if(!$1w){throw new DayPilot.Exception("columns.load(): 'url' parameter required");};var $1z=function($l){var $1A={};$1A.exception=$l.exception;$1A.request=$l.request;if(typeof $1y==='function'){$1y($1A);}};var $1B=function($l){var r=$l.request;var $f;try{$f=JSON.parse(r.responseText);}catch(e){var $1C={};$1C.exception=e;$1z($1C);return;};if(DayPilot.isArray($f)){var $1D={};$1D.preventDefault=function(){this.preventDefault.value=true;};$1D.data=$f;if(typeof $1x==="function"){$1x($1D);};if($1D.preventDefault.value){return;};$d.columns.list=$f;if($d.$6a){$d.update();}}};var $1E=$d.columnsLoadMethod&&$d.columnsLoadMethod.toUpperCase()==="POST";if($1E){DayPilot.ajax({"method":"POST","url":$1w,"success":$1B,"error":$1z});}else{DayPilot.ajax({"method":"GET","url":$1w,"success":$1B,"error":$1z});}};this.$6H=function(){var $1F=$d.$8e();if($1F){var $1G=this.$8i();this.$72=this.$8j($1G);}else{this.$6A=this.$8j(this.$6G()||[]);this.$72=this.$8k(this.headerLevels,true);}};this.$8l=function(){var $0b=this.startDate.getDatePart();var $1H=this.days;switch(this.viewType){case "Day":$1H=1;break;case "Week":$1H=7;$0b=$0b.firstDayOfWeek($0h.weekStarts());break;case "WorkWeek":$1H=5;$0b=$0b.firstDayOfWeek($0h.weekStarts());while($0b.dayOfWeek()!==1){$0b=$0b.addDays(1);};break;};var end=$0b.addDays($1H);var $t={};$t.start=$0b;$t.end=end;$t.days=$1H;return $t;};this.$8i=function(){var $0k=[];var $1I=this.$8l();var $0b=$1I.start;var $1H=$1I.days;for(var i=0;i<$1H;i++){var $p={};$p.start=$0b.addDays(i);var $1J=$0h.locale().datePattern;if($d.headerDateFormat){$1J=$d.headerDateFormat;};$p.name=$p.start.toString($1J,$0h.locale());$p.html=$p.name;$0k.push($p);};return $0k;};this.$8g={};this.$8m=function($p,parent){var $1K={};$1K.id=$p.id;$1K.start=new DayPilot.Date($p.start||$d.startDate).getDatePart();$1K.name=$p.name;$1K.html=$p.html||$p.name;$1K.toolTip=$p.toolTip;$1K.backColor=$p.backColor;$1K.areas=$p.areas;$1K.parent=parent;var $1L=!$p.children||$p.children.length===0;if(typeof $d.onColumnFilter==="function"&&$d.$8g.params){if($1L){var parent=$1K.parent;var $l={};$l.visible=true;$l.column={"id":$p.id,"name":$p.name,"start":$p.start,"data":$p};$l.filter=$d.$8g.params;$d.onColumnFilter($l);if($l.visible){parent&&parent.$8n();}else{$1K.hidden=true;}}else{$1K.hidden=true;}};$1K.$8n=function(){$1K.hidden=false;if($1K.parent){$1K.parent.$8n();}};$1K.getChildren=function($1M,$1N){var $1m=[];if($1M<=1){if(!this.hidden){$1m.push(this);};return $1m;};if(!this.children||this.children.length===0){if($1N){if(!this.hidden){$1m.push(this);}}else{$1m.push("empty");};return $1m;};for(var i=0;i<this.children.length;i++){var $1O=this.children[i];var $1P=$1O.getChildren($1M-1,$1N);for(var j=0;j<$1P.length;j++){$1m.push($1P[j]);}};return $1m;};$1K.getChildrenCount=function($1M){var $1l=0;if(!this.children||this.children.length<=0||$1M<=1){var $1I=!this.hidden;return $1I?1:0;};for(var i=0;i<this.children.length;i++){$1l+=this.children[i].getChildrenCount($1M-1);};return $1l;};$1K.putIntoBlock=function(ep){for(var i=0;i<this.blocks.length;i++){var $1Q=this.blocks[i];if($1Q.overlapsWith(ep.part.top,ep.part.height)){$1Q.events.push(ep);$1Q.min=Math.min($1Q.min,ep.part.top);$1Q.max=Math.max($1Q.max,ep.part.top+ep.part.height);return i;}};var $1Q=[];$1Q.lines=[];$1Q.events=[];$1Q.overlapsWith=function($0b,$1f){var end=$0b+$1f-1;if(!(end<this.min||$0b>this.max-1)){return true;};return false;};$1Q.putIntoLine=function(ep){var $1R=this;for(var i=0;i<this.lines.length;i++){var $1S=this.lines[i];if($1S.isFree(ep.part.top,ep.part.height)){$1S.push(ep);return i;}};var $1S=[];$1S.isFree=function($0b,$1f){var end=$0b+$1f-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.top||$0b>e.part.top+e.part.height-1)){return false;}};return true;};$1S.push(ep);this.lines.push($1S);return this.lines.length-1;};$1Q.events.push(ep);$1Q.min=ep.part.top;$1Q.max=ep.part.top+ep.part.height;this.blocks.push($1Q);return this.blocks.length-1;};$1K.putIntoLine=function(ep){var $1R=this;for(var i=0;i<this.lines.length;i++){var $1S=this.lines[i];if($1S.isFree(ep.part.top,ep.part.height)){$1S.push(ep);return i;}};var $1S=[];$1S.isFree=function($0b,$1f){var end=$0b+$1f-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.top||$0b>e.part.top+e.part.height-1)){return false;}};return true;};$1S.push(ep);this.lines.push($1S);return this.lines.length-1;};$1K.visibleStart=function(){return $1K.start.addHours($d.$79(true));};$1K.visibleEnd=function(){var $K=$d.$75(true);return $1K.visibleStart().addTime($K);};if($p.children){$1K.children=this.$8j($p.children,$1K);};return $1K;};this.$8j=function(cc,parent){var $1K=DayPilot.list();DayPilot.list(cc).each(function($1T){var $0X=$d.$8m($1T,parent);$1K.push($0X);});return $1K;};this.$8k=function($1M,$1N){var $1U=this.$8e()?this.$72:this.$6A;var $1m=DayPilot.list();for(var i=0;i<$1U.length;i++){var $s=$1U[i].getChildren($1M,$1N);for(var j=0;j<$s.length;j++){$1m.push($s[j]);}};return $1m;};this.$6X=function(){if(!this.showAllDayEvents){return;};var $1V=this.nav.header;if(!$1V){return;};$1V.style.display='none';var $0k=this.$72.length;for(var j=0;j<this.$8o.lines.length;j++){var $1S=this.$8o.lines[j];for(var i=0;i<$1S.length;i++){var $f=$1S[i];var $1W=$f.cache||$f.data;var $X=document.createElement("div");$X.event=$f;$X.setAttribute("unselectable","on");$X.style.position='absolute';if($d.rtl){$X.style.right=(100.0*$f.part.colStart/$0k)+"%";}else{$X.style.left=(100.0*$f.part.colStart/$0k)+"%";};$X.style.width=(100.0*$f.part.colWidth/$0k)+"%";$X.style.height=$0h.allDayEventHeight()+'px';$X.className=this.$73("_alldayevent");$X.style.top=(this.headerLevels*$0h.headerHeight()+j*($0h.allDayEventHeight()))+"px";if($1W.cssClass){DayPilot.Util.addClass($X,$1W.cssClass);};$X.style.textAlign='left';$X.style.lineHeight="1.2";if($f.client.clickEnabled()){$X.onclick=this.$7e;};if($f.client.doubleClickEnabled()){$X.ondblclick=this.$7i;};if($f.client.clickEnabled()||$f.client.doubleClickEnabled()){$X.style.cursor="pointer";}else{$X.style.cursor="default";};DayPilot.re($X,"contextmenu",this.$7j);$X.onmousemove=function(ev){var $X=this;if(!$X.active){var $1X=[];if($f.client.deleteEnabled()){$1X.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":3,"right":3,"css":$d.$73("_event_delete"),"js":function(e){$d.$7o(e);}});};var $1m=$1W.areas;if($1m&&$1m.length>0){$1X=$1X.concat($1m);};DayPilot.Areas.showAreas($X,$X.event,null,$1X);DayPilot.Util.addClass($X,$d.$73("_alldayevent_hover"));};if(typeof(DayPilot.Bubble)!=='undefined'&&$d.bubble&&$d.eventHoverHandling!=='Disabled'){$d.bubble.showEvent(this.event);}};$X.onmouseout=function(ev){var $X=this;DayPilot.Util.removeClass($X,$d.$73("_alldayevent_hover"));DayPilot.Areas.hideAreas(this,ev);if($d.bubble){$d.bubble.hideOnMouseOut();}};if(this.showToolTip&&!this.bubble){$X.setAttribute("title",$f.client.toolTip());};var $1Y=$f.start().getTime()===$f.part.start.getTime();var $1Z=$f.end().getTime()===$f.part.end.getTime();var back=$1W.backColor;var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.className=this.$73("_alldayevent_inner");if(back){$M.style.background=back;};if($1W.fontColor){$M.style.color=$1W.fontColor;};if($1W.borderColor==="darker"&&$1W.backColor){$M.style.borderColor=DayPilot.ColorUtil.darker($1W.backColor,2);}else{$M.style.borderColor=$1W.borderColor;};if($d.rtl){if(!$1Y){DayPilot.Util.addClass($X,this.$73("_alldayevent_continueright"));};if(!$1Z){DayPilot.Util.addClass($X,this.$73("_alldayevent_continueleft"));}}else{if(!$1Y){DayPilot.Util.addClass($X,this.$73("_alldayevent_continueleft"));};if(!$1Z){DayPilot.Util.addClass($X,this.$73("_alldayevent_continueright"));}};$X.appendChild($M);if($d.$70()){if(typeof $d.onAfterEventRender==='function'){var $l={};$l.e=$X.event;$l.div=$X;$d.onAfterEventRender($l);}}else{if($d.afterEventRender){$d.afterEventRender($X.event,$X);}};(function domAdd(){var $l={};$l.control=$d;$l.e=$f;$l.element=null;$X.domArgs=$l;if(typeof $d.onBeforeEventDomAdd==="function"){$d.onBeforeEventDomAdd($l);};if($l.element){var $20=$M;if($20){$l.$8p=$20;var $21=DayPilot.Util.isReactComponent($l.element);if($21){if(!$d.$6t.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$d.$6t.reactDOM.render($l.element,$20);}else{$20.appendChild($l.element);}}}else{$M.innerHTML=$f.client.innerHTML();}})();this.nav.allday.appendChild($X);this.elements.events.push($X);}};$1V.style.display='';};this.$6o=function($22){$d.multiselect.$8d();if(this.elements.events){for(var i=0;i<this.elements.events.length;i++){var $X=this.elements.events[i];var $D=$X.event;if($D&&$22&&!$D.allday()){continue;};$d.$8q($X);}};this.elements.events=[];};this.$8q=function($X){var $D=$X.event;var $23=$X.domArgs;$X.domArgs=null;if($23&&typeof $d.onBeforeEventDomRemove==="function"){$d.onBeforeEventDomRemove($23);};if($23&&typeof $d.onBeforeEventDomAdd==="function"&&$d.$6t.reactDOM){var $20=$23&&$23.$8p;if($20){var $24=DayPilot.Util.isReactComponent($23.element);if($24){if(!$d.$6t.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$d.$6t.reactDOM.unmountComponentAtNode($20);}}};if($D){$D.div=null;$D.root=null;};$X.onclick=null;$X.onclickSave=null;$X.ondblclick=null;$X.oncontextmenu=null;$X.onmouseover=null;$X.onmouseout=null;$X.onmousemove=null;$X.onmousedown=null;if($X.firstChild&&$X.firstChild.firstChild&&$X.firstChild.firstChild.tagName&&$X.firstChild.firstChild.tagName.toUpperCase()==='IMG'){var $25=$X.firstChild.firstChild;$25.onmousedown=null;$25.onmousemove=null;$25.onclick=null;};$X.helper=null;$X.event=null;DayPilot.de($X);};this.$8r=function($f){var $F=this.nav.events;var $1W=$f.cache||$f.data;var $X=document.createElement("div");$X.setAttribute("unselectable","on");$X.style.MozUserSelect='none';$X.style.KhtmlUserSelect='none';$X.style.WebkitUserSelect='none';$X.style.position='absolute';$X.className=this.$73("_event");$X.style.left=$f.part.left+'%';$X.style.top=($f.part.top-this.$7Q())+'px';$X.style.width=$f.part.width+'%';$X.style.height=Math.max($f.part.height,2)+'px';$X.style.overflow='hidden';$X.isFirst=$f.part.start.getTime()===$f.start().getTime();$X.isLast=$f.part.end.getTime()===$f.end().getTime();if($f.client.clickEnabled()){$X.onclick=this.$7e;};if($f.client.doubleClickEnabled()){$X.ondblclick=this.$7i;};DayPilot.re($X,"contextmenu",this.$7j);$X.onmousemove=this.$8s;$X.onmouseout=this.$8t;$X.onmousedown=this.$8u;DayPilot.re($X,DayPilot.touch.start,this.$8v.onEventTouchStart);DayPilot.re($X,DayPilot.touch.move,this.$8v.onEventTouchMove);DayPilot.re($X,DayPilot.touch.end,this.$8v.onEventTouchEnd);if($1W.cssClass){DayPilot.Util.addClass($X,$1W.cssClass);};if(this.showToolTip&&!this.bubble){$X.setAttribute("title",$f.client.toolTip());};var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.className=$d.$73("_event_inner");if($1W.fontColor){$M.style.color=$1W.fontColor;};if($1W.backColor){$M.style.background=$1W.backColor;};if($1W.borderColor){$M.style.borderColor=$1W.borderColor;};if($1W.backgroundImage){$M.style.backgroundImage="url("+$1W.backgroundImage+")";if($1W.backgroundRepeat){$M.style.backgroundRepeat=$1W.backgroundRepeat;}};$X.appendChild($M);if($f.client.barVisible()){var $J=$f.part.height-2;var $26=100*$f.part.barTop/$J;var $27=Math.ceil(100*$f.part.barHeight/$J);if(this.durationBarMode==="PercentComplete"){$26=0;$27=$1W.complete;};var $28=document.createElement("div");$28.setAttribute("unselectable","on");$28.className=this.$73("_event_bar");$28.style.position="absolute";if($1W.barBackColor){$28.style.backgroundColor=$1W.barBackColor;};var $29=document.createElement("div");$29.setAttribute("unselectable","on");$29.className=this.$73("_event_bar_inner");$29.style.top=$26+"%";if(0<$27&&$27<=1){$29.style.height="1px";}else{$29.style.height=$27+"%";};if($1W.barColor){$29.style.backgroundColor=$1W.barColor;};$28.appendChild($29);$X.appendChild($28);};if($1W.areas){var $1X=DayPilot.Areas.copy($1W.areas);var $0X=$d.$72[$f.part.dayIndex];$1X.forEach(function($2a){if($2a.start){$2a.top=$d.$7P(new DayPilot.Date($2a.start),$0X.start).top-$f.part.top-$d.$7Q();};if($2a.end){$2a.bottom=$f.part.top+$f.part.height-$d.$7P(new DayPilot.Date($2a.end),$0X.start).top-$d.$7Q();}});if($f.client.deleteEnabled()){$1X.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":2,"right":2,"css":$d.$73("_event_delete"),"js":function(e){$d.$7o(e);}});};DayPilot.Areas.attach($X,$f,{"areas":$1X});};(function domAdd(){var $l={};$l.control=$d;$l.e=$f;$l.element=null;$X.domArgs=$l;if(typeof $d.onBeforeEventDomAdd==="function"){$d.onBeforeEventDomAdd($l);};if($l.element){var $20=$M;if($20){$l.$8p=$20;var $21=DayPilot.Util.isReactComponent($l.element);if($21){if(!$d.$6t.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$d.$6t.reactDOM.render($l.element,$20);}else{$20.appendChild($l.element);}}}else{$M.innerHTML=$f.client.innerHTML();}})();if($F.rows[0].cells[$f.part.dayIndex]){var $2b=$F.rows[0].cells[$f.part.dayIndex].events;$2b.appendChild($X);$d.$8w($X);$X.event=$f;if($d.multiselect.$86($f)){$d.multiselect.add($X.event,true);};if($d.$70()){if(typeof $d.onAfterEventRender==='function'){var $l={};$l.e=$X.event;$l.div=$X;$d.onAfterEventRender($l);}}else{if($d.afterEventRender){$d.afterEventRender($X.event,$X);}}};$d.elements.events.push($X);};this.$8w=function(el){var c=(el&&el.childNodes)?el.childNodes.length:0;for(var i=0;i<c;i++){try{var $1O=el.childNodes[i];if($1O.nodeType===1){$1O.setAttribute("unselectable","on");this.$8w($1O);}}catch(e){}}};this.$6W=function(){var $0b=new Date();for(var i=0;i<this.$72.length;i++){var $0X=this.$72[i];if(!$0X.blocks){continue;};for(var m=0;m<$0X.blocks.length;m++){var $1Q=$0X.blocks[m];for(var j=0;j<$1Q.lines.length;j++){var $1S=$1Q.lines[j];for(var k=0;k<$1S.length;k++){var e=$1S[k];e.part.width=100/$1Q.lines.length;e.part.left=e.part.width*j;if(this.eventArrangement==='Cascade'){var $2c=(j===$1Q.lines.length-1);if(!$2c){e.part.width=e.part.width*1.5;}};if(this.eventArrangement==='Full'){e.part.left=e.part.left/2;e.part.width=100-e.part.left;};if(!e.allday()){this.$8r(e);}}}}};this.multiselect.redraw();var end=new Date();var $2d=end.getTime()-$0b.getTime();};this.$8x=function(){this.multiselect.$7J=[];for(var i=0;i<this.$72.length;i++){var $0X=this.$72[i];for(var j=0;j<$0X.lines.length;j++){var $1S=$0X.lines[j];for(var k=0;k<$1S.length;k++){var e=$1S[k];e.part.width=100/$0X.lines.length;e.part.left=e.Width*j;if(!e.allday()){this.$8r(e);}}}}};this.$73=function($2e){var $2f=this.theme||this.cssClassPrefix;if($2f){return $2f+$2e;}else{return "";}};this.$8y=function(){switch($d.$6b){case "aspnet":if(!this.$6m()){throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");};break;case "netmvc":if(!this.backendUrl){throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");};break;case "javaxx":if(!this.backendUrl){throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");};break;}};this.$6V=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$8z=function(){var $J=this.$7a()+this.$8A();$d.debug.message("Getting totalHeight, headerHeight: "+this.$7a()+" scrollable: "+this.$8A());if($J<0){return 0;};return $J;};this.$8B=function(){this.nav.top.dp=this;this.nav.top.innerHTML='';this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.WebkitUserSelect='none';this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)";this.nav.top.style.WebkitTouchCallout="none";this.nav.top.style.position='relative';if(this.width){this.nav.top.style.width=this.width;};if(this.rtl){this.nav.top.style.direction="rtl";};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";}else{this.nav.top.style.height=this.$8z()+"px";};if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};if(!this.visible){this.nav.top.style.display="none";};this.nav.scroll=document.createElement("div");this.nav.scroll.style.height=this.$8A()+"px";DayPilot.Util.addClass(this.nav.top,this.$73("_main"));if($d.rtl){DayPilot.Util.addClass(this.nav.top,this.$73("_direction_rtl"));};this.nav.scroll.style.position="relative";if(this.showHeader){var $1V=this.$8C();this.nav.top.appendChild($1V);};this.nav.scroll.style.zoom=1;this.nav.scroll.style.position="absolute";this.nav.scroll.style.left="0px";this.nav.scroll.style.right="0px";this.nav.scroll.style.top=this.$7a()+"px";this.nav.scroll.className=$d.$73("_scroll");var $2g=this.$8D();this.nav.scrollable=$2g.firstChild;this.nav.scroll.appendChild($2g);this.nav.top.appendChild(this.nav.scroll);this.nav.vsph=document.createElement("div");this.nav.vsph.style.display="none";this.nav.top.appendChild(this.nav.vsph);this.nav.scrollpos=document.createElement("input");this.nav.scrollpos.type="hidden";this.nav.scrollpos.id=$d.id+"_scrollpos";this.nav.scrollpos.name=this.nav.scrollpos.id;this.nav.top.appendChild(this.nav.scrollpos);this.nav.select=document.createElement("input");this.nav.select.type="hidden";this.nav.select.id=$d.id+"_select";this.nav.select.name=this.nav.select.id;this.nav.select.value=null;this.nav.top.appendChild(this.nav.select);this.nav.scrollLayer=document.createElement("div");this.nav.scrollLayer.style.position='absolute';this.nav.scrollLayer.style.top='0px';this.nav.scrollLayer.style.left='0px';this.nav.top.appendChild(this.nav.scrollLayer);this.nav.scrollUp=[];this.nav.scrollDown=[];this.nav.loading=document.createElement("div");this.nav.loading.style.position='absolute';this.nav.loading.style.top='0px';this.nav.loading.style.left=(this.hourWidth+5)+"px";this.nav.loading.className=$d.$73("_loading");this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.display='none';this.nav.top.appendChild(this.nav.loading);};this.$8E=function(){var $14=this.columnWidthSpec==='Fixed';var $2h=this.nav.header&&this.nav.header.rows[this.nav.header.rows.length-1];var $2i=this.nav.events.rows[0];for(var i=0;i<$d.$72.length;i++){var $2j=$2h&&$2h.cells[i];var $2k=$2i.cells[i];var $2l=$2j&&$2j.firstChild;var $f=$d.$72[i];if($14){var $1f=$f.width?$f.width:$d.columnWidth;$2l&&($2l.style.width=$1f+"px");if($2k){$2k.style.width=$1f+"px";}}else{if(!$d.$66){$2l&&($2l.style.width=null);if($2k){$2k.style.width=null;}}}}};this.$7b=function(){return this.$65?$d.nav.bottomRight:$d.nav.scroll;};this.$6T=function(){var $14=this.columnWidthSpec==='Fixed';if(!$14){var element=$d.$7b();if(this.heightSpec==="Fixed"){element.style.overflowY="scroll";}else if(this.heightSpec==='BusinessHours'&&this.$74()<=this.businessEndsHour-this.businessBeginsHour){element.style.overflow="hidden";}else if(this.heightSpec!=="Full"&&this.heightSpec!=="BusinessHoursNoScroll"){element.style.overflow="auto";}else{element.style.overflow="hidden";}};if($14){var $2m=0;var w=this.$72.length*this.columnWidth;var $2n=$d.$7Y();if(w>$2n.clientWidth){$2m=DayPilot.sw($d.nav.bottomRight);};$d.nav.headerParent&&($d.nav.headerParent.style.width=(w+$2m)+"px");$d.nav.main.style.width=w+"px";$d.nav.events.style.width=w+"px";$d.nav.crosshair.style.width=w+"px";}else{$d.nav.headerParent&&($d.nav.headerParent.style.width="100%");$d.nav.main.style.width="100%";$d.nav.events.style.width="100%";$d.nav.crosshair.style.width="100%";};this.$8E();};this.$6Q=function(){if(!this.$67){DayPilot.pu(this.nav.hourTable);}else{this.$6p();};if(this.nav.hoursPlaceholder){this.nav.hoursPlaceholder.innerHTML='';this.nav.hourTable=this.$8F();this.nav.hoursPlaceholder.appendChild(this.nav.hourTable);}};this.$6p=function(){if(!this.nav.hourTable){return;};$d.elements.timeHeaders.forEach(function($X){var $23=$X.domArgs;$X.domArgs=null;if(typeof $d.onBeforeTimeHeaderDomRemove==="function"){$d.onBeforeTimeHeaderDomRemove($23);};if(typeof $d.onBeforeTimeHeaderDomAdd==="function"&&$d.$6t.reactDOM){var $20=$23&&$23.$8p;if($20){var $24=DayPilot.Util.isReactComponent($23.element);if($24){if(!$d.$6t.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$d.$6t.reactDOM.unmountComponentAtNode($20);}}}});for(var i=0;i<this.nav.hourTable.rows.length;i++){var $2o=this.nav.hourTable.rows[i];var $X=$2o.cells[0].firstChild;$X.data=null;$X.onmousemove=null;$X.onmouseout=null;};$d.elements.timeHeaders=[];};this.$8D=function(){var $2p=document.createElement("div");$2p.style.zoom=1;$2p.style.position='relative';$2p.onmousemove=this.$8G;$2p.oncontextmenu=this.$8H;DayPilot.re($2p,DayPilot.touch.start,this.$8v.onMainTouchStart);DayPilot.re($2p,DayPilot.touch.move,this.$8v.onMainTouchMove);DayPilot.re($2p,DayPilot.touch.end,this.$8v.onMainTouchEnd);DayPilot.re($2p,"contextmenu",function(ev){var ev=ev||window.event;ev.preventDefault?ev.preventDefault():ev.returnValue=false;});if(navigator.msPointerEnabled){$2p.style.msTouchAction="none";$2p.style.touchAction="none";};$2p.daypilotMainD=true;$2p.calendar=this;var $2q=null;var $2r=null;if(this.showHours){var $Y=document.createElement("div");$Y.style.cssFloat="left";if($d.rtl){$Y.style.cssFloat="right";};$Y.style.width=(this.hourWidth)+"px";$Y.style.height=this.$8A()+"px";$Y.style.overflow="hidden";$Y.style.position="relative";$2p.appendChild($Y);$2q=$Y;var $2m=30;var $J=$d.$8I()+$2m;$2r=document.createElement("div");$2r.style.height=($J)+"px";$Y.appendChild($2r);};var $2s=document.createElement("div");$2s.style.height=this.$8A()+"px";if(this.showHours){if($d.rtl){$2s.style.marginRight=(this.hourWidth)+"px";}else{$2s.style.marginLeft=(this.hourWidth)+"px";}};$2s.style.position="relative";$2s.style.overflow="auto";$2p.appendChild($2s);if($2r){this.nav.hourTable=this.$8F();$2r.appendChild(this.nav.hourTable);};var parent=document.createElement("div");parent.style.height="0px";parent.style.position="relative";parent.appendChild(this.$8J());var $2t=document.createElement("div");$2t.style.position="absolute";$2t.style.top="0px";$2t.style.left="0px";$2t.style.width="100%";$2t.style.height="0px";parent.appendChild($2t);this.nav.crosshair=$2t;parent.appendChild(this.$8K());$2s.appendChild(parent);this.nav.grid=parent;this.nav.zoom=$2p;this.nav.bottomLeft=$2q;this.nav.bottomRight=$2s;this.nav.hoursPlaceholder=$2r;return $2p;};this.$8J=function(){if($d.$66){var $F=document.createElement("div");$d.nav.main=$F;return $F;}else{var $2u=document.createElement("table");$2u.cellPadding="0";$2u.cellSpacing="0";$2u.border="0";var $14=this.columnWidthSpec==='Fixed';if(!$14){$2u.style.width="100%";};$2u.style.border="0px none";$2u.style.margin="0px";$2u.style.tableLayout='fixed';this.nav.main=$2u;return $2u;}};this.$8L=function(){var $2v=this.columnWidthSpec==='Fixed';if(!$2v){return "100%";}else{var $2w=0;for(var i=0;i<$d.$72.length;i++){var $p=$d.$72[i];if($p.width){$2w+=$p.width;}else{$2w+=$d.columnWidth;}};return $2w+"px";}};this.$8K=function(){if($d.$66){var $2x=document.createElement("div");$2x.style.userSelect="none";$2x.style.position="absolute";$2x.style.left="0px";$2x.style.right="0px";$2x.style.top="0px";$2x.style.height="0px";$d.nav.events=$2x;return $2x;}else{var $2u=document.createElement("table");$2u.style.position="absolute";$2u.style.top="0px";$2u.cellPadding="0";$2u.cellSpacing="0";$2u.border="0";$2u.style.width=$d.$8L();$2u.style.border="0px none";$2u.style.margin="0px";$2u.style.tableLayout='fixed';this.nav.events=$2u;var $2y=true;var $0k=this.$72;var cl=$0k.length;var r=($2y)?$2u.insertRow(-1):$2u.rows[0];for(var j=0;j<cl;j++){var c=($2y)?r.insertCell(-1):r.cells[j];if($2y){c.style.padding='0px';c.style.border='0px none';c.style.height='0px';c.style.overflow='visible';if(!$d.rtl){c.style.textAlign='left';};$d.$8M(c);}};return $2u;}};this.$8F=function(){var $2u=document.createElement("table");$2u.cellSpacing="0";$2u.cellPadding="0";$2u.border="0";$2u.style.margin="0px";$2u.style.border='0px none';$2u.style.width=this.hourWidth+"px";$2u.oncontextmenu=function(){return false;};$2u.onmousemove=function(){$d.$6y();};var $2z=$d.$8N();for(var i=0;i<$2z;i++){this.$8O($2u,i);};return $2u;};this.$8N=function(){return this.$75()/(this.timeHeaderCellDuration*60*1000);};this.$8P=function(){return(this.cellHeight*60/ this.cellDuration)/(60/this.timeHeaderCellDuration);};this.$8Q=function(){return(this.$79()-this.$79(true))*(60/this.cellDuration);};this.$8R=function(){return(this.$79()-this.$79(true));};this.$7Q=function(){return this.$8Q()*this.cellHeight;};this.$8O=function($2u,i){var $J=$d.$8P();var r=$2u.insertRow(-1);r.style.height=$J+"px";var c=r.insertCell(-1);c.valign="bottom";c.setAttribute("unselectable","on");c.style.padding='0px';c.style.border='0px none';var $X=document.createElement("div");$X.className=this.$73("_rowheader");$X.style.position="relative";$X.style.width=this.hourWidth+"px";$X.style.height=($J)+"px";$X.style.overflow='hidden';$X.setAttribute("unselectable","on");var $M=document.createElement("div");$M.className=this.$73("_rowheader_inner");$M.setAttribute("unselectable","on");var $2A=$d.$8S(i);var $S=$2A.html;var $f=$2A.data;if($f){$X.data=$f;$X.onmousemove=$d.$8T;$X.onmouseout=$d.$8U;};var $2B=null;var $l={};$l.header=$f;if(typeof $d.onBeforeTimeHeaderDomAdd==="function"){$l.element=null;$d.onBeforeTimeHeaderDomAdd($l);$2B=$l.element;};$X.domArgs=$l;if($2B){var $20=$M;$l.$8p=$20;var $21=DayPilot.Util.isReactComponent($2B);if($21){if(!$d.$6t.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$d.$6t.reactDOM.render($2B,$20);}else{$20.appendChild($2B);}}else{$M.innerHTML=$S;};$X.appendChild($M);$d.elements.timeHeaders.push($X);c.appendChild($X);};this.$8S=function(i){var $S,$f;if(this.hours){var $2C=i+this.$8R();$f=this.hours[$2C];$S=$f.html;};var $2D=this.timeHeaderCellDuration;var $0b=this.startDate.addMinutes($2D*i+60*this.$79());var $2E=$0b.getHours();var am=$2E<12;var $2F;if(this.$8V.timeFormat()==="Clock12Hours"){if(am){$2F="AM";}else{$2F="PM";}}else{$2F="00";};if(!$S){var $2G=document.createElement("div");$2G.setAttribute("unselectable","on");if(this.$8V.timeFormat()==="Clock12Hours"){$2E=$2E%12;if($2E===0){$2E=12;}};if(this.timeHeaderCellDuration!==60){$2E+=":"+$0b.toString("mm");};$2G.innerHTML=$2E;var $2H=document.createElement("span");$2H.setAttribute("unselectable","on");$2H.className=this.$73("_rowheader_minutes");$2H.innerHTML=$2F;$2G.appendChild($2H);$S=$2G.outerHTML;};var $l={};$l.header={};$l.header.hours=$2E;$l.header.minutes=$0b.getMinutes();$l.header.start=$0b.toString("HH:mm");$l.header.html=$S;$l.header.areas=$f?$f.areas:null;$l.header.time=new DayPilot.Duration($0b.getTimePart());if(typeof $d.onBeforeTimeHeaderRender==='function'){$d.onBeforeTimeHeaderRender($l);if($l.header.html!==null){$S=$l.header.html;}};$f=$l.header;var $t={};$t.start=$0b;$t.hour=$2E;$t.html=$S;$t.data=$f;$t.sup=$2F;return $t;};this.$8T=function(ev){$d.$6y();var $X=this;if(!$X.active){DayPilot.Areas.showAreas($X,$X.data);}};this.$8U=function(ev){DayPilot.Areas.hideAreas(this,ev);};this.$8A=function(){switch(this.heightSpec){case "Fixed":return this.height;case "Parent100Pct":return this.height;case "Full":return this.$8I();case "BusinessHours":case "BusinessHoursNoScroll":var $O=this.$76();return $O*this.cellHeight*60/this.cellDuration;default:throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";}};this.$8I=function(){return($d.$75()*this.cellHeight)/(60000*$d.cellDuration);};this.$7a=function(){if(!this.showHeader){return 0;};var $2I=this.headerLevels*$0h.headerHeight();if(this.showAllDayEvents&&$0h.allDayHeaderHeight()){return $2I+$0h.allDayHeaderHeight();}else{return $2I;}};this.$6M=function(){if(!this.headerHeightAutoFit){return;};var $N=0;for(var x=0;x<this.nav.header.rows.length;x++){var $2o=this.nav.header.rows[x];for(var i=0;i<$2o.cells.length;i++){var $0d=$2o.cells[i];var $X=$0d.firstChild;var $M=$X.firstChild;var $2J=$X.style.height;$X.style.height="auto";$M.style.position="static";var h=$X.offsetHeight;$X.style.height=$2J;$M.style.position='';$N=Math.max($N,h);}};if($N>this.headerHeight){this.$68.headerHeight=$N;this.$6K();this.$6L();}};this.$8W=function(){var element=this.$65?$d.nav.bottomRight:$d.nav.scroll;return DayPilot.sw(element)>0;};this.$8C=function(){var $1V=document.createElement("div");var $14=this.columnWidthSpec==='Fixed';if(!$14){$1V.style.overflow="auto";};$1V.style.position="absolute";$1V.style.left="0px";$1V.style.right="0px";var $2p=document.createElement("div");$2p.style.position="relative";$2p.style.zoom="1";var $2K=null;var $14=this.columnWidthSpec==='Fixed';if($14||this.$65){var $Y=document.createElement("div");$Y.style.cssFloat="left";if($d.rtl){$Y.style.cssFloat="right";};$Y.style.width=(this.hourWidth)+"px";if(this.showHours){var $2L=this.$8X();this.nav.corner=$2L;$Y.appendChild($2L);$2p.appendChild($Y);this.nav.upperLeft=$Y;};var $Z=document.createElement("div");if(this.showHours){if($d.rtl){$Z.style.marginRight=(this.hourWidth)+"px";}else{$Z.style.marginLeft=(this.hourWidth)+"px";}};$Z.style.position="relative";$Z.style.overflow="hidden";$Z.style.height=this.$7a()+"px";$2p.appendChild($Z);this.nav.upperRight=$Z;$2K=document.createElement("div");$2K.style.position="relative";$Z.appendChild($2K);}else{var $2u=document.createElement("table");$2u.cellPadding="0";$2u.cellSpacing="0";$2u.border="0";$2u.style.margin="0px";$2u.style.width="100%";$2u.style.borderCollapse='separate';$2u.style.border="0px none";var r=$2u.insertRow(-1);this.nav.fullHeader=$2u;if(this.showHours){var c=r.insertCell(-1);c.style.padding='0px';c.style.border='0px none';var $2L=this.$8X();c.appendChild($2L);this.nav.corner=$2L;};c=r.insertCell(-1);c.style.width="100%";c.valign="top";c.style.position='relative';c.style.padding='0px';c.style.border='0px none';$2K=document.createElement("div");$2K.style.position="relative";$2K.style.height=this.$7a()+"px";$2K.style.overflow="hidden";c.appendChild($2K);this.nav.mid=$2K;$2p.appendChild($2u);};this.nav.headerParent=$2K;this.nav.headerParent.onmousemove=function(ev){ev.insideMainD=true;};this.$8Y();var $2M=this.$8W();var $14=this.columnWidthSpec==='Fixed';if($2M&&!$14){this.$8Z();};$1V.appendChild($2p);return $1V;};this.$8Y=function(){this.nav.unifiedCornerRight=null;if($d.$66){this.nav.header=document.createElement("div");this.nav.header.style.position="relative";}else{this.nav.header=document.createElement("table");this.nav.header.style.margin="0px";this.nav.header.cellPadding="0";this.nav.header.cellSpacing="0";var $14=this.columnWidthSpec==='Fixed';if(!$14){this.nav.header.width="100%";};this.nav.header.style.tableLayout="fixed";this.nav.header.oncontextmenu=function(){return false;};};this.nav.header.setAttribute("dp-id","header");this.nav.headerParent.appendChild(this.nav.header);this.nav.header.onmousemove=function(){$d.$6y();};if(this.nav.allday){DayPilot.de(this.nav.allday);};var $2N=document.createElement("div");$2N.style.position='absolute';$2N.style.top="0px";$2N.style.height="0px";$2N.setAttribute("dp-id","allday");var $2v=this.columnWidthSpec==='Fixed';if(!$2v){$2N.style.left="0px";$2N.style.right="0px";}else{$2N.style.width=(this.$72.length*this.columnWidth)+"px";};this.nav.allday=$2N;this.nav.headerParent.appendChild($2N);};this.$8Z=function(){if(!this.nav.fullHeader){return;};var r=this.nav.fullHeader.rows[0];var c=r.insertCell(-1);c.style.padding='0px';c.style.verticalAlign='top';c.setAttribute("unselectable","on");var $2O=document.createElement("div");$2O.setAttribute("unselectable","on");$2O.className=this.$73('_cornerright');$2O.style.overflow="hidden";$2O.style.position="relative";$2O.style.width="16px";$2O.style.height=this.$7a()+"px";var $M=document.createElement("div");$M.className=this.$73('_cornerright_inner');$2O.appendChild($M);c.appendChild($2O);this.nav.cornerRight=$2O;};this.$8X=function(){var $2g=document.createElement("div");$2g.style.position='relative';$2g.className=this.$73("_corner");$2g.style.width=this.hourWidth+"px";$2g.style.height=this.$7a()+"px";$2g.style.overflow="hidden";$2g.oncontextmenu=function(){return false;};var $2L=document.createElement("div");$2L.className=this.$73("_corner_inner");$2L.setAttribute("unselectable","on");$2g.appendChild($2L);var $2P=document.createElement("div");$2P.style.position='absolute';$2P.style.padding='2px';$2P.style.top='0px';$2P.style.left='1px';$2P.style.backgroundColor="#FF6600";$2P.style.color="white";$2P.innerHTML="\u0044\u0045\u004D\u004F";$2P.setAttribute("unselectable","on");if(DayPilot.Util.isNullOrUndefined("K5woOes"))$2g.appendChild($2P);return $2g;};this.$6s=function(){if(!$d.nav.corner){return;};if(!$d.nav.corner.firstChild){return;};var $20=$d.nav.corner.firstChild;var $23=$20.domArgs;$20.domArgs=null;if(!$23){return;};if(typeof $d.onBeforeCornerDomRemove==="function"){$d.onBeforeCornerDomRemove($23);};if(typeof $d.onBeforeCornerDomAdd==="function"&&$d.$6t.reactDOM){if($20){var $24=DayPilot.Util.isReactComponent($23.element);if($24){if(!$d.$6t.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$d.$6t.reactDOM.unmountComponentAtNode($20);}}}};this.$6q=function(){var $2u=this.nav.main;$2u.root=null;$2u.onmouseup=null;for(var y=0;y<$2u.rows.length;y++){var r=$2u.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.root=null;c.onmousedown=null;c.onmousemove=null;c.onmouseout=null;c.onmouseup=null;c.onclick=null;c.ondblclick=null;c.oncontextmenu=null;}};if(!this.$67)DayPilot.pu($2u);};this.$6N=function(){for(var i=0;this.nav.scrollUp&&i<this.nav.scrollUp.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);};for(var i=0;this.nav.scrollDown&&i<this.nav.scrollDown.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);};this.nav.scrollUp=[];this.nav.scrollDown=[];};this.$8M=function(c){var $X=document.createElement("div");$X.style.marginRight=$d.columnMarginRight+"px";$X.style.position='relative';$X.style.height='1px';$X.style.marginTop='-1px';c.events=$X;var $2Q=document.createElement("div");$2Q.style.position="relative";$2Q.style.height="1px";$2Q.style.marginTop="-1px";c.separators=$2Q;var $0R=document.createElement("div");$0R.style.position='relative';$0R.style.height='1px';$0R.style.marginTop='-1px';c.selection=$0R;c.appendChild($2Q);c.appendChild($0R);c.appendChild($X);};this.$6P=function(){if($d.$66){$d.$90();}else{$d.$91();}};this.$92=function(){if(this.scrollLabelsVisible){var $0k=this.$72;var $16=(this.showHours?this.hourWidth:0);var $H=(this.nav.scroll.clientWidth-$16)/$0k.length;for(var i=0;i<$0k.length;i++){var $18=document.createElement("div");$18.style.position='absolute';$18.style.top='0px';$18.style.left=($16+2+i*$H+$H/2)+"px";$18.style.display='none';var $25=document.createElement("div");$25.style.height='10px';$25.style.width='10px';$25.className=this.$73("_scroll_up");$18.appendChild($25);this.nav.scrollLayer.appendChild($18);this.nav.scrollUp.push($18);var $19=document.createElement("div");$19.style.position='absolute';$19.style.top='0px';$19.style.left=($16+2+i*$H+$H/2)+"px";$19.style.display='none';var $25=document.createElement("div");$25.style.height='10px';$25.style.width='10px';$25.className=this.$73("_scroll_down");$19.appendChild($25);this.nav.scrollLayer.appendChild($19);this.nav.scrollDown.push($19);}}};this.$93=function(){var $1j=this.nav.events;$1j.innerHTML="";$1j.rows=[{"cells":[]}];$d.$94().forEach(function($2R,x){var $0d=document.createElement("div");$0d.style.height="1px";$0d.style.overflow="visible";$0d.style.position="absolute";$0d.style.left=$2R.left+$2R.unit;$0d.style.right=$2R.left+$2R.unit;$0d.style.width=$2R.width+$2R.unit;$d.$8M($0d);$1j.appendChild($0d);$1j.rows[0].cells.push($0d);});};this.$94=function(){var $0k=$d.$72;var $2v=this.columnWidthSpec==='Fixed';var $0b=0;return DayPilot.list.for($0k.length,function(i){var $0X={};var $1f=0;var $2S="";if($2v){$2S="px";$1f=$0k[i].width?$0k[i].width:$d.columnWidth;}else{$2S="%";$1f=floor2(100/$0k.length);};$0X.left=$0b;$0X.width=$1f;$0X.unit=$2S;$0b+=$1f;return $0X;});function floor2($2T){if(DayPilot.browser.ie||DayPilot.browser.edge){return Math.floor($2T*100)/100;}else{return $2T;}}};this.$90=function(){var $2u=this.nav.main;var $0n=this.cellDuration*60*1000;var $2U=this.$7d();var $2V=this.$8R()*(60/this.cellDuration);var $0k=$d.$72;(function cleanOld(){$d.elements.cells=[];$d.nav.main.innerHTML="";$d.nav.main.rows=[];})();this.nav.scrollable.daypilotMainD=true;this.nav.scrollable.calendar=this;$d.$92();var cl=$0k.length;$d.$93();var $2W=$d.$94();for(var y=0;y<$2U;y++){var top=y*$d.cellHeight;$d.nav.main.rows.push({"cells":[]});function drawCell(x,y){var $2R=$2W[x];var $0X=$d.$72[x];var c=document.createElement("div");c.style.position="absolute";c.style.left=$2R.left+$2R.unit;c.style.right=$2R.left+$2R.unit;c.style.width=$2R.width+$2R.unit;c.style.top=top+"px";c.start=$0X.start.addTime(y*$0n).addHours($d.$79());c.end=c.start.addTime($0n);c.resource=$0X.id;c.data={};c.data.x=x;c.data.y=y;c.data.start=c.start;c.data.end=c.end;c.data.resource=c.resource;c.data.calendar=$d;if(!$d.cellProperties){$d.cellProperties={};};var $0d={};$0d.resource=c.resource;$0d.start=c.start;$0d.end=c.end;var $2C=x+"_"+y;$0d.cssClass=null;$0d.html=null;$0d.backImage=null;$0d.backRepeat=null;$0d.backColor=null;$0d.business=$d.$95(c.start,c.end);if($d.cellProperties[$2C]){DayPilot.Util.copyProps($d.cellProperties[$2C],$0d,['cssClass','html','backImage','backRepeat','backColor','business','areas','disabled']);};if(typeof $d.onBeforeCellRender==='function'){var $l={};$l.cell=$0d;$d.onBeforeCellRender($l);};$d.cellProperties[$2C]=$0d;var $2A=$d.$96(x,y);var $2X;c.root=$d;c.setAttribute("unselectable","on");$2X=document.createElement("div");$2X.className=$d.$73("_cell");$2X.style.position="relative";$2X.style.height=($d.cellHeight)+"px";$2X.style.overflow='hidden';$2X.setAttribute("unselectable","on");var $M=document.createElement("div");$M.className=$d.$73("_cell_inner");$2X.appendChild($M);c.appendChild($2X);c.onmousedown=$d.$7L;c.onmousemove=$d.$7V;c.onmouseout=$d.$7U;DayPilot.re(c,DayPilot.touch.end,$d.$8v.onCellTouchEnd);c.oncontextmenu=function(){if(!this.selected){$d.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$d.selectedCells.push(this);DayPilotCalendar.firstSelected=this;DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;$d.$7M();};if($d.timeRangeRightClickHandling==="Disabled"){return false;};return false;};var $V=$d.$97(x,y);$2X=c.firstChild;var $14=$d.columnWidthSpec==='Fixed';if($14){if($0X.width){$2X.style.width=$0X.width+"px";}else{$2X.style.width=$d.columnWidth+"px";}};if($V){$2X.firstChild.style.background=$V;};var $2Y=$2A?$2A.business:$d.$95(c.start,c.end);if($2Y){DayPilot.Util.addClass($2X,$d.$73("_cell_business"));};var $S=$2X.firstChild;if($S){$S.innerHTML='';};$2X.style.backgroundImage="";$2X.style.backgroundRepeat="";if($2A){if($2A.html){$S.innerHTML=$2A.html;};if($2A.cssClass){DayPilot.Util.addClass($2X,$2A.cssClass);};if($2A.backImage){$2X.style.backgroundImage="url('"+$2A.backImage+"')";};if($2A.backRepeat){$2X.style.backgroundRepeat=$2A.backRepeat;};if($2A.areas){var $2Z={};$2Z.start=c.start;$2Z.end=c.end;$2Z.resource=c.resource;var $1X=DayPilot.list($2A.areas).filter(function(a){if(a.end&&new DayPilot.Date(a.end)<=c.start){return false;};if(a.start&&new DayPilot.Date(a.start)>=c.end){return false;};return true;});$1X.forEach(function(a){if(!a.start&&!a.end){return;};if(a.start){var $30=new DayPilot.Date(a.start).getTime()-c.start.getTime();a.top=$d.$98($30);};if(a.end){var $31=new DayPilot.Date(a.end).getTime()-c.start.getTime();a.height=$d.$98($31)-a.top;}});DayPilot.Areas.attach($2X,$2Z,{"areas":$1X});}};$d.nav.main.appendChild(c);$d.nav.main.rows[y].cells.push(c);};if(DayPilot.browser.ie){for(var x=$0k.length-1;x>=0;x--){drawCell(x,y);}}else{for(var x=0;x<$0k.length;x++){drawCell(x,y);}}}};this.$91=function(){var $2u=this.nav.main;var $0n=this.cellDuration*60*1000;var $2U=this.$7d();var $2V=this.$8R()*(60/this.cellDuration);var $0k=$d.$72;var $2y=true;var scrollY=0;if($2u){scrollY=$d.$7Y().scrollTop;this.$6q();};this.nav.scrollable.daypilotMainD=true;this.nav.scrollable.calendar=this;while($2u&&$2u.rows&&$2u.rows.length>0&&$2y){if(!this.$67)DayPilot.pu($2u.rows[0]);$2u.deleteRow(0);};this.$99=true;if(this.scrollLabelsVisible){var $0k=this.$72;var $16=(this.showHours?this.hourWidth:0);var $H=(this.nav.scroll.clientWidth-$16)/$0k.length;for(var i=0;i<$0k.length;i++){var $18=document.createElement("div");$18.style.position='absolute';$18.style.top='0px';$18.style.left=($16+2+i*$H+$H/2)+"px";$18.style.display='none';var $25=document.createElement("div");$25.style.height='10px';$25.style.width='10px';$25.className=this.$73("_scroll_up");$18.appendChild($25);this.nav.scrollLayer.appendChild($18);this.nav.scrollUp.push($18);var $19=document.createElement("div");$19.style.position='absolute';$19.style.top='0px';$19.style.left=($16+2+i*$H+$H/2)+"px";$19.style.display='none';var $25=document.createElement("div");$25.style.height='10px';$25.style.width='10px';$25.className=this.$73("_scroll_down");$19.appendChild($25);this.nav.scrollLayer.appendChild($19);this.nav.scrollDown.push($19);}};var cl=$0k.length;if(this.cssOnly||this.$63){var $1j=this.nav.events;while($1j&&$1j.rows&&$1j.rows.length>0&&$2y){if(!this.$67)DayPilot.pu($1j.rows[0]);$1j.deleteRow(0);};var r=($2y)?$1j.insertRow(-1):$1j.rows[0];for(var j=0;j<cl;j++){var c=($2y)?r.insertCell(-1):r.cells[j];if($2y){c.style.padding='0px';c.style.border='0px none';c.style.height='1px';c.style.overflow='visible';var $14=this.columnWidthSpec==='Fixed';if($14){if($0k[j].width){c.style.width=$0k[j].width+"px";}else{c.style.width=this.columnWidth+"px";}};if(!$d.rtl){c.style.textAlign='left';};$d.$8M(c);}}};for(var i=0;i<$2U;i++){var r=($2y)?$2u.insertRow(-1):$2u.rows[i];var y=i;if($2y){r.style.MozUserSelect='none';r.style.KhtmlUserSelect='none';r.style.WebkitUserSelect='none';};for(var j=0;j<cl;j++){var $0X=this.$72[j];var c=($2y)?r.insertCell(-1):r.cells[j];c.start=$0X.start.addTime(y*$0n).addHours(this.$79());c.end=c.start.addTime($0n);c.resource=$0X.id;if(!this.cellProperties){this.cellProperties={};};var $0d={};$0d.resource=c.resource;$0d.start=c.start;$0d.end=c.end;var $2C=j+"_"+y;$0d.cssClass=null;$0d.html=null;$0d.backImage=null;$0d.backRepeat=null;$0d.backColor=null;$0d.business=this.$95(c.start,c.end);if(this.cellProperties[$2C]){DayPilot.Util.copyProps(this.cellProperties[$2C],$0d,['cssClass','html','backImage','backRepeat','backColor','business','areas','disabled']);};if(typeof this.onBeforeCellRender==='function'){var $l={};$l.cell=$0d;this.onBeforeCellRender($l);};this.cellProperties[$2C]=$0d;var $2A=$d.$96(j,y);var $2X;if($2y){c.root=this;c.setAttribute("unselectable","on");$2X=document.createElement("div");$2X.className=$d.$73("_cell");$2X.style.position="relative";$2X.style.height=($d.cellHeight)+"px";$2X.style.overflow='hidden';$2X.setAttribute("unselectable","on");var $M=document.createElement("div");$M.className=$d.$73("_cell_inner");$2X.appendChild($M);c.appendChild($2X);}else{$2X=c.firstChild;$2X.className=$d.$73("_cell");};c.onmousedown=this.$7L;c.onmousemove=this.$7V;c.onmouseout=this.$7U;DayPilot.re(c,DayPilot.touch.end,this.$8v.onCellTouchEnd);c.oncontextmenu=function(){if(!this.selected){$d.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$d.selectedCells.push(this);DayPilotCalendar.firstSelected=this;DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;$d.$7M();};if($d.timeRangeRightClickHandling==="Disabled"){return false;};return false;};var $V=$d.$97(j,y);$2X=c.firstChild;var $14=this.columnWidthSpec==='Fixed';if($14){if($0X.width){$2X.style.width=$0X.width+"px";}else{$2X.style.width=this.columnWidth+"px";}};if($V){$2X.firstChild.style.background=$V;};var $2Y=$2A?$2A.business:this.$95(c.start,c.end);if($2Y){DayPilot.Util.addClass($2X,$d.$73("_cell_business"));};var $S=$2X.firstChild;if($S){$S.innerHTML='';};$2X.style.backgroundImage="";$2X.style.backgroundRepeat="";if($2A){if($2A.html){$S.innerHTML=$2A.html;};if($2A.cssClass){DayPilot.Util.addClass($2X,$2A.cssClass);};if($2A.backImage){$2X.style.backgroundImage="url('"+$2A.backImage+"')";};if($2A.backRepeat){$2X.style.backgroundRepeat=$2A.backRepeat;};if($2A.areas){var $2Z={};$2Z.start=c.start;$2Z.end=c.end;$2Z.resource=c.resource;var $1X=DayPilot.list($2A.areas).filter(function(a){if(a.end&&new DayPilot.Date(a.end)<=c.start){return false;};if(a.start&&new DayPilot.Date(a.start)>=c.end){return false;};return true;});$1X.forEach(function(a){if(!a.start&&!a.end){return;};if(a.start){var $30=new DayPilot.Date(a.start).getTime()-c.start.getTime();a.top=$d.$98($30);};if(a.end){var $31=new DayPilot.Date(a.end).getTime()-c.start.getTime();a.height=$d.$98($31)-a.top;}});DayPilot.Areas.attach($2X,$2Z,{"areas":$1X});}}}};$2u.onmouseup=this.$7W;$2u.root=this;$2u.style.height=($2U*$d.cellHeight)+"px";$d.nav.scrollable.style.display='';$d.$7Y().scrollTop=scrollY;};this.$8H=function(ev){if($0P.detected){return;};var $0R=$d.getSelection();if(!$0R){return;};var $l={};$l.start=$0R.start;$l.end=$0R.end;$l.resource=$0R.resource;$l.preventDefault=function(){this.preventDefault.value=true;};if(typeof $d.onTimeRangeRightClick==="function"){$d.onTimeRangeRightClick($l);if($l.preventDefault.value){return false;}};if($d.timeRangeRightClickHandling==="ContextMenu"&&$d.contextMenuSelection){$d.contextMenuSelection.show($d.getSelection());};if(typeof $d.onTimeRangeRightClicked==="function"){$d.onTimeRangeRightClicked($l);}};this.$95=function($0b,end){if(this.businessBeginsHour<this.businessEndsHour){return !($0b.getHours()<this.businessBeginsHour||$0b.getHours()>=this.businessEndsHour||$0b.getDayOfWeek()===6||$0b.getDayOfWeek()===0);};if($0b.getHours()>=this.businessBeginsHour){return true;};if($0b.getHours()<this.businessEndsHour){return true;};return false;};this.$8G=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event&&window.event.srcElement){window.event.srcElement.inside=true;};DayPilotCalendar.activeCalendar=this;var $32=$d.nav.main;$d.coords=DayPilot.mo3($32,ev);var $33=DayPilot.mc(ev);var $2t=$d.crosshairType&&$d.crosshairType!=="Disabled";var $34=false;if(DayPilot.Global.moving||DayPilot.Global.resizing||DayPilot.Global.selecting||$34){$d.$6y();}else if($2t){$d.$9a();};if(DayPilot.Global.resizing){$d.$9b($33);}else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper){DayPilotCalendar.movingShadow=null;return;};if(!DayPilotCalendar.movingShadow){var $35=3;if(DayPilot.distance($33,DayPilotCalendar.originalMouse)>$35){DayPilotCalendar.movingShadow=$d.$71(DayPilot.Global.moving,!$d.$6c.ie);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}else{return;}};if(!$d.coords){return;};var $36=$d.cellHeight;var $I=0;var $17=DayPilotCalendar.moveOffsetY;if(!$17){$17=$36/2;};if(this.moveBy==="Top"){$17=0;};var $37=Math.floor((($d.coords.y-$17-$I)+$36/ 2)/ $36)*$36+$I;if($37<$I){$37=$I;};var $F=$d.nav.main;var $N=$d.$66?$d.$7d()*$d.cellHeight:$F.clientHeight;var $J=parseInt(DayPilotCalendar.movingShadow.style.height);if($37+$J>$N){$37=$N-$J;};var $H=$F.clientWidth/$F.rows[0].cells.length;var $p=Math.floor(($d.coords.x)/$H);if($p<0){$p=0;};if($d.rtl){$p=$d.$72.length-$p-1;};var $L=DayPilotCalendar.movingShadow;var e=DayPilot.Global.moving.event;var $0E=$d.$7w(e,$p,$37);var $0W=$d.eventMovingStartEndFormat;if($0W==="Auto"){$0W=$0h.timeFormat()==="Clock24Hours"?"H:mm":"h:mm tt";};var $l={};$l.e=e;$l.start=$0E.start;$l.end=$0E.end;$l.resource=$0E.resource;$l.html=null;$l.cssClass=null;$l.allowed=true;$l.top={};$l.top.width=null;$l.top.space=5;$l.top.html=$l.start.toString($0W,$0h.locale());$l.top.enabled=$d.eventMovingStartEndEnabled;$l.bottom={};$l.bottom.width=null;$l.bottom.space=5;$l.bottom.html=$l.end.toString($0W,$0h.locale());$l.bottom.enabled=$d.eventMovingStartEndEnabled;$l.external=!!DayPilotCalendar.drag;(function updateShadow(){var $0T=$d.$6z;var $38=!($0T&&$0T.start.getTime()===$0E.start.getTime()&&$0T.end.getTime()===$0E.end.getTime()&&$0T.resource===$0E.resource);if(!$38){return;};$L.className=$d.$73("_shadow");$L.firstChild.innerHTML="";$d.$6z=$l;$L.args=$l;if(!$d.allowEventOverlap){var $f={"id":e.id(),"start":$l.start,"end":$l.end,"resource":$l.resource};if($d.events.$7N($f)){DayPilot.Util.addClass($L,$d.$73("_shadow_forbidden"));$l.allowed=false;}};if($d.$7O($l.start,$l.end,$l.resource)){DayPilot.Util.addClass($L,$d.$73("_shadow_forbidden"));$l.allowed=false;};DayPilot.Util.removeClass($L,$d.$73("_shadow_forbidden"));if(typeof $d.onEventMoving==="function"&&$l.allowed){$d.onEventMoving($l);};if($l.html){$L.firstChild.innerHTML=$l.html;};if($l.cssClass){DayPilot.Util.addClass($L,$l.cssClass);};if(!$l.allowed){DayPilot.Util.addClass($L,$d.$73("_shadow_forbidden"));};DayPilotCalendar.movingShadow.style.top=$37+'px';var $1j=$d.nav.events;if($p<$1j.rows[0].cells.length&&$p>=0&&DayPilotCalendar.movingShadow.column!==$p){DayPilotCalendar.movingShadow.column=$p;DayPilotCalendar.moveShadow($1j.rows[0].cells[$p]);};var $0U=$p;var $X=$L;$d.$7S($X,$0U,$l);})();}else if(DayPilotCalendar.firstMousePos){var x=$d.$9c($d.coords.x,true);var y=Math.floor($d.coords.y/$d.cellHeight);var $39=$d.nav.main.rows[y].cells[x];if(!DayPilot.Global.selecting){var $0S=DayPilotCalendar.firstMousePos;var $3a=$d.coords;if($0S.x!==$3a.x||$0S.y!==$3a.y){DayPilot.Global.selecting={"calendar":$d};}};if(!DayPilot.Global.selecting){return;};var $33=$d.coords;var $3b=DayPilotCalendar.getColumn($39);if($3b!==DayPilotCalendar.column){$39=$d.nav.main.rows[y].cells[DayPilotCalendar.column];};var $3c=DayPilot.Global.selecting;if($3c.last&&$3c.last.x===x&&$3c.last.y===y){return;};$3c.last={"x":x,"y":y};if($33.y<DayPilotCalendar.firstMousePos.y){$d.selectedCells=DayPilotCalendar.getCellsBelow($39);DayPilotCalendar.topSelectedCell=$d.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$d.selectedCells=DayPilotCalendar.getCellsAbove($39);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$d.selectedCells[0];};$d.$7M();};if(DayPilotCalendar.drag){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;if(!DayPilotCalendar.movingShadow&&$d.coords){var $L=$d.$71(DayPilotCalendar.drag,false);if($L){DayPilotCalendar.movingShadow=$L;var $3a=DayPilot.Date.today();var ev={'id':DayPilotCalendar.drag.id,'start':$3a,'end':$3a.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var $f=DayPilotCalendar.drag.data;if($f){var $3d=['duration','element','remove','id','text'];for(var name in $f){if(DayPilot.contains($3d,name)){continue;};ev[name]=$f[name];}};var event=new DayPilot.Event(ev,$d);event.external=true;DayPilot.Global.moving={};DayPilot.Global.moving.event=event;DayPilot.Global.moving.helper={};}};ev.cancelBubble=true;}};this.$9d=function($L){var top=DayPilotCalendar.movingShadow.offsetTop;var e=DayPilot.Global.moving.event;var $3e=DayPilotCalendar.movingShadow.column;};this.$7O=function($0b,end,$0I){var $3f=$d.$9e($0b,end,$0I).some(function($0d){return $0d.disabled;});return $3f;};this.$9e=function($0b,end,$0I){var $0V=[];for(var name in $d.cellProperties){var $0d=$d.cellProperties[name];var $3g=!$0I||$0I===$0d.resource;if($3g&&DayPilot.Util.overlaps($0b,end,$0d.start,$0d.end)){$0V.push($0d);}};return $0V;};this.$9b=function($33){if(!DayPilot.Global.resizing.event){DayPilot.Global.resizing=null;DayPilot.de(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;return;};if(!DayPilotCalendar.resizingShadow){DayPilotCalendar.resizingShadow=$d.$71(DayPilot.Global.resizing,false);};var $36=DayPilot.Global.resizing.event.calendar.cellHeight;var $I=0;var $3h=($33.y-DayPilotCalendar.originalMouse.y);var e=DayPilot.Global.resizing.event;var $0b=e.start();var end=e.end();if(DayPilot.Global.resizing.dpBorder==='bottom'){var $3i=Math.floor(((DayPilotCalendar.originalHeight+DayPilotCalendar.originalTop+$3h)+$36/ 2)/ $36)*$36-DayPilotCalendar.originalTop+$I;if($3i<$36)$3i=$36;var $N=$d.$66?$d.$7d()*$d.cellHeight:$d.nav.main.clientHeight;if(DayPilotCalendar.originalTop+$3i>$N){$3i=$N-DayPilotCalendar.originalTop;};DayPilotCalendar.resizingShadow.style.height=($3i)+'px';end=$d.$7s(e,DayPilotCalendar.originalTop+$3i);}else if(DayPilot.Global.resizing.dpBorder==='top'){var $37=Math.floor(((DayPilotCalendar.originalTop+$3h-$I)+$36/ 2)/ $36)*$36+$I;if($37<$I){$37=$I;};if($37>DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$36){$37=DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$36;};var $3i=DayPilotCalendar.originalHeight-($37-DayPilotCalendar.originalTop);if($3i<$36){$3i=$36;}else{DayPilotCalendar.resizingShadow.style.top=$37+'px';};DayPilotCalendar.resizingShadow.style.height=($3i)+'px';$0b=$d.$7r(e,$37);};var $L=DayPilotCalendar.resizingShadow;var $0W=$d.eventResizingStartEndFormat;if($0W==="Auto"){$0W=$0h.timeFormat()==="Clock24Hours"?"H:mm":"h:mm tt";};var $l={};$l.start=$0b;$l.end=end;$l.resource=e.resource();$l.allowed=true;$l.html=null;$l.cssClass=null;$l.top={};$l.top.width=null;$l.top.space=5;$l.top.html=$l.start.toString($0W,$0h.locale());$l.top.enabled=$d.eventResizingStartEndEnabled;$l.bottom={};$l.bottom.width=null;$l.bottom.space=5;$l.bottom.html=$l.end.toString($0W,$0h.locale());$l.bottom.enabled=$d.eventResizingStartEndEnabled;$L.args=$l;$L.firstChild.innerHTML="";$L.className=$d.$73("_shadow");if(!$d.allowEventOverlap){var $f={"id":e.id(),"start":$l.start,"end":$l.end,"resource":$l.resource};if($d.events.$7N($f)){DayPilot.Util.addClass($L,$d.$73("_shadow_forbidden"));$l.allowed=false;}};if($d.$7O($l.start,$l.end,$l.resource)){DayPilot.Util.addClass($L,$d.$73("_shadow_forbidden"));$l.allowed=false;};if(typeof $d.onEventResizing==="function"&&$l.allowed){$d.onEventResizing($l);};if($l.html){$L.firstChild.innerHTML=$l.html;};if($l.cssClass){DayPilot.Util.addClass($L,$l.cssClass);};var $0U=e.part.dayIndex;var $X=$L;$d.$7S($X,$0U,$l);};this.temp={};this.temp.getPosition=function(){var $3j=$d.$9f.getCellCoords();if(!$3j){return null;};var $p=$d.$72[$3j.x];var $0d={};$0d.resource=$p.id;$0d.start=new DayPilot.Date($p.start).addHours($d.$79(true)).addMinutes($3j.y*$d.cellDuration);$0d.end=$0d.start.addMinutes($d.cellDuration);return $0d;};this.$9f={};this.$9f.getCellCoords=function(){var $t={};$t.x=0;$t.y=0;if(!$d.coords){return null;};$t.x=$d.$9c($d.coords.x);var $I=0;var $2o=Math.floor(($d.coords.y-$I)/$d.cellHeight);$t.y=$2o;if($t.x<0){return null;};return $t;};this.$9f.col=function($2u,x){var $t={};$t.left=0;$t.width=0;if(!$2u){return null;};if(!$2u.rows){return null;};if($2u.rows.length===0){return null;};if($2u.rows[0].cells.length==0){return null;};var $0d=$2u.rows[0].cells[x];if(!$0d){return null;};var t=DayPilot.abs($2u);var c=DayPilot.abs($0d);$t.left=c.x-t.x;$t.width=$0d.offsetWidth;return $t;};this.$9a=function(){this.$6y();if(!this.elements.crosshair){this.elements.crosshair=[];};var $3k=this.$9f.getCellCoords();if(!$3k){return;};var $p=$3k.x;var y=Math.floor($3k.y/(60/ $d.cellDuration)*(60/$d.timeHeaderCellDuration));if(y<0){return;};if(this.nav.hourTable){if(y>=this.nav.hourTable.rows.length){return;};var $3l=document.createElement("div");$3l.style.position="absolute";$3l.style.left="0px";$3l.style.right="0px";$3l.style.top="0px";$3l.style.bottom="0px";$3l.className=$d.$73("_crosshair_left");this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($3l);this.elements.crosshair.push($3l);};if(this.nav.header){var $3m=document.createElement("div");$3m.style.position="absolute";$3m.style.left="0px";$3m.style.right="0px";$3m.style.top="0px";$3m.style.bottom="0px";$3m.className=$d.$73("_crosshair_top");var $2o=this.nav.header.rows[this.headerLevels-1];if($2o.cells[$p]){$2o.cells[$p].firstChild.appendChild($3m);this.elements.crosshair.push($3m);}};if(this.crosshairType==="Header"){return;};var $3n=this.nav.crosshair;var $I=0;var top=Math.floor((($d.coords.y-$I))/$d.cellHeight)*$d.cellHeight+$I;var $J=$d.cellHeight;var $3o=document.createElement("div");$3o.style.position="absolute";$3o.style.left="0px";$3o.style.right="0px";$3o.style.top=top+"px";$3o.style.height=$J+"px";$3o.className=$d.$73("_crosshair_horizontal");$3o.onmousedown=this.$9g;$3n.appendChild($3o);this.elements.crosshair.push($3o);var $0X=this.$9f.col(this.nav.main,$p);$J=$d.$8I();if($0X){var $3p=document.createElement("div");$3p.style.position="absolute";$3p.style.left=$0X.left+"px";$3p.style.width=$0X.width+"px";$3p.style.top="0px";$3p.style.height=$J+"px";$3p.className=$d.$73("_crosshair_vertical");$3p.onmousedown=this.$9g;$3n.appendChild($3p);this.elements.crosshair.push($3p);}};this.$9g=function(ev){$d.$6y();var $3k=$d.$9f.getCellCoords();var $3q=0;var $0d=$d.nav.main.rows[$3k.y+$3q].cells[$3k.x];$d.$7L.apply($0d,[ev]);};this.$6y=function(){if(!this.elements.crosshair||this.elements.crosshair.length===0){return;};for(var i=0;i<this.elements.crosshair.length;i++){var e=this.elements.crosshair[i];if(e&&e.parentNode){e.parentNode.removeChild(e);}};this.elements.crosshair=[];};this.$6I=function(){if(!this.cellConfig){return;};var $3r=this.cellConfig;if($3r.vertical){for(var x=0;x<$3r.x;x++){var $3s=this.cellProperties[x+"_0"];for(var y=1;y<$3r.y;y++){this.cellProperties[x+"_"+y]=$3s;}}};if($3r.horizontal){for(var y=0;y<$3r.y;y++){var $3s=this.cellProperties["0_"+y];for(var x=1;x<$3r.x;x++){this.cellProperties[x+"_"+y]=$3s;}}};if($3r["default"]){var $3s=$3r["default"];for(var y=0;y<$3r.y;y++){for(var x=0;x<$3r.x;x++){if(!this.cellProperties[x+"_"+y]){this.cellProperties[x+"_"+y]=$3s;}}}}};this.$96=function(x,y){if(!this.cellProperties){return null;};return this.cellProperties[x+"_"+y];};this.$9h=function(x,y){var $2C=x+'_'+y;if(this.cellProperties&&this.cellProperties[$2C]){return this.cellProperties[$2C].business;};return false;};this.$97=function(x,y){var $2C=x+'_'+y;if(this.cellProperties&&this.cellProperties[$2C]){return this.cellProperties[$2C].backColor;};return null;};this.$6r=function(){var $2u=this.nav.header;if($2u&&$2u.rows){for(var y=0;y<$2u.rows.length;y++){var r=$2u.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.onclick=null;c.onmousemove=null;c.onmouseout=null;var $X=c;var $23=$X.domArgs;$X.domArgs=null;if(typeof $d.onBeforeHeaderDomRemove==="function"){$d.onBeforeHeaderDomRemove($23);};if(typeof $d.onBeforeHeaderDomAdd==="function"&&$d.$6t.reactDOM){var $20=$23&&$23.$8p;if($20){var $24=DayPilot.Util.isReactComponent($23.element);if($24){if(!$d.$6t.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$d.$6t.reactDOM.unmountComponentAtNode($20);}}}}}};if(!this.$67)DayPilot.pu($2u);$2u.innerHTML="";$2u.rows=[];};this.$9i=function(y){var $1M=y+1;var $3t=($1M===$d.headerLevels);var $0k=this.$8k($1M);var x=0;var $Y=0;var $3u=$d.$94();var $3v=[];if(!$3t){for(var i=0;i<$0k.length;i++){var $f=$0k[i];var $2R=$3u[i];var $3w=$f.getChildren?true:false;var $3x=$3w?$f.getChildrenCount($d.headerLevels-$1M+1):1;var $1f=$2R.width;DayPilot.list.for($3x-1,function(){var $3y=$3u[i+x];$1f+=$3y.width;x+=1;});$3v.push({"left":$Y,"width":$1f});$Y+=$1f;}};return $3v;};this.$9j=function(y){var $1M=y+1;var $0k=this.$8k($1M);var $3z=$0k.length;var $3t=($1M===$d.headerLevels);var $3u=$d.$94();var top=y*$d.headerHeight;var $0V=[];$d.nav.header.rows.push({"cells":$0V});var $3v=$d.$9i(y);function drawHeaderCell(i){var $f=$0k[i];var $2R=$3u[i];var $l={};$l.header={};$l.column=$d.$7k($f,$d);var $2B=null;if($d.$70()){if(typeof $d.onBeforeHeaderRender==='function'){DayPilot.Util.copyProps($f,$l.header,['id','start','name','html','backColor','toolTip','areas','children']);$d.onBeforeHeaderRender($l);DayPilot.Util.copyProps($l.header,$f,['html','backColor','toolTip','areas']);}};var $3w=$f.getChildren?true:false;var $1f=$2R.width;var $Y=$2R.left;if(!$3t){$Y=$3v[i].left;$1f=$3v[i].width;};var $0d=document.createElement("div");$0d.style.position="absolute";$0d.style.top=top+"px";$0d.style.left=$Y+$2R.unit;$0d.style.right=$Y+$2R.unit;$0d.style.width=$1f+$2R.unit;$0d.data=$f;$0V.push($0d);if($3w){$0d.onclick=$d.$7l;$0d.onmousemove=$d.$7m;$0d.onmouseout=$d.$7n;if($f.toolTip){$0d.title=$f.toolTip;}};$0d.style.overflow="hidden";$0d.style.height=($0h.headerHeight())+"px";var $X=document.createElement("div");$X.setAttribute("unselectable","on");$X.style.userSelect="none";$X.style.position="relative";$X.style.height=$0h.headerHeight()+"px";$X.className=$d.$73('_colheader');var $M=document.createElement("div");$M.className=$d.$73('_colheader_inner');if($f.backColor){$M.style.background=$f.backColor;};$X.appendChild($M);$0d.appendChild($X);$d.$9k($X,$f);if(typeof $d.onBeforeHeaderDomAdd==="function"){$l.element=null;$d.onBeforeHeaderDomAdd($l);$2B=$l.element;};$0d.domArgs=$l;if($2B){var $20=$M;$l.$8p=$20;var $21=DayPilot.Util.isReactComponent($2B);if($21){if(!$d.$6t.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$d.$6t.reactDOM.render($2B,$20);}else{$20.appendChild($2B);}}else{if($3w){$X.firstChild.innerHTML=$f.html||"";}};$d.nav.header.appendChild($0d);};if(DayPilot.browser.ie){for(var i=$3z-1;i>=0;i--){drawHeaderCell(i);}}else{for(var i=0;i<$3z;i++){drawHeaderCell(i);}}};this.$9l=function($1M,$2y){var r=($2y)?this.nav.header.insertRow(-1):this.nav.header.rows[$1M-1];var $0k=this.$8k($1M);var $3z=$0k.length;var $3t=($1M===$d.headerLevels);for(var i=0;i<$3z;i++){var $f=$0k[i];if($d.$70()){if(typeof $d.onBeforeHeaderRender==='function'){var $l={};$l.header={};DayPilot.Util.copyProps($f,$l.header,['id','start','name','html','backColor','toolTip','areas','children']);this.onBeforeHeaderRender($l);DayPilot.Util.copyProps($l.header,$f,['html','backColor','toolTip','areas']);}};var $3w=$f.getChildren?true:false;var $0d=($2y)?r.insertCell(-1):r.cells[i];$0d.data=$f;if($3t){}else{var $3x=1;if($3w){$3x=$f.getChildrenCount($d.headerLevels-$1M+1);};$0d.colSpan=$3x;};if($3w){$0d.onclick=this.$7l;$0d.onmousemove=this.$7m;$0d.onmouseout=this.$7n;if($f.toolTip){$0d.title=$f.toolTip;}};$0d.style.overflow='hidden';$0d.style.padding='0px';$0d.style.border='0px none';$0d.style.height=($0h.headerHeight())+"px";var $X=($2y)?document.createElement("div"):$0d.firstChild;if($2y){$X.setAttribute("unselectable","on");$X.style.MozUserSelect='none';$X.style.KhtmlUserSelect='none';$X.style.WebkitUserSelect='none';$X.style.position='relative';$X.style.height=$0h.headerHeight()+"px";$X.className=$d.$73('_colheader');var $M=document.createElement("div");$M.className=$d.$73('_colheader_inner');if($f.backColor){$M.style.background=$f.backColor;};$X.appendChild($M);$0d.appendChild($X);}else{$X.style.height=$0h.headerHeight()+"px";};this.$9k($X,$f);if($3w){$X.firstChild.innerHTML=$f.html;}}};this.$9k=function($X,$f){var $3A=[];for(var j=0;j<$X.childNodes.length;j++){var $q=$X.childNodes[j];if($q.isActiveArea){$3A.push($q);}};for(var j=0;j<$3A.length;j++){var $q=$3A[j];DayPilot.de($q);};if($f.areas){var $1X=$f.areas;for(var j=0;j<$1X.length;j++){var $2a=$1X[j];if(!DayPilot.Areas.isVisible($2a)){continue;};var o=$d.$7k($f);var a=DayPilot.Areas.createArea($X,o,$2a);$X.appendChild(a);}}};this.$6L=function(){if($d.$66){$d.$9m();}else{$d.$9n();}};this.$9m=function(){var $1V=$d.nav.header;$d.$6r();if(!this.showHeader){return;};var $0k=this.$8k($d.headerLevels,true);var $3z=$0k.length;this.$9o=true;var $2L=$d.nav.corner;if($2L){if(!this.$67)DayPilot.pu($2L.firstChild);var $l={};$l.html=$d.cornerHTML||$d.cornerHtml;var $2B=null;$d.$6s();if(typeof $d.onBeforeCornerRender==="function"){$d.onBeforeCornerRender($l);};if(typeof $d.onBeforeCornerDomAdd==="function"){$l.element=null;$d.onBeforeCornerDomAdd($l);$2B=$l.element;};if($2B){var $20=$2L.firstChild;$20.domArgs=$l;var $21=DayPilot.Util.isReactComponent($2B);if($21){if(!$d.$6t.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$d.$6t.reactDOM.render($2B,$20);}else{$20.appendChild($2B);}}else{$2L.firstChild.innerHTML=$l.html||"";}};for(var y=0;y<$d.headerLevels;y++){this.$9j(y);};if(this.showAllDayEvents){var $0V=[];$d.nav.header.rows.push({"cells":$0V});var $3u=$d.$94();var top=$d.headerLevels*$d.headerHeight;for(var i=0;i<$3z;i++){var $f=$0k[i];var $2R=$3u[i];var $0d=document.createElement("div");$0d.data=$f;$0d.style.overflow='hidden';$0d.style.position="absolute";$0d.style.left=$2R.left+$2R.unit;$0d.style.right=$2R.left+$2R.unit;$0d.style.width=$2R.width+$2R.unit;$0d.style.top=top+"px";var $X=document.createElement("div");$X.setAttribute("unselectable","on");$X.style.userSelect="none";$X.style.overflow="hidden";$X.style.position="relative";$X.style.height=$0h.allDayHeaderHeight()+"px";$X.className=this.$73("_alldayheader");var $M=document.createElement("div");$M.className=this.$73("_alldayheader_inner");$X.appendChild($M);$0d.appendChild($X);$X.style.height=$0h.allDayHeaderHeight()+"px";$0V.push($0d);$1V.appendChild($0d);}}};this.$9n=function(){if(!this.showHeader){return;};var $1V=this.nav.header;var $2y=true;var $0k=this.$8k($d.headerLevels,true);var $3z=$0k.length;DayPilot.de(this.nav.header);this.$8Y();while(this.$9o&&$1V&&$1V.rows&&$1V.rows.length>0&&$2y){if(!this.$67)DayPilot.pu($1V.rows[0]);$1V.deleteRow(0);};this.$9o=true;var $2L=$d.nav.corner;if($2L){if(!this.$67)DayPilot.pu($2L.firstChild);var $l={};$l.html=$d.cornerHTML||$d.cornerHtml;if(typeof $d.onBeforeCornerRender==="function"){$d.onBeforeCornerRender($l);};$2L.firstChild.innerHTML=$l.html?$l.html:'';};for(var i=0;i<$d.headerLevels;i++){this.$9l(i+1,$2y);};if(!this.showAllDayEvents){return;};var r=($2y)?this.nav.header.insertRow(-1):this.nav.header.rows[$d.headerLevels];for(var i=0;i<$3z;i++){var $f=$0k[i];var $0d=($2y)?r.insertCell(-1):r.cells[i];$0d.data=$f;$0d.style.padding='0px';$0d.style.border='0px none';$0d.style.overflow='hidden';var $X=($2y)?document.createElement("div"):$0d.firstChild;if($2y){$X.setAttribute("unselectable","on");$X.style.MozUserSelect='none';$X.style.KhtmlUserSelect='none';$X.style.WebkitUserSelect='none';$X.style.overflow='hidden';$X.style.position="relative";$X.style.height=$0h.allDayHeaderHeight()+"px";$X.className=this.$73("_alldayheader");var $M=document.createElement("div");$M.className=this.$73("_alldayheader_inner");$X.appendChild($M);$0d.appendChild($X);};$X.style.height=$0h.allDayHeaderHeight()+"px";}};this.$6i=function($3B){var $T=$3B?0:100;if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};this.callbackTimeout=window.setTimeout(function(){if($d.loadingLabelVisible&&$d.nav.loading){$d.nav.loading.innerHTML=$d.loadingLabelText;$d.nav.loading.style.top=($d.$7a()+5)+"px";$d.nav.loading.style.display='';}},$T);};this.$6D=function(){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(this.nav.loading){this.nav.loading.style.display='none';}};this.$9p=function($2E){var $3C=$d.$79(true);if($2E<$3C){$2E+=24;};var $3D=($2E-$3C)*(60/$d.cellDuration)*$d.cellHeight;return $3D;};this.$9q=function(){var $2n=this.$7Y();var $3E=this.initScrollPos;if(!$3E){var $2E=this.businessBeginsHour;$3E=$d.$9p($2E);};$2n.root=this;$2n.onscroll=this.$7X;if($2n.scrollTop===0){$2n.scrollTop=$3E-this.$7Q();}else{this.$7X();}};this.$9r=function(){var el=$d.nav.top;if(!el){return false;};return el.offsetWidth>0&&el.offsetHeight>0;};this.$9s=function(){var $1I=$d.$9r;if(!$1I()&&!$d.$9t){$d.$9t=setInterval(function(){if($1I()){clearInterval($d.$9t);$d.$9q();$d.$6S();}},100);}};this.scrollToY=function($3D){var $2n=this.$7Y();$2n.scrollTop=$3D;};this.scrollToHour=function($2E){var $3D=$d.$9p($2E);var $2n=this.$7Y();$2n.scrollTop=$3D-this.$7Q();};this.$7Y=function(){var $14=this.columnWidthSpec==='Fixed';return $14||this.$65?this.nav.bottomRight:this.nav.scroll;};this.onCallbackError=function($t,$u){alert("Error!\r\nResult: "+$t+"\r\nContext:"+$u);};this.$6S=function(){if(!$d.showHeader){return;};var $3F=this.$8W();var $1I=!!this.nav.cornerRight;if(this.$65){if(this.nav.unifiedCornerRight){DayPilot.de(this.nav.unifiedCornerRight);};var $2n=$d.$7Y();var $3G=$d.nav.main.getBoundingClientRect().width;var $3H=$d.$8L();if($3H!="100%"&&parseInt($3H)<$3G){return;};var w=DayPilot.sw(this.nav.bottomRight);var c;if($d.$66){c=document.createElement("div");c.style.position="absolute";c.style.left=$3G+"px";c.style.right=$3G+"px";c.style.height=$d.$7a()+"px";$d.nav.headerParent.appendChild(c);$d.nav.unifiedCornerRight=c;$d.nav.header.style.width=$3G+"px";}else{this.nav.unifiedCornerRight=this.nav.header.rows[0].insertCell(-1);c=this.nav.unifiedCornerRight;c.rowSpan=this.nav.header.rows.length;};c.style.width=w+"px";var $2L=document.createElement("div");$2L.className=$d.$73("_cornerright");$2L.setAttribute("unselectable","on");$2L.style.overflow="hidden";$2L.style.height=this.$7a()+"px";$2L.style.position="relative";var $M=document.createElement("div");$M.className=$d.$73("_cornerright_inner");$2L.appendChild($M);c.appendChild($2L);var $3I=this.columnWidthSpec==="Fixed";if(!$3I&&this.nav.allday){if($d.rtl){this.nav.allday.style.left=w+"px";}else{this.nav.allday.style.right=w+"px";}};return;};if($3F!==$1I){if($3F){this.$8Z();}else{if(this.nav.fullHeader&&this.nav.fullHeader.rows[0].cells.length===3){var c=this.nav.fullHeader.rows[0].cells[2];if(c.parentNode){c.parentNode.removeChild(c);}};this.nav.cornerRight=null;}};var d=this.nav.cornerRight;if(!d){return;};var w=DayPilot.sw($d.$7b());if(d){d.style.width=(w)+'px';};return w;};this.$6Z=function($3J){if($3J){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.$69>=this.autoRefreshMaxCount){return;};this.$6n();var $3K=this.autoRefreshInterval;if(!$3K||$3K<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$d.$9u();},this.autoRefreshInterval*1000);};this.$6n=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$9u=function(){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving&&!DayPilotCalendar.drag&&!DayPilot.Global.selecting){var $3d=false;if(typeof this.onAutoRefresh==='function'){var $l={};$l.i=this.$69;$l.preventDefault=function(){this.preventDefault.value=true;};$d.onAutoRefresh($l);if($l.preventDefault.value){$3d=true;}};if(!$3d&&this.$6h()){this.commandCallBack(this.autoRefreshCommand);};this.$69++;};if(this.$69<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$d.$9u();},this.autoRefreshInterval*1000);}};this.$6u=function(){$d.$6R();if($d.heightSpec==="Parent100Pct"){$d.setHeight(parseInt($d.nav.top.clientHeight,10));};$d.$6S();$d.$6Y();};this.$9v=function(){if(!DayPilotCalendar.globalHandlers){DayPilotCalendar.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.re(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.re(document,DayPilot.touch.move,DayPilotCalendar.gTouchMove);DayPilot.re(document,DayPilot.touch.end,DayPilotCalendar.gTouchEnd);};DayPilot.re(window,'resize',this.$6u);};this.$8u=function(ev){if($0P.active||$0P.using){return;};ev=ev||window.event;var $0Q=DayPilot.Util.mouseButton(ev);if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();DayPilot.Bubble.cancelShowing();};if((this.style.cursor==='n-resize'||this.style.cursor==='s-resize')&&$0Q.left){DayPilot.Global.resizing=this;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalHeight=this.offsetHeight;DayPilotCalendar.originalTop=this.offsetTop;$d.nav.top.style.cursor=this.style.cursor;}else if((this.style.cursor==='move'||($d.moveBy==='Full'&&this.event.client.moveEnabled()))&&$0Q.left){DayPilot.Global.moving=this;var $3L=DayPilot.Global.moving.helper={};$3L.oldColumn=$d.$72[this.event.part.dayIndex].id;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalTop=this.offsetTop;var $17=DayPilot.mo3(this,ev);if($17){DayPilotCalendar.moveOffsetY=$17.y;}else{DayPilotCalendar.moveOffsetY=0;};$d.nav.top.style.cursor=this.style.cursor;};return false;};this.$9w=function(i){var $1W=this.$68.events;var $f=this.events.list[i];var $3M={};for(var name in $f){$3M[name]=$f[name];};if($d.showEventStartEnd){var $3N=$f.start.getDatePart().getTime()===$f.end.getDatePart().getTime();var $1J=$3N?$0h.locale().timePattern:$0h.locale().dateTimePattern;var $3O=$f.start.toString($1J);var $3P=$f.end.toString($1J);$3M.html=$3M.text+" ("+$3O+" - "+$3P+")";};if(typeof this.onBeforeEventRender==='function'){var $l={};$l.e=$3M;$l.data=$3M;this.onBeforeEventRender($l);};$1W[i]=$3M;};this.$8v={};var $0P=$d.$8v;$0P.active=false;$0P.start=null;$0P.timeout=null;$0P.startcell=null;this.$8v.getCellCoords=function(ev){var x,y;if(ev.touches){x=ev.touches[0].pageX;y=ev.touches[0].pageY;}else{x=ev.pageX;y=ev.pageY;};var $3Q=DayPilot.abs($d.nav.main);var $3R={x:x-$3Q.x,y:y-$3Q.y};var w=($d.nav.main.clientWidth/$d.$72.length);var $3j={"pageX":x,"pageY":y,"x":Math.floor($3R.x/w),"y":Math.floor($3R.y/$d.cellHeight),"toString":function(){return "x: "+this.x+" y:"+this.y;}};return $3j;};this.$8v.startSelecting=function($3j){var $0d=$d.nav.main.rows[$3j.y].cells[$3j.x];$0P.startcell=$3j;$d.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn($0d);$d.selectedCells.push($0d);DayPilotCalendar.firstSelected=$0d;DayPilotCalendar.topSelectedCell=$0d;DayPilotCalendar.bottomSelectedCell=$0d;DayPilot.Global.selecting={"calendar":$d};$d.$7M();};this.$8v.extendSelection=function($3j){var $0d=$d.nav.main.rows[$3j.y].cells[$3j.x];$d.clearSelection();DayPilot.Global.selecting={"calendar":$d};if($3j.y<$0P.startcell.y){$d.selectedCells=DayPilotCalendar.getCellsBelow($0d);DayPilotCalendar.topSelectedCell=$d.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$d.selectedCells=DayPilotCalendar.getCellsAbove($0d);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$d.selectedCells[0];};$d.$7M();};this.$8v.detected=false;this.$8v.onMainTouchStart=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};$0P.start=true;$0P.detected=true;if($0P.active){return;};if(ev.touches.length>1){return;};$0P.using=true;var $3j=$0P.getCellCoords(ev);$0P.startCoords=$3j;var $3S=$d.tapAndHoldTimeout;$0P.timeout=window.setTimeout(function(){ev.preventDefault();$0P.active=true;$0P.start=false;switch($d.timeRangeTapAndHoldHandling){case "Select":$0P.startSelecting($3j);break;case "ContextMenu":$0P.startSelecting($3j);$0P.active=false;if($d.contextMenuSelection){$d.contextMenuSelection.show($d.getSelection());};break;}},$3S);};this.$8v.onCellTouchMove=function(ev){};this.$8v.onCellTouchEnd=function(ev){if(!$0P.active){window.clearTimeout($0P.timeout);if($0P.start){(function selectCell($0d){if($d.timeRangeSelectedHandling==="Disabled"){return;};$d.clearSelection();$d.selectedCells=[$0d];DayPilotCalendar.topSelectedCell=$0d;DayPilotCalendar.bottomSelectedCell=$0d;$d.$7M();var $10=$d.getSelection();$10.toString=function(){return "start: "+this.start+"\nend: "+this.end;};setTimeout(function(){$d.$7F($10.start,$10.end,$10.resource);},10);})(this);};return;};ev.preventDefault();ev.stopPropagation();$0P.startcell=null;$0P.start=false;var $10=$d.getSelection();$10.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$d.$7F($10.start,$10.end,$10.resource);window.setTimeout(function(){$0P.active=false;},500);};this.$8v.startMoving=function($X,$3j){DayPilot.Global.moving=$X;var $3L=DayPilot.Global.moving.helper={};$3L.oldColumn=$d.$72[$X.event.part.dayIndex].id;DayPilotCalendar.originalMouse=$3j;DayPilotCalendar.originalTop=this.offsetTop;var $3Q=DayPilot.abs($X);DayPilotCalendar.moveOffsetY=$3j.y-$3Q.y;if(!DayPilotCalendar.movingShadow){DayPilotCalendar.movingShadow=$d.$71(DayPilot.Global.moving,!$d.$6c.ie);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}};this.$8v.startResizing=function($X,$0s,$3j){DayPilot.Global.resizing=$X;$X.dpBorder=$0s;DayPilotCalendar.originalMouse=$3j;DayPilotCalendar.originalHeight=$X.offsetHeight;DayPilotCalendar.originalTop=$X.offsetTop;};this.$8v.updateResizing=function($3j){$d.$9b($3j);};this.$8v.updateMoving=function(){var $3j=$d.coords;var $36=$d.cellHeight;var $I=0;var $17=DayPilotCalendar.moveOffsetY;if(!$17){$17=$36/2;};var $37=Math.floor((($3j.y-$17-$I)+$36/ 2)/ $36)*$36+$I;if($37<$I){$37=$I;};var $F=$d.nav.main;var $N=$d.$8I();var $J=parseInt(DayPilotCalendar.movingShadow.style.height);if($37+$J>$N){$37=$N-$J;};DayPilotCalendar.movingShadow.style.top=$37+'px';DayPilotCalendar.movingShadow.allowed=true;var $H=$F.clientWidth/$F.rows[0].cells.length;var $p=Math.floor($3j.x/$H);if($p<0){$p=0;};var $1j=$d.nav.events;if($p<$1j.rows[0].cells.length&&$p>=0&&DayPilotCalendar.movingShadow.column!==$p){DayPilotCalendar.movingShadow.column=$p;DayPilotCalendar.moveShadow($1j.rows[0].cells[$p]);}};this.$8v.onEventTouchStart=function(ev){if($0P.active){return;};if(DayPilot.Util.isMouseEvent(ev)){return;};ev.stopPropagation();$0P.preventEventTap=false;$0P.using=true;$0P.startCoords=$0P.getCellCoords(ev);var $X=this;var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $3j={x:x,y:y,$X:this};$d.coords=$0P.relativeCoords(ev);var $3S=$d.tapAndHoldTimeout;$0P.timeout=window.setTimeout(function(){var e=$X.event;$0P.active=true;switch($d.eventTapAndHoldHandling){case "Move":if(e.client.moveEnabled()){$0P.startMoving($X,$3j);};break;case "ContextMenu":var $08=e.client.contextMenu();if(DayPilot.Menu){DayPilot.Menu.touchPosition(ev);};if($08){$08.show(e);}else{if($d.contextMenu){$d.contextMenu.show(e);}};break;}},$3S);};this.$8v.onMainTouchMove=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};$0P.start=false;if($0P.timeout){var $3j=$0P.getCellCoords(ev);if($3j&&$0P.startCoords){if($3j.pageX!==$0P.startCoords.pageX||$3j.pageY!==$0P.startCoords.pageY){window.clearTimeout($d.$8v.timeout);}}};if(DayPilot.Global.moving&&DayPilotCalendar.movingShadow){ev.preventDefault();$d.coords=$0P.relativeCoords(ev);$0P.updateMoving();return;}else if(DayPilot.Global.resizing){ev.preventDefault();var t=ev.touches?ev.touches[0]:ev;var $3j={x:t.pageX,y:t.pageY};$0P.updateResizing($3j);return;}else if($0P.startcell){ev.preventDefault();if(!$0P.active){window.clearTimeout($0P.timeout);return;};var $3j=$0P.getCellCoords(ev);$0P.extendSelection($3j);};$0P.preventEventTap=true;};this.$8v.relativeCoords=function(ev){var $32=$d.nav.main;var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $3Q=DayPilot.abs($32);var $3j={x:x-$3Q.x,y:y-$3Q.y,"toString":function(){return "x: "+this.x+", y:"+this.y;}};return $3j;};this.$8v.onMainTouchEnd=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};if(DayPilot.Global.moving){$0P.active=false;ev.preventDefault();ev.stopPropagation();var top=DayPilotCalendar.movingShadow.offsetTop;var $3T=DayPilot.Global.moving.event;var $d=$3T.calendar;$d.$7T(DayPilotCalendar.movingShadow);var $0w=DayPilotCalendar.movingShadow.column;var $l=DayPilotCalendar.movingShadow;DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;if(!$l.allowed){return;};$3T.calendar.$7x($3T,$0w,top,ev,DayPilotCalendar.drag);}else if($0P.startcell){if(!$0P.active){window.clearTimeout($0P.timeout);return;};ev.preventDefault();$0P.startcell=null;var $10=$d.getSelection();$10.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$d.$7F($10.start,$10.end,$10.resource);window.setTimeout(function(){$0P.active=false;},500);}};this.$8v.onEventTouchMove=function(ev){$0P.preventEventTap=true;};this.$8v.onEventTouchEnd=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};if(!$0P.active){if($0P.preventEventTap){return;};window.clearTimeout($0P.timeout);$d.$7f(this,false,false,ev);return;};$0P.active=false;if($0P.timeout){window.clearTimeout($0P.timeout);return;}};this.$8s=function(ev){var $3U=5;var $3V=10;var w=5;var $1V=($d.moveBy==='Top');if(typeof(DayPilotCalendar)==='undefined'){return;};var $17=DayPilot.mo3(this,ev);if(!$17){return;};$d.eventOffset=$17;var $X=this;if(!$X.active){DayPilot.Util.addClass($X,$d.$73("_event_hover"));};if(DayPilot.Global.resizing||DayPilot.Global.moving){return;};var $3W=this.isFirst;var $3X=this.isLast;if($d.moveBy==="Disabled"||$d.moveBy==="None"){return;};if(!$1V&&$17.x<=$3V&&this.event.client.moveEnabled()){if($3W){this.style.cursor='move';}else{this.style.cursor='not-allowed';}}else if(!$1V&&$17.y<=$3U&&this.event.client.resizeEnabled()){if($3W){this.style.cursor="n-resize";this.dpBorder='top';}else{this.style.cursor='not-allowed';}}else if($1V&&$17.y<=$3V&&this.event.client.moveEnabled()){this.style.cursor="move";}else if(this.offsetHeight-$17.y<=$3U&&this.event.client.resizeEnabled()){if($3X){this.style.cursor="s-resize";this.dpBorder='bottom';}else{this.style.cursor='not-allowed';}}else if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(this.event.client.clickEnabled())this.style.cursor='pointer';else this.style.cursor='default';};if(typeof(DayPilot.Bubble)!=='undefined'&&$d.bubble&&$d.eventHoverHandling!=='Disabled'){if(this.style.cursor==='default'||this.style.cursor==='pointer'){var $3Y=this.$9x&&$17.x===this.$9x.x&&$17.y===this.$9x.y;if(!$3Y){this.$9x=$17;$d.bubble.showEvent(this.event);}}else{}}};this.$8t=function(ev){DayPilot.Util.removeClass(this,$d.$73("_event_hover"));if($d.bubble){$d.bubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this,ev);};this.$9y=null;this.$6U=function(){if(this.showCurrentTime){this.$9z();var $0c=new DayPilot.Date().addMinutes($d.showCurrentTimeOffset);if($d.showCurrentTimeMode==="Full"){this.$9A($0c);}else if($d.showCurrentTimeMode==="Day"){this.$9B($0c);}else{throw "Invalid DayPilot.Calendar.showCurrentTimeMode value: "+$d.showCurrentTimeMode;};if(this.nav.events&&!this.$9y){var $3Z=30;this.$9y=setTimeout(function(){$d.$9y=null;$d.$6U();},$3Z*1000);}}};this.$9z=function(){DayPilot.de($d.elements.separators);$d.elements.separators=[];};this.$9B=function($0B){var $40=$0B.getTime();var $F=$d.nav.events;if(!$F){return;};for(var i=0;i<$d.$72.length;i++){var $0X=$d.$72[i];var $K=$d.$75(true);var $41=new DayPilot.Date($0X.start).addHours(this.$79(true));var $42=$41.getTime();var $1v=$41.addTime($K);var $43=$1v.getTime();if($42<=$40&&$40<=$43){var $44=this.$7P($0B,$0X.start).top-1-$d.$7Q();var $0d=$F.rows[0].cells[i];var $2g=$0d.separators;var $X=document.createElement("div");$X.style.position="absolute";$X.style.top=$44+"px";$X.style.height="1px";$X.style.left="0px";$X.style.right="0px";$X.className=$d.$73("_now");$2g.insertBefore($X,$2g.firstChild);$d.elements.separators.push($X);}}};this.$9A=function($0B){var $40=$0B.getTime();var $F=$d.nav.events;if(!$F){return;};var $0X=$d.$72[0];if(!$0X){return;};var $45=$0X.start.getDatePart().addTime($0B.getTimePart());var $44=this.$7P($45,$0X.start).top-1;for(var i=0;i<$d.$72.length;i++){var $0X=$d.$72[i];var $K=$d.$75(true);var $41=new DayPilot.Date($0X.start).addHours(this.$79(true));var $42=$41.getTime();var $1v=$41.addTime($K);var $43=$1v.getTime();if($42<=$40&&$40<=$43){var $X=document.createElement("div");$X.style.position="absolute";$X.style.top=$44+"px";$X.style.height="1px";$X.style.left="0px";$X.style.right="0px";$X.className=$d.$73("_now");$d.nav.events.appendChild($X);$d.elements.separators.push($X);return;}}};this.$6J=function($1j){if(!$1j){$1j=this.events.list;}else{this.events.list=$1j;};if(!$1j){return;};this.$8o={};this.$8o.events=[];this.$8o.lines=[];var length=$1j.length;var $K=this.$75(true);this.$68.pixels={};var $46=[];this.$80=[];this.$7q=10000;this.$78=0;this.startDate=new DayPilot.Date(this.startDate);for(var i=0;i<length;i++){var e=$1j[i];if(typeof e!=="object"){throw new DayPilot.Exception("Event data item must be an object");};if(!e.start){throw new DayPilot.Exception("Event data item must specify 'start' property");};e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.end);};if(typeof this.onBeforeEventRender==='function'||$d.showEventStartEnd){for(var i=0;i<length;i++){this.$9w(i);}};var $47=this.viewType==='Resources';var $1I=this.$8l();var $48=$1I.start;var $49=$1I.end;for(var i=0;i<this.$72.length;i++){var scroll={};scroll.minEnd=1000000;scroll.maxStart=-1;this.$80.push(scroll);var $0X=this.$72[i];$0X.events=[];$0X.lines=[];$0X.blocks=[];var $41=new DayPilot.Date($0X.start).addHours(this.$79(true));var $42=$41.getTime();var $1v=$41.addTime($K);var $43=$1v.getTime();if($47){$48=$41.getDatePart();$49=$41.addDays(1);};for(var j=0;j<length;j++){if($46[j]){continue;};var e=$1j[j];var $1W=null;if(typeof $d.onBeforeEventRender==='function'){$1W=$d.$68.events[j];};if($1W){if($1W.hidden){continue;}}else if(e.hidden){continue;};var $0b=e.start;var end=e.end;var $30=$0b.getTime();var $31=end.getTime();if($31<$30){continue;};if(e.allday){var $4a=false;if($30===$31){$4a=!($31<$48.getTime()||$30>=$49.getTime());}else if($d.allDayEnd==='Date'){$4a=!($31<$48.getTime()||$30>=$49.getTime());}else{$4a=!($31<=$48.getTime()||$30>=$49.getTime());};if($47){$4a=$4a&&(e.resource===$0X.id||$0X.id==="*");};if($4a){var ep=new DayPilot.Event(e,this);ep.part.start=$48.getTime()<$30?$0b:$48;ep.part.end=$49.getTime()>$31?end:$49;ep.part.colStart=DayPilot.DateUtil.daysDiff($48,ep.part.start);ep.part.colWidth=DayPilot.DateUtil.daysSpan(ep.part.start,ep.part.end)+1;if($47){ep.part.colStart=i;ep.part.colWidth=1;};if(typeof $d.onEventFilter==="function"&&$d.events.$9C){var $l={};$l.filter=$d.events.$9C;$l.visible=true;$l.e=ep;$d.onEventFilter($l);if(!$l.visible){continue;}};this.$8o.events.push(ep);if(typeof this.onBeforeEventRender==='function'||$d.showEventStartEnd){ep.cache=this.$68.events[j];};$46[j]=true;if($47&&(ep.part.start.getTime()!==$30||ep.part.end.getTime()!==$31)){$46[j]=false;}};continue;};var $1W=null;if(typeof $d.onBeforeEventRender==='function'){$1W=$d.$68.events[j];};if($1W){if($1W.hidden){continue;}}else if(e.hidden){continue;};var $4a=false;if($47){$4a=($0X.id===e.resource)&&!($31<=$42||$30>=$43);}else{$4a=!($31<=$42||$30>=$43)||($31===$30&&$30===$42);};if($4a){var ep=new DayPilot.Event(e,$d);ep.part.dayIndex=i;ep.part.start=$42<$30?$0b:$41;ep.part.end=$43>$31?end:$1v;var $44=this.$7P(ep.part.start,$0X.start);var $4b=this.$7P(ep.part.end,$0X.start);var top=$44.top;var $0Z=$4b.top;if(top===$0Z&&($44.cut||$4b.cut)){continue;};ep.part.box=$0h.useBox($31-$30);var $I=0;if(ep.part.box){var $4c=$4b.boxBottom;ep.part.top=Math.floor(top/this.cellHeight)*this.cellHeight+$I;ep.part.height=Math.max(Math.ceil($4c/this.cellHeight)*this.cellHeight-ep.part.top,this.cellHeight-1);ep.part.barTop=Math.max(top-ep.part.top-1,0);ep.part.barHeight=Math.max($0Z-top-2,1);}else{ep.part.top=top+$I;ep.part.height=Math.max($0Z-top,0);ep.part.barTop=0;ep.part.barHeight=Math.max($0Z-top-2,1);};if(typeof $d.onEventFilter==="function"&&$d.events.$9C){var $l={};$l.filter=$d.events.$9C;$l.visible=true;$l.e=ep;$d.onEventFilter($l);if(!$l.visible){continue;}};var $0b=ep.part.top;var end=ep.part.top+ep.part.height;if($0b>scroll.maxStart){scroll.maxStart=$0b;};if(end<scroll.minEnd){scroll.minEnd=end;};if($0b<this.$7q){this.$7q=$0b;};if(end>this.$78){this.$78=end;};$0X.events.push(ep);if(typeof this.onBeforeEventRender==='function'||$d.showEventStartEnd){ep.cache=this.$68.events[j];};if(ep.part.start.getTime()===$30&&ep.part.end.getTime()===$31){$46[j]=true;}}}};for(var i=0;i<this.$72.length;i++){var $0X=this.$72[i];$0X.events.sort(this.$9D);for(var j=0;j<$0X.events.length;j++){var e=$0X.events[j];$0X.putIntoBlock(e);};for(var j=0;j<$0X.blocks.length;j++){var $1Q=$0X.blocks[j];$1Q.events.sort(this.$9E);for(var k=0;k<$1Q.events.length;k++){var e=$1Q.events[k];$1Q.putIntoLine(e);}}};this.$8o.events.sort(this.$9E);this.$8o.putIntoLine=function(ep){var $1R=this;for(var i=0;i<this.lines.length;i++){var $1S=this.lines[i];if($1S.isFree(ep.part.colStart,ep.part.colWidth)){$1S.push(ep);return i;}};var $1S=[];$1S.isFree=function($0b,$1f){var end=$0b+$1f-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.colStart||$0b>e.part.colStart+e.part.colWidth-1)){return false;}};return true;};$1S.push(ep);this.lines.push($1S);return this.lines.length-1;};for(var i=0;i<this.$8o.events.length;i++){var e=this.$8o.events[i];this.$8o.putIntoLine(e);};var $4d=Math.max(this.$8o.lines.length,1);this.$68.allDayHeaderHeight=$4d*($0h.allDayEventHeight()+2)+2;};this.$9D=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $4e=a.start().ticks-b.start().ticks;if($4e!==0){return $4e;};var $4f=b.end().ticks-a.end().ticks;return $4f;};this.$9E=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $d.$9D(a,b);};var $t=0;var i=0;while($t===0&&typeof a.data.sort[i]!=="undefined"&&typeof b.data.sort[i]!=="undefined"){if(a.data.sort[i]===b.data.sort[i]){$t=0;}else if(typeof a.data.sort[i]==="number"&&typeof b.data.sort[i]==="number"){$t=a.data.sort[i]-b.data.sort[i];}else{$t=$d.$9F(a.data.sort[i],b.data.sort[i],$d.sortDirections[i]);};i++;};return $t;};this.$9F=function(a,b,$4g){var $4h=($4g!=="desc");var $4i=$4h?-1:1;var $4j=-$4i;if(a===null&&b===null){return 0;};if(b===null){return $4j;};if(a===null){return $4i;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$4i:$4j;};this.$9G=function(e){for(var i=0;i<$d.elements.events.length;i++){var $X=$d.elements.events[i];if($X.event===e||$X.event.data===e.data){return $X;}};return null;};this.events.find=function(id){if(!$d.events.list||typeof $d.events.list.length==='undefined'){return null;};var $3z=$d.events.list.length;for(var i=0;i<$3z;i++){if($d.events.list[i].id===id){return new DayPilot.Event($d.events.list[i],$d);}};return null;};this.events.findRecurrent=function($4k,$0c){if(!$d.events.list||typeof $d.events.list.length==='undefined'){return null;};var $3z=$d.events.list.length;for(var i=0;i<$3z;i++){if($d.events.list[i].recurrentMasterId===$4k&&$d.events.list[i].start.getTime()===$0c.getTime()){return new DayPilot.Event($d.events.list[i],$d);}};return null;};this.events.all=function(){var $1m=[];for(var i=0;i<$d.events.list.length;i++){var e=new DayPilot.Event($d.events.list[i],$d);$1m.push(e);};return DayPilot.list($1m);};this.events.edit=function(e){function startEditing(){var $X=$d.$9G(e);if(!$X){return;};$d.$7g($X);};startEditing();};this.events.update=function(e,$f){var $0g={};$0g.oldEvent=new DayPilot.Event(e.copy(),$d);$0g.newEvent=new DayPilot.Event(e.temp(),$d);var $e=new DayPilot.Action($d,"EventUpdate",$0g,$f);e.commit();if($d.$6a){$d.$8h({"eventsOnly":true});};$d.$9H.notify();return $e;};this.events.remove=function(e,$f){var $0g={};$0g.e=new DayPilot.Event(e.data,$d);var $e=new DayPilot.Action($d,"EventRemove",$0g,$f);var $2C=DayPilot.indexOf($d.events.list,e.data);$d.events.list.splice($2C,1);if($d.$6a){$d.$8h({"eventsOnly":true});};$d.$9H.notify();return $e;};this.events.add=function(e,$f){if(!(e instanceof DayPilot.Event)){e=new DayPilot.Event(e);};e.calendar=$d;if(!$d.events.list){$d.events.list=[];};$d.events.list.push(e.data);var $0g={};$0g.e=e;var $e=new DayPilot.Action($d,"EventAdd",$0g,$f);if($d.$6a){$d.$8h({"eventsOnly":true});};$d.$9H.notify();return $e;};this.events.filter=function($l){$d.events.$9C=$l;$d.$8h({"eventsOnly":true});};this.events.load=function($1w,$1x,$1y){var $1z=function($l){var $1A={};$1A.exception=$l.exception;$1A.request=$l.request;if(typeof $1y==='function'){$1y($1A);}};var $1B=function($l){var r=$l.request;var $f;try{$f=JSON.parse(r.responseText);}catch(e){var $1C={};$1C.exception=e;$1z($1C);return;};if(DayPilot.isArray($f)){var $1D={};$1D.preventDefault=function(){this.preventDefault.value=true;};$1D.data=$f;if(typeof $1x==="function"){$1x($1D);};if($1D.preventDefault.value){return;};$d.events.list=$f;if($d.$6a){$d.$8h({"eventsOnly":true});}}};var $1E=$d.eventsLoadMethod&&$d.eventsLoadMethod.toUpperCase()==="POST";if($1E){DayPilot.ajax({"method":"POST","data":{"start":$d.visibleStart().toString(),"end":$d.visibleEnd().toString()},"url":$1w,"success":$1B,"error":$1z});}else{var $4l=$1w;var $4m="start="+$d.visibleStart().toString()+"&end="+$d.visibleEnd().toString();if($4l.indexOf("?")>-1){$4l+="&"+$4m;}else{$4l+="?"+$4m;};DayPilot.ajax({"method":"GET","url":$4l,"success":$1B,"error":$1z});}};this.events.forRange=function($0b,end){$0b=new DayPilot.Date($0b);end=new DayPilot.Date(end);return DayPilot.list($d.events.list).filter(function($1T){var $4n=new DayPilot.Date($1T.start);var $4o=new DayPilot.Date($1T.end);return DayPilot.Util.overlaps($0b,end,$4n,$4o);}).map(function($1T){return new DayPilot.Event($1T,$d);});};this.events.$7N=function(e){if(!e){throw new DayPilot.Exception("Error checking overlap for null (internal error)");};var $f=e instanceof DayPilot.Event?e.data:e;var $0b=new DayPilot.Date($f.start);var end=new DayPilot.Date($f.end);var $4p=DayPilot.list($d.events.list).find(function($1T){if($d.$9I($f,$1T)){return false;};if($d.viewType=="Resources"&&$f.resource!==$1T.resource){return false;};if($1T.allday){return false;};var $4q=new DayPilot.Date($1T.start);var $4r=new DayPilot.Date($1T.end);return DayPilot.Util.overlaps($0b,end,$4q,$4r);});return !!$4p;};this.$9I=function($4s,$4t){return DayPilot.Util.isSameEvent($4s,$4t);};this.$6t={};this.$6t.reactDOM=null;this.$6t.react=null;this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($e){if(!$e){return;};if($e.isAction){$d.queue.list.push($e);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($f){var $0g={};$0g.actions=$d.queue.list;$d.$6g('Notify',$0g,$f,"Notify");$d.queue.list=[];};this.queue.clear=function(){$d.queue.list=[];};this.queue.pop=function(){return $d.queue.list.pop();};this.$8h=function($l){if(!this.$6a||!this.$72){return;};var $l=$l||{};var $4u=!$l.eventsOnly;if(!$d.cssOnly){$d.cssOnly=true;};if($4u){if(!this.$6h()){$d.cellProperties={};};$d.$8V.clearCache();$d.$6o();$d.$9J();$d.$6H();$d.$6J();$d.$6L();$d.$6M();$d.$6K();$d.$6N();$d.$6O();$d.$6d();$d.$6P();$d.$7M();$d.$6Q();$d.$6R();$d.$6S();$d.$6T();$d.$9K();$d.$6W();$d.$6X();$d.$6U();$d.$6Y();}else{$d.$6o();$d.$6J();$d.$6K();$d.$6W();$d.$6X();$d.$6Y();};if(this.visible){this.show();}else{this.hide();}};this.update=function($b){if($d.$9L){throw new DayPilot.Exception("This DayPilot.Calendar instance has been disposed.");};if(!$d.$6a){$d.$9M($b);return;};if(DayPilot.Util.isOnlyProperty($b,"events")){$d.events.list=$b.events;$d.$8h({"eventsOnly":true});return;};this.$9M($b);this.$8h();if(typeof $d.onAfterRender==='function'){var $l={};$l.isUpdate=true;$l.data=null;$d.onAfterRender($l);}};this.$9K=function(){var $4v=$d.nav.top.className!==$d.$73("_main");if(!$4v){return;};$d.nav.top.className=$d.$73("_main");var $2L=$d.nav.corner;$2L.className=$d.$73("_corner");$2L.firstChild.className=$d.$73("_corner_inner");var cr=$d.nav.unifiedCornerRight;if(cr){cr.firstChild.className=$d.$73("_cornerright");cr.firstChild.firstChild.className=$d.$73("_cornerright_inner");}};this.show=function(){$d.visible=true;$d.nav.top.style.display='';$d.$6u();$d.$6S();$d.$7X();};this.hide=function(){$d.visible=false;$d.nav.top.style.display='none';};this.$9H={};this.$9H.scope=null;this.$9H.notify=function(){if($d.$9H.scope){$d.$9H.scope["$apply"]();}};this.debug=new DayPilot.Debug(this);this.$9c=function(x,$4w){if(x<0){return null;};if($d.rtl){x=$d.nav.main.offsetWidth-x;};var i=0;var $0V=$d.nav.events.rows[0].cells;if(DayPilot.browser.ie&&!$4w){for(var j=$0V.length-1;j>=0;j--){var $0d=$0V[j];var $1f=$0d.offsetWidth;i+=$1f;if(x<i){return j;}}}else{for(var j=0;j<$0V.length;j++){var $0d=$0V[j];var $1f=$0d.offsetWidth;i+=$1f;if(x<i){return j;}}};return null;};this.$7P=function($0B,$0b){if(!$0b){$0b=this.startDate;};var $30=$0b.getTime();var $40=$0B.getTime();var $1W=this.$68.pixels[$40+"_"+$30];if($1W){return $1W;};var $4x=this.$79(true);$30=$0b.addHours(this.$79(true)).getTime();var $4y=this.cellDuration*60*1000;var $4z=$40-$30;var $4A=$4z%$4y;var $4B=$4z-$4A;var $4C=$4B+$4y;if($4A===0){$4C=$4B;};var $t={};$t.cut=false;$t.top=this.$98($4z);$t.boxTop=this.$98($4B);$t.boxBottom=this.$98($4C);this.$68.pixels[$40+"_"+$30]=$t;return $t;};this.$98=function($40){return Math.floor((this.cellHeight*$40)/(1000*60*this.cellDuration));};this.$9J=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();this.$9N=$0h.allDayEventHeight()+4;};this.$6K=function(){var $1V=this.$7a();var $2w=this.$8z();if(this.nav.corner){this.nav.corner.style.height=$1V+"px";};if(this.nav.cornerRight){this.nav.cornerRight.style.height=$1V+"px";};if(this.nav.mid){this.nav.mid.style.height=$1V+"px";};if(this.showAllDayEvents&&this.nav.header){var $2o=this.nav.header.rows[this.nav.header.rows.length-1];for(var i=0;i<$2o.cells.length;i++){var $p=$2o.cells[i];$p.firstChild.style.height=$0h.allDayHeaderHeight()+"px";}};if(this.nav.upperRight){this.nav.upperRight.style.height=$1V+"px";};this.nav.scroll.style.top=$1V+"px";this.nav.top.style.height=$2w+"px";};this.$6R=function(){var sh=this.$8A();if(this.nav.scroll&&sh>0){this.nav.scroll.style.height=sh+"px";this.$7Z=$d.nav.scroll.clientHeight;if(this.nav.bottomLeft){this.nav.bottomLeft.style.height=sh+"px";};if(this.nav.bottomRight){this.nav.bottomRight.style.height=sh+"px";}};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";}else{this.nav.top.style.height=this.$8z()+"px";}};this.setHeight=function($3D){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};this.height=$3D-(this.$7a());this.$6R();};this.$9O=function($4D){var $X=document.createElement("div");$X.style.position="absolute";$X.style.top="-2000px";$X.style.left="-2000px";$X.className=this.$73($4D);document.body.appendChild($X);var $J=$X.offsetHeight;var $1f=$X.offsetWidth;document.body.removeChild($X);var $t={};$t.height=$J;$t.width=$1f;return $t;};this.$8V={};var $0h=this.$8V;$0h.locale=function(){return DayPilot.Locale.find($d.locale);};$0h.weekStarts=function(){if(typeof $d.weekStarts==='number'){return $d.weekStarts;}else{return $0h.locale().weekStarts;}};$0h.timeFormat=function(){if($d.timeFormat!=='Auto'){return $d.timeFormat;};return this.locale().timeFormat;};$0h.useBox=function($4E){if($d.useEventBoxes==='Always'){return true;};if($d.useEventBoxes==='Never'){return false;};return $4E<$d.cellDuration*60*1000;};$0h.notifyType=function(){var $j;if($d.notifyCommit==='Immediate'){$j="Notify";}else if($d.notifyCommit==='Queue'){$j="Queue";}else{throw "Invalid notifyCommit value: "+$d.notifyCommit;};return $j;};$0h.clearCache=function(){delete $d.$68.allDayEventHeight;delete $d.$68.allDayHeaderHeight;delete $d.$68.headerHeight;};$0h.allDayEventHeight=function(){if($d.$68.allDayEventHeight){return $d.$68.allDayEventHeight;};var $J=$d.$9O("_alldayevent_height").height;if(!$J){$J=$d.allDayEventHeight;};$d.$68.allDayEventHeight=$J;return $J;};$0h.allDayHeaderHeight=function(){if($d.$68.allDayHeaderHeight){return $d.$68.allDayHeaderHeight;};var $J=$d.$9N;$d.$68.allDayHeaderHeight=$J;return $J;};$0h.headerHeight=function(){if($d.$68.headerHeight){return $d.$68.headerHeight;};var $J=$d.$9O("_header_height").height;if(!$J){$J=$d.headerHeight;};$d.$68.headerHeight=$J;return $J;};this.exportAs=function($0W,$b){if(!$d.$9r()){throw new DayPilot.Exception("DayPilot.Calendar.exportAs(): The instance must be visible during export.");};var $4F=$25.generate($0W,$b);return new DayPilot.Export($4F);};this.$9P={};var $25=this.$9P;$25.$9Q=null;$25.$9R=null;$25.generate=function($0W,$b){if(typeof $0W==="object"){$b=$0W;$0W=null;};var $b=$b||{};var $0W=$0W||$b.format||"svg";var $4G=$b.scale||1;if($0W==="config"){return;};if($0W.toLowerCase()==="jpg"){$0W="jpeg";};var $4H=$b.area||"viewport";$25.$9Q=$b;$25.$9R=$4H;var $1f=$25.getWidth();var $J=$25.getHeight();var $4F;switch($0W.toLowerCase()){case "svg":$4F=new DayPilot.Svg($1f,$J);break;case "png":$4F=new DayPilot.Canvas($1f,$J,"image/png",$4G);break;case "jpeg":$4F=new DayPilot.Canvas($1f,$J,"image/jpeg",$4G,$b.quality);break;default:throw "Export format not supported: "+$0W;};var $4I=$25.getRectangles();var $V=new DayPilot.StyleReader($d.nav.top).getBackColor();var $4J=new DayPilot.StyleReader($d.nav.top).get("border-top-color");var $1I=new DayPilot.StyleReader($d.nav.top).get("border-top-width")!=="0px";if(!$1I){$4J="white";};var $4K=new DayPilot.StyleReader($d.nav.corner.firstChild).getBackColor($V);var $4L=$d.nav.hourTable.rows[0].cells[0].firstChild.firstChild;var $4M=new DayPilot.StyleReader($4L).get("border-right-color");var $4N=new DayPilot.StyleReader($4L).getBackColor($V);var $4O=new DayPilot.StyleReader($4L).getFont();var $4P=new DayPilot.StyleReader($4L.firstChild.childNodes[1]).getFont();var $4Q=new DayPilot.StyleReader($4L.firstChild.childNodes[1]).getPx("padding-right");var $4R=new DayPilot.StyleReader($4L).get("color");var $4S=$d.nav.header.rows[0].cells[0].firstChild.firstChild;var $4T=new DayPilot.StyleReader($4S).getBackColor($V);var $4U=new DayPilot.StyleReader($4S).getFont();var $4V=new DayPilot.StyleReader($4S).get("color");var $4W=new DayPilot.StyleReader($4S).get("border-right-color");var $4X=$d.nav.header.rows[$d.nav.header.rows.length-1].cells[0].firstChild;var $4Y=$4X.firstChild;var $4Z=new DayPilot.StyleReader($4X).getBackColor($V);var $50=new DayPilot.StyleReader($4Y).getBackColor($4Z);var $0d=$d.nav.main.rows[0].cells[0].firstChild.firstChild;var $51=new DayPilot.StyleReader($0d).get("border-right-color");var $0d=$25.fakeCell();var $52=new DayPilot.StyleReader($0d.firstChild).getBackColor();DayPilot.Util.addClass($0d,$d.$73("_cell_business"));var $53=new DayPilot.StyleReader($0d.firstChild).getBackColor();DayPilot.de($0d);var $54=$25.getViewportOffsetTop();var $H=0;if($d.columnWidthSpec==="Fixed"){$H=$d.columnWidth;}else{$H=$4I.gridContent.w/$d.$72.length;};$4F.fillRect($4I.main,"white");$4F.fillRect($4I.main,$V);var top=$4I.corner.h-$54;DayPilot.list.for($d.$8N(),function(i){return $d.$8S(i);}).each(function($2o){var $J=$d.$8P();var $2E=$2o.hour;var $2F=$2o.sup;var $2G=$2E;var $55=20;var $56={"x":0,"y":top,"w":$4I.grid.x+1,"h":$J+1};var $57={"x":0,"y":top,"w":$4I.grid.x+1-$55,"h":$J+1};var $58={"x":$57.w,"y":top,"w":$55-$4Q-1,"h":$J+1};var $V=$4N;$4F.fillRect($56,$V);$4F.text($57,$2G,$4O,$4R,"right");$4F.text($58,$2F,$4P,$4R,"right");$4F.rect($56,$4M);top+=$J;});var $0n=$d.cellDuration*60*1000;var $Y=$4I.grid.x;DayPilot.list($d.$72).each(function($0X,x){var $1f=$H;var top=$4I.grid.y-$54;DayPilot.list.for($d.$7d()).each(function($2o,y){var $2A=$d.$96(x,y)||{};var $59=null;if($2A.cssClass){var $0d=$25.fakeCell();DayPilot.Util.addClass($0d,$2A.cssClass);$59=new DayPilot.StyleReader($0d.firstChild).getBackColor();DayPilot.de($0d);};var $J=$d.cellHeight;var $56={"x":$Y,"y":top,"w":$1f+1,"h":$J+1};var $5a=$2A.business;var $l={};$l.cell={};$l.cell.start=$0X.start.addTime(y*$0n).addHours($d.$79());$l.cell.end=$l.cell.start.addTime($0n);$l.cell.resource=$0X.id;DayPilot.Util.copyProps($2A,$l.cell,['cssClass','html','backImage','backRepeat','backColor','business']);$l.backColor=$59||($5a?$53:$52);if(typeof $d.onBeforeCellExport==="function"){$d.onBeforeCellExport($l);};$4F.fillRect($56,$l.backColor);$4F.rect($56,$51);top+=$J;});$Y+=$1f;});var $5b=$4I.grid.x;DayPilot.list($d.$72).each(function($0X){DayPilot.list($0X.events).each(function(e){var $1W=e.cache||e.data;var $5c=$25.fakeEvent();$5c.className+=" "+$1W.cssClass;var $5d=$5c.firstChild;var $5e=$5c.childNodes[1];var $5f=new DayPilot.StyleReader($5d).getBackColor();var $5g=new DayPilot.StyleReader($5d.firstChild).getBackColor();var $5h=new DayPilot.StyleReader($5d.firstChild).getPx("width");var $5i=new DayPilot.StyleReader($5e).get("border-right-color");var $5j=new DayPilot.StyleReader($5e).getFont();var $5k=new DayPilot.StyleReader($5e).get("color");var $5l=new DayPilot.StyleReader($5e).getBackColor();var $5m={};$5m.left=new DayPilot.StyleReader($5e).getPx("padding-left");$5m.right=new DayPilot.StyleReader($5e).getPx("padding-right");$5m.top=new DayPilot.StyleReader($5e).getPx("padding-top");$5m.bottom=new DayPilot.StyleReader($5e).getPx("padding-bottom");DayPilot.de($5c);var $Y=$5b+$H*e.part.left/100;var $1f=($H-$d.columnMarginRight)*e.part.width/100;var top=e.part.top+$4I.grid.y-$d.$7Q()-$54;var $J=e.part.height;var $V=$1W.backColor||$5l;var $5n=$1W.barColor||$5g;var $5o=$1W.barBackColor||$5f;var $l={};$l.e=e;$l.text=e.text?e.text():e.client.html();$l.fontSize=$5j.size;$l.fontFamily=$5j.family;$l.fontStyle=$5j.style;$l.fontColor=$5k;$l.backColor=$V;$l.borderColor=$5i;$l.horizontalAlignment="left";$l.barWidth=$5h;$l.barColor=$5n;$l.barBackColor=$5o;if(typeof $d.onBeforeEventExport==="function"){$d.onBeforeEventExport($l);};var $56={"x":$Y,"y":top,"w":$1f+1,"h":$J+1};var $5p=DayPilot.Util.copyProps($56);if(e.client.barVisible()){$5p.x+=$5h;$5p.w-=$5h;};var $57=DayPilot.Util.copyProps($5p);$57.x+=$5m.left;$57.w-=$5m.left+$5m.right;$57.y+=$5m.top;$57.h-=$5m.top+$5m.bottom;$4F.fillRect($56,$l.backColor);if(e.client.barVisible()){var $5q={"x":$56.x,"y":$56.y,"w":$l.barWidth,"h":$56.h};var $5r={"x":$56.x,"y":$56.y+1+e.part.barTop,"w":$l.barWidth,"h":e.part.barHeight+1};$4F.fillRect($5q,$l.barBackColor);$4F.fillRect($5r,$l.barColor);};$4F.text($57,$l.text,{"size":$l.fontSize,"family":$l.fontFamily,"style":$l.fontStyle},$l.fontColor,$l.horizontalAlignment);$4F.rect($56,$l.borderColor);var $Y=$56.x;var $Z=$56.x+$56.w-2;var top=$56.y;DayPilot.list($1W.areas).each(function($2a){if(!DayPilot.Areas.isVisible($2a)){return;};var $5s=$2a.left;if($2a.start){$5s=$d.getPixels(new DayPilot.Date($2a.start)).left-e.part.left;};var $1f=$2a.width||$2a.w;var $J=$2a.height||$2a.h;if(!$5s){$5s=$Z-$1f-$Y;};if($2a.right){$1f=(e.part.width-$2a.right)-$5s;}else if($2a.end){$1f=$d.getPixels(new DayPilot.Date($2a.end)).left-$2a.left-e.part.left+1;};var $5t=$2a.top;if(typeof $2a.bottom==="number"){$J=(e.part.height-$2a.bottom)-$5t;};var $56={"x":$Y+$5s,"y":top+$5t,"w":$1f,"h":$J};if($2a.backColor){$4F.fillRect($56,$2a.backColor);};if($2a.image){var $25=new Image();$25.src=$2a.image;$4F.image($56,$25);}else if($2a.html){$4F.text($56,$2a.html,{"size":$l.fontSize,"family":$l.fontFamily,"style":$l.fontStyle},$2a.fontColor||$l.fontColor,null,$2a.padding);}});});$5b+=$H;});$4F.fillRect($4I.corner,$4K);var $5u=1;if($d.columnWidthSpec!=="Fixed"){$5u=$4I.gridContent.w/100;};DayPilot.list.for($d.headerLevels).each(function($1M){var $Y=$4I.gridContent.x;var top=$d.headerHeight*$1M;var $0k=$d.$8k($1M+1);var $3u=$d.$9i($1M);DayPilot.list($0k).forEach(function($0X,i){var $l={};$l.text=DayPilot.Util.stripTags($0X.html);$l.horizontalAlignment="center";$l.backColor=$0X.backColor||$4T;$l.fontSize=$4U.size;$l.fontFamily=$4U.family;$l.fontStyle=$4U.style;$l.fontColor=$4V;$l.header={};$l.header.level=$1M;DayPilot.Util.copyProps($0X,$l.header,['id','start','name','html','backColor']);if(typeof $d.onBeforeHeaderExport==="function"){$d.onBeforeHeaderExport($l);};var $5v=$3u.length===0;var $1f=$5v?$H:$3u[i].width*$5u;var x=$5v?$Y:$Y+$3u[i].left*$5u;var $J=$d.headerHeight;var $5w={"x":x,"y":top,"w":$1f+1,"h":$J+1};$4F.fillRect($5w,$l.backColor);$4F.rect($5w,$4W);$4F.text($5w,$l.text,{"size":$l.fontSize,"family":$l.fontFamily,"style":$l.fontStyle},$l.fontColor,$l.horizontalAlignment);if($5v){$Y+=$H;}});});(function(){if(!$d.showAllDayEvents){return;};var top=$d.headerHeight*$d.headerLevels;var $Y=$4I.gridContent.x;DayPilot.list($d.$72).each(function($0X){var $1f=$H;var $J=$0h.allDayHeaderHeight();var $5w={"x":$Y,"y":top,"w":$1f+1,"h":$J+1};$4F.fillRect($5w,$50);$4F.rect($5w,$4W);$Y+=$H;});DayPilot.list($d.$8o.lines).each(function($1S,j){DayPilot.list($1S).each(function(e){var $5c=$25.fakeEvent("alldayevent");$5c.className+=" "+e.data.cssClass;var $5e=$5c.firstChild;var $5i=new DayPilot.StyleReader($5e).get("border-right-color");var $5j=new DayPilot.StyleReader($5e).getFont();var $5k=new DayPilot.StyleReader($5e).get("color");var $5l=new DayPilot.StyleReader($5e).getBackColor();var $5m={};$5m.left=new DayPilot.StyleReader($5e).getPx("padding-left");$5m.right=new DayPilot.StyleReader($5e).getPx("padding-right");$5m.top=new DayPilot.StyleReader($5e).getPx("padding-top");$5m.bottom=new DayPilot.StyleReader($5e).getPx("padding-bottom");DayPilot.de($5c);var $1W=e.cache||e.data;var $V=$1W.backColor||$5l;var $l={};$l.e=e;$l.text=e.text?e.text():e.client.html();$l.fontSize=$5j.size;$l.fontFamily=$5j.family;$l.fontStyle=$5j.style;$l.fontColor=$5k;$l.backColor=$V;$l.borderColor=$5i;$l.horizontalAlignment="left";if(typeof $d.onBeforeEventExport==="function"){$d.onBeforeEventExport($l);};var $Y=e.part.colStart*$H+$4I.gridContent.x+2;var $1f=e.part.colWidth*$H-4;var $J=$0h.allDayEventHeight()-1;var top=($d.headerLevels*$0h.headerHeight()+j*($0h.allDayEventHeight()))+2;var $56={"x":$Y,"y":top,"w":$1f,"h":$J};var $57=DayPilot.Util.copyProps($56);$57.x+=$5m.left;$57.w-=$5m.left+$5m.right;$57.y+=$5m.top;$57.h-=$5m.top+$5m.bottom;$4F.fillRect($56,$l.backColor);$4F.text($57,$l.text,{"size":$l.fontSize,"family":$l.fontFamily,"style":$l.fontStyle},$l.fontColor,$l.horizontalAlignment);$4F.rect($56,$l.borderColor);});});})();$4F.rect($4I.main,$4J);$4F.line($4I.grid.x,0,$4I.grid.x,$4I.main.h,$4M);$4F.line(0,$4I.grid.y,$4I.main.w,$4I.grid.y,$4M);return $4F;};$25.fakeCell=function(){var $X=document.createElement("div");$X.style.display="none";$X.className=$d.$73("_cell");$X.style.position="absolute";$X.style.top="-2000px";$X.style.left="-2000px";var $M=document.createElement("div");$M.className=$d.$73("_cell_inner");$X.appendChild($M);$d.nav.bottomRight.appendChild($X);return $X;};$25.fakeEvent=function($j){$j=$j||"event";var $X=document.createElement("div");$X.style.position="absolute";$X.style.top="-2000px";$X.style.left="-2000px";$X.style.display="none";$X.className=$d.$73("_"+$j);if($j==="event"){var $28=document.createElement("div");$28.className=$d.$73("_event_bar");var $29=document.createElement("div");$29.className=$d.$73("_event_bar_inner");$28.appendChild($29);$X.appendChild($28);};var $M=document.createElement("div");$M.className=$d.$73("_"+$j+"_inner");$X.appendChild($M);var $2b=$d.nav.events.rows[0].cells[0].events;if($j==="alldayevent"){$2b=$d.nav.allday;};$2b.appendChild($X);return $X;};$25.getViewportOffsetTop=function(){var $4H=$25.$9R;switch($4H){case "full":return 0;case "viewport":var scroll=$d.$7Y();return scroll.scrollTop;case "range":var scroll=$d.$7Y();return scroll.scrollTop;}};$25.getWidth=function(){var $4H=$25.$9R;var $3H=$d.nav.top.clientWidth;var $5x=$3H-$d.hourWidth;var $G=$d.$72.length;var $3G=Math.floor($5x/$G)*$G+$d.hourWidth;switch($4H){case "viewport":case "full":case "range":if(typeof $25.$9Q.width==="number"){return $25.$9Q.width;};return $3G;default:throw "Unsupported export mode: "+$4H;}};$25.getHeight=function(){var $4H=$25.$9R;switch($4H){case "full":return $d.$8I()+$d.$7a();case "viewport":return $d.nav.top.offsetHeight-DayPilot.sh($d.nav.scroll)-1;default:throw "Unsupported export mode: "+$4H;}};$25.getRectangles=function(){var $5y=$25.getRowHeaderWidth();var $5z=$d.$7a();var $4I={};$4I.main={"x":0,"y":0,"w":$25.getWidth(),"h":$25.getHeight()};$4I.corner={"x":0,"y":0,"w":$5y,"h":$5z};$4I.grid={"x":$5y,"y":$5z,"w":$25.getWidth()-$5y,"h":$25.getHeight()-$5z};var $1f=$25.innerWidth();var $J=$d.$8I();$4I.gridContent={"x":$5y,"y":$5z,"w":$1f,"h":$J};return $4I;};$25.getRowHeaderWidth=function(){return $d.hourWidth;};$25.innerWidth=function(){var w=$d.$7Y().offsetWidth;var $5A=$d.$72.length;return Math.floor(w/$5A)*$5A;};this.$9S=function(){return !!this.backendUrl;};this.$9T=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw "DayPilot.Calendar: The placeholder element not found: '"+id+"'.";}}else{throw "DayPilot.Calendar() constructor requires the target element or its ID as a parameter";};this.nav.limit;};this.$9U=function(){this.$9T();this.$9J();this.$6H();this.$8B();this.$6L();this.$6M();this.$6P();this.$6S();this.$9q();this.$9v();this.$6v();this.$6T();DayPilotCalendar.register(this);this.$6u();this.$6U();this.$9s();this.$6Z();this.$6g('Init');};this.init=function(){if(this.$6a){throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.")};this.$8y();this.$9T();if(this.nav.top.dp){return;};var $5B=this.$9S();if(!$d.cssOnly){$d.cssOnly=true;DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.");};if($5B){this.$9U();this.$6a=true;return;};this.$9J();this.$6H();this.$6I();if(!this.events.list){this.events.list=[];};this.$6J();this.$8B();this.$6L();this.$6M();this.$6P();this.$6V();this.$6T();this.$6S();this.$9q();this.$9v();this.$6v();DayPilotCalendar.register(this);this.$6K();this.$6W();this.$6X();this.$6u();if(this.messageHTML){this.message(this.messageHTML);};this.$6U();this.$6E(null,false);if($d.initEventEnabled){setTimeout(function(){$d.$6g("Init");});};this.$9s();this.$6Z();this.$6a=true;this.$9V();return this;};this.$9W=null;this.$9M=function($b){if(!$b){return;};var $5C={"events":{"preInit":function(){var $1j=this.data;if(!$1j){return;};if(DayPilot.isArray($1j.list)){$d.events.list=$1j.list;}else{$d.events.list=$1j;}}},"columns":{"preInit":function(){if($d.$6G()===$d.columns){$d.columns=this.data;}else{$d.columns.list=this.data;}}},"scrollToHour":{"postInit":function(){if(typeof this.data!=='undefined'){$d.scrollToHour(this.data);}}}};this.$9W=$5C;for(var name in $b){if($5C[name]){var $1T=$5C[name];$1T.data=$b[name];if($1T.preInit){$1T.preInit();}}else{$d[name]=$b[name];}}};this.$9V=function(){var $5C=this.$9W;for(var name in $5C){var $1T=$5C[name];if($1T.postInit){$1T.postInit();}}};this.internal={};this.internal.initialized=function(){return $d.$6a;};this.internal.invokeEvent=this.$7p;this.internal.eventMenuClick=this.$7D;this.internal.timeRangeMenuClick=this.$7E;this.internal.bubbleCallBack=this.$7B;this.internal.findEventDiv=this.$9G;this.internal.eventDeleteDispatch=this.$7o;this.internal.touch=this.$8v;this.internal.enableReact=function($5D,$5E){$d.$6t.react=$5D;$d.$6t.reactDOM=$5E;};this.internal.reactRefs=function(){return DayPilot.Util.copyProps($d.$6t,{},["react","reactDOM"]);};this.Init=this.init;this.$9M($b);};var DayPilotCalendar={};DayPilotCalendar.topSelectedCell=null;DayPilotCalendar.bottomSelectedCell=null;DayPilotCalendar.column=null;DayPilotCalendar.firstSelected=null;DayPilotCalendar.firstMousePos=null;DayPilotCalendar.originalMouse=null;DayPilotCalendar.originalHeight=null;DayPilotCalendar.originalTop=null;DayPilotCalendar.globalHandlers=false;DayPilotCalendar.editing=false;DayPilotCalendar.originalText=null;DayPilotCalendar.register=function($d){if(!DayPilotCalendar.registered){DayPilotCalendar.registered=[];};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){if(r[i]===$d){return;}};r.push($d);};DayPilotCalendar.unregister=function($d){var a=DayPilotCalendar.registered;if(a){var i=DayPilot.indexOf(a,$d);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.ue(document,'touchmove',DayPilotCalendar.gTouchMove);DayPilot.ue(document,'touchend',DayPilotCalendar.gTouchEnd);DayPilotCalendar.globalHandlers=false;}};DayPilotCalendar.getCellsAbove=function($0d){if($0d.data&&$0d.data.calendar.$66){var $d=$0d.data.calendar;var $r=[];var $5F=$0d.data.y;var x=$0d.data.x;var $5G=DayPilotCalendar.firstSelected.data.y;for(var y=$5F;y>=$5G;y--){$r.push($d.nav.main.rows[y].cells[x]);};return $r;}else{var $r=[];var c=DayPilotCalendar.getColumn($0d);var tr=$0d.parentNode;var $5H=null;while(tr&&$5H!==DayPilotCalendar.firstSelected){$5H=tr.getElementsByTagName("td")[c];$r.push($5H);tr=tr.previousSibling;while(tr&&tr.tagName!=="TR"){tr=tr.previousSibling;}};return $r;}};DayPilotCalendar.getCellsBelow=function($0d){if($0d.data&&$0d.data.calendar.$66){var $d=$0d.data.calendar;var $r=[];var $5F=$0d.data.y;var x=$0d.data.x;var $5G=DayPilotCalendar.firstSelected.data.y;for(var y=$5F;y<=$5G;y++){$r.push($d.nav.main.rows[y].cells[x]);};return $r;}else{var $r=[];var c=DayPilotCalendar.getColumn($0d);var tr=$0d.parentNode;var $5H=null;while(tr&&$5H!==DayPilotCalendar.firstSelected){$5H=tr.getElementsByTagName("td")[c];$r.push($5H);tr=tr.nextSibling;while(tr&&tr.tagName!=="TR"){tr=tr.nextSibling;}};return $r;}};DayPilotCalendar.getColumn=function($0d){var i=0;if(!$0d){return null;}while($0d.previousSibling){$0d=$0d.previousSibling;if($0d.tagName==="TD"){i++;}};return i;};DayPilotCalendar.gTouchMove=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};if(DayPilotCalendar.drag){ev.preventDefault();var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $33={};$33.x=x;$33.y=y;var $d=(function(){var $5I=ev.touches?ev.touches[0].clientX:ev.clientX;var $5J=ev.touches?ev.touches[0].clientY:ev.clientY;var el=document.elementFromPoint($5I,$5J);while(el&&el.parentNode){el=el.parentNode;if(el.daypilotMainD){return el.calendar;}};return false;})();if($d){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;$d.coords=$d.$8v.relativeCoords(ev);if(!DayPilotCalendar.movingShadow&&$d.coords){var $L=$d.$71(DayPilotCalendar.drag,false);if($L){DayPilotCalendar.movingShadow=$L;var $3a=DayPilot.Date.today();var ev={'value':DayPilotCalendar.drag.id,'start':$3a,'end':$3a.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var event=new DayPilot.Event(ev,$d);event.external=true;DayPilot.Global.moving={};DayPilot.Global.moving.event=event;DayPilot.Global.moving.helper={};}};if(DayPilot.Global.moving){$d.$8v.updateMoving();}}else{DayPilot.de(DayPilotCalendar.movingShadow);DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $L=DayPilotCalendar.gShadow;$L.style.left=$33.x+'px';$L.style.top=$33.y+'px';}}};DayPilotCalendar.gTouchEnd=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};DayPilotCalendar.gMouseUp(ev);};DayPilotCalendar.gMouseMove=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $33=DayPilot.mc(ev);if(DayPilotCalendar.drag){var $f=DayPilotCalendar.drag.data;var $5K="move";if(typeof $f.externalCursor==="string"){$5K=$f.externalCursor;};document.body.style.cursor=$5K;if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $L=DayPilotCalendar.gShadow;var $17=5;var x=$33.x-$17;var y=$33.y-$17;$L.style.left=x+'px';$L.style.top=y+'px';$L.style.cursor=$5K;if($f.externalHtml){$L.innerHTML=$f.externalHtml;};if($f.externalCssClass){DayPilot.Util.addClass($L,$f.externalCssClass);};DayPilot.Global.moving=null;DayPilot.de(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;};for(var i=0;i<DayPilotCalendar.registered.length;i++){if(DayPilotCalendar.registered[i].$6x){DayPilotCalendar.registered[i].$6x();}}};DayPilotCalendar.gUnload=function(ev){if(!DayPilotCalendar.registered){return;};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){var c=r[i];DayPilotCalendar.unregister(c);}};DayPilotCalendar.gMouseUp=function(e){var e=e||window.event;if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilot.Global.resizing.style.cursor='default';DayPilot.Global.resizing.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing=null;return;};var $3T=DayPilot.Global.resizing.event;var $0s=DayPilot.Global.resizing.dpBorder;var $J=DayPilotCalendar.resizingShadow.clientHeight;var top=DayPilotCalendar.resizingShadow.offsetTop;var $l=DayPilotCalendar.resizingShadow.args;var $d=$3T.calendar;DayPilot.Global.resizing.style.cursor='default';$d.nav.top.style.cursor='auto';DayPilot.Global.resizing.onclick=null;DayPilot.Global.resizing=null;if(!$l.allowed){return;};$3T.calendar.$7t($3T,$J,top,$0s);}else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper){DayPilot.de(DayPilotCalendar.movingShadow);DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;return;};if(!DayPilotCalendar.movingShadow){DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.moving=null;return;};var $5L=DayPilot.Global.moving.helper.oldColumn;var top=DayPilotCalendar.movingShadow.offsetTop;var $3T=DayPilot.Global.moving.event;var $d=$3T.calendar;$d.$6z=$l;var $0w=DayPilotCalendar.movingShadow.column;var $0D=DayPilotCalendar.drag;DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';var $l=DayPilotCalendar.movingShadow.args;DayPilot.Global.moving=null;if($0D){if(!$3T.calendar.todo){$3T.calendar.todo={};};$3T.calendar.todo.del=$0D.element;};if(!$l.allowed){return;};var ev=e||window.event;$3T.calendar.$7x($3T,$0w,top,ev,$0D);}else if(DayPilot.Global.selecting){var $5M=function(){var $3c=DayPilot.Global.selecting;var $d=DayPilot.Global.selecting.calendar;DayPilotCalendar.firstMousePos=null;DayPilot.Global.selecting=null;if(!$3c.args.allowed){$d.clearSelection();return;};if($d.timeRangeDoubleClickHandling=="Disabled"){var $10=$d.getSelection();$d.$7F($10.start,$10.end,$10.resource);}else{$d.$7R=setTimeout(function(){var $10=$d.getSelection();$d.$7F($10.start,$10.end,$10.resource);},$d.doubleClickTimeout);}};if(DayPilot.Global.selecting&&DayPilotCalendar.topSelectedCell!==null){$5M();}else{DayPilotCalendar.selectedTimeout=setTimeout($5M,100);}}else if(DayPilotCalendar.firstMousePos){var $d=DayPilotCalendar.firstMousePos.calendar;DayPilot.Global.selecting={};DayPilot.Global.selecting.calendar=$d;$d.$7M();if(!DayPilot.Global.selecting.args.allowed){return;};DayPilotCalendar.firstMousePos=null;DayPilot.Global.selecting=null;if($d.timeRangeDoubleClickHandling=="Disabled"){var $10=$d.getSelection();$d.$7F($10.start,$10.end,$10.resource);}else{$d.$7R=setTimeout(function(){var $10=$d.getSelection();$d.$7F($10.start,$10.end,$10.resource);},$d.doubleClickTimeout);}};if(DayPilotCalendar.drag){DayPilotCalendar.drag=null;document.body.style.cursor='';};if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);DayPilotCalendar.gShadow=null;};DayPilotCalendar.moveOffsetY=null;};DayPilotCalendar.dragStart=function(element,$K,id,$2G,$j){DayPilot.us(element);var $0D=DayPilotCalendar.drag={};$0D.element=element;$0D.duration=$K;$0D.text=$2G;$0D.id=id;$0D.shadowType=$j?$j:'Fill';$0D.data={"id":id,"text":$2G,"duration":$K,"externalHtml":$2G};return false;};DayPilot.Calendar.makeDraggable=function($b){var element=$b.element;var $5N=$b.keepElement?null:element;var $K=$b.duration||1;if(navigator.msPointerEnabled){element.style.msTouchAction="none";element.style.touchAction="none";};var $5O=function(ev){startDragging();var element=(ev.target||ev.srcElement);if(element.tagName){var $5P=element.tagName.toLowerCase();if($5P==="textarea"||$5P==="select"||$5P==="input"){return false;}};ev.preventDefault&&ev.preventDefault();return false;};var $5Q=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};var $3S=0;window.setTimeout(function(){startDragging();DayPilotCalendar.gTouchMove(ev);ev.preventDefault();},$3S);ev.preventDefault();};function startDragging(){var $0D=DayPilotCalendar.drag={};$0D.element=$5N;$0D.id=$b.id;$0D.duration=$b.duration||60;$0D.text=$b.text||"";$0D.data=$b;$0D.shadowType="Fill";};DayPilot.us(element);DayPilot.re(element,"mousedown",$5O);DayPilot.re(element,DayPilot.touch.start,$5Q);element.cancelDraggable=function(){DayPilot.ue(element,"mousedown",$5O);DayPilot.ue(element,DayPilot.touch.start,$5Q);delete element.cancelDraggable;};};DayPilotCalendar.createGShadow=function($j){var $L=document.createElement('div');$L.setAttribute('unselectable','on');$L.style.position='absolute';$L.style.width='100px';$L.style.height='20px';$L.style.border='2px dotted #666666';$L.style.zIndex=$a;$L.style.pointerEvents="none";if($j==='Fill'){$L.style.backgroundColor="#aaaaaa";$L.style.opacity=0.5;$L.style.filter="alpha(opacity=50)";$L.style.border='2px solid #aaaaaa';};document.body.appendChild($L);return $L;};DayPilotCalendar.moveShadow=function($p){var $L=DayPilotCalendar.movingShadow;if($L.parentNode){$L.parentNode.removeChild($L);};$p.firstChild.appendChild($L);$L.style.left='0px';$L.style.width='';$L.style.right='0px';};DayPilot.Column=function($0X,$d){var $p=this;$p.id=$0X.id;$p.name=$0X.name;$p.date=new DayPilot.Date($0X.start);$p.calendar=$d;$p.events={};$p.events.all=function(){var $1m=DayPilot.list();for(var i=0;i<$0X.events.length;i++){$1m.push($0X.events[i]);};return $1m;};$p.events.isEmpty=function(){return $0X.events.length===0;};$p.events.forRange=function($0b,end){$0b=new DayPilot.Date($0b);end=end?new DayPilot.Date(end):$0X.visibleEnd();var $t=DayPilot.list();for(var i=0;i<$p.events.length;i++){var ev=$p.events[i];if(DayPilot.Util.overlaps(ev.start(),ev.end(),$0b,end)){$t.push(ev);}};return $t;};$p.events.totalDuration=function(){var $40=0;$p.events.all().forEach(function($1T){$40+=$1T.part.end.getTime()-$1T.part.start.getTime();});return new DayPilot.Duration($40);};$p.value=$0X.id;$p.toJSON=function(){var $0a={};$0a.id=this.id;if(this.date){$0a.date=this.date.toString();};$0a.name=this.name;$0a.value=this.value;return $0a;};};if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotCalendar=function($b){var $0S=null;var j=this.each(function(){if(this.daypilot){return;};var $5R=new DayPilot.Calendar(this.id,$b);$5R.init();this.daypilot=$5R;if(!$0S){$0S=$5R;}});if(this.length===1){return $0S;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $5S=DayPilot.am();if(!$5S){return;};$5S.directive("daypilotCalendar",['$parse',function($5T){return{"restrict":"E","template":"<div id='{{id}};'></div>","compile":function compile(element,$5U){element.replaceWith(this["template"].replace("{{id}};",$5U["id"]));return function link($5V,element,$5U){var $d=new DayPilot.Calendar(element[0]);$d.$9H.scope=$5V;$d.init();var $5W=$5U["id"];if($5W){$5V[$5W]=$d;};var $5X=$5U["publishAs"];if($5X){var getter=$5T($5X);var setter=getter.assign;setter($5V,$d);};for(var name in $5U){if(name.indexOf("on")===0){var $5Y=DayPilot.Util.shouldApply(name);if($5Y){(function(name){$d[name]=function($l){var f=$5T($5U[name]);$5V["$apply"](function(){f($5V,{"args":$l});});};})(name);}else{(function(name){$d[name]=function($l){var f=$5T($5U[name]);f($5V,{"args":$l});};})(name);}}};var $5Z=$5V["$watch"];var $3r=$5U["config"]||$5U["daypilotConfig"];var $1j=$5U["events"]||$5U["daypilotEvents"];$5Z.call($5V,$3r,function($60,$61){for(var name in $60){$d[name]=$60[name];};$d.update();},true);$5Z.call($5V,$1j,function($60){$d.events.list=$60;$d.$8h({"eventsOnly":true});},true);};}};}]);})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})(DayPilot);


